

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#fdfdfd">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
  <title>MysqlåŸºç¡€è¯­æ³• - Herlo&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->

  
<link rel="stylesheet" href="/css/mycss.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 50vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Herlo's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                
                Category
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                
                Links
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/bg.svg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="MysqlåŸºç¡€è¯­æ³•">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-08-26 13:04" pubdate>
        2021å¹´8æœˆ26æ—¥ ä¸‹åˆ
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.4k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      63
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MysqlåŸºç¡€è¯­æ³•</h1>
            
            <div class="markdown-body">
              <h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p><strong>brewå®‰è£…Mysql</strong></p>
<div class="code-wrapper"><pre><code class="hljs no">lihan@LideMacBook-Air ~ % brew install mysql
==&gt; Installing mysql
==&gt; Summary
ğŸº  /opt/homebrew/Cellar/mysql/8.0.26: 303 files, 296.7MB
==&gt; mysql
We&#x27;ve installed your MySQL database without a root password. To secure it run:
    mysql_secure_installation

MySQL is configured to only allow connections from localhost by default

To connect run:
    mysql -uroot

To have launchd start mysql now and restart at login:
  brew services start mysql
Or, if you don&#x27;t want/need a background service you can just run:
  mysql.server start
lihan@LideMacBook-Air ~ % mysql.server start
Starting MySQL
.. SUCCESS! 
lihan@LideMacBook-Air ~ % mysql_secure_installation

Securing the MySQL server deployment.

Connecting to MySQL using a blank password.

VALIDATE PASSWORD COMPONENT can be used to test passwords
and improve security. It checks the strength of password
and allows the users to set only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD component?

Press y|Y for Yes, any other key for No: y

There are three levels of password validation policy:

LOW    Length &gt;= 8
MEDIUM Length &gt;= 8, numeric, mixed case, and special characters
STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary                  file

Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2
Please set the password for root here.

New password: 

Re-enter new password: 

Estimated strength of the password: 100 
Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y
By default, a MySQL installation has an anonymous user,
allowing anyone to log into MySQL without having to have
a user account created for them. This is intended only for
testing, and to make the installation go a bit smoother.
You should remove them before moving into a production
environment.

Remove anonymous users? (Press y|Y for Yes, any other key for No) : y
Success.


Normally, root should only be allowed to connect from
&#x27;localhost&#x27;. This ensures that someone cannot guess at
the root password from the network.

Disallow root login remotely? (Press y|Y for Yes, any other key for No)  n    
 ... skipping.
By default, MySQL comes with a database named &#x27;test&#x27; that
anyone can access. This is also intended only for testing,
and should be removed before moving into a production
environment.


Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y
 - Dropping test database...
Success.

 - Removing privileges on test database...
Success.

Reloading the privilege tables will ensure that all changes
made so far will take effect immediately.

Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y
Success.

All done! 
lihan@LideMacBook-Air ~ % mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 11
Server version: 8.0.26 Homebrew

Copyright (c) 2000, 2021, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.

mysql&gt; exit;
Bye</code></pre></div>
<p><strong>å»ºç«‹æ•°æ®åº“</strong></p>
<div class="code-wrapper"><pre><code class="hljs no">é“¾æ¥ï¼šhttps://pan.baidu.com/s/1xDsDWFLiRITYTT6HoFb7Tw 
æå–ç ï¼šs5iz</code></pre></div>
<p>æ³¨æ„å­˜æ”¾ä½ç½®å¦‚æœæœ‰ä¸­æ–‡è·¯å¾„å¯èƒ½ä¼šåœ¨ä¹‹åæŠ¥<code>error 2</code>é”™è¯¯</p>
<p>åœ¨<code>source</code>åç›´æ¥æ‹–å…¥<code>sql</code>æ–‡ä»¶å³å¯</p>
<div class="code-wrapper"><pre><code class="hljs no">mysql&gt; create database mydatabase;
Query OK, 1 row affected (0.01 sec)

mysql&gt; use mydatabase
Database changed
mysql&gt; source /Users/lihan/Desktop/summer/create-databases.sql 
Query OK, 0 rows affected, 1 warning (0.00 sec)
....
mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mydatabase         |
| mysql              |
| performance_schema |
| sql_hr             |
| sql_inventory      |
| sql_invoicing      |
| sql_store          |
| sys                |
+--------------------+
9 rows in set (0.00 sec)

mysql&gt; drop database mydatabase;
Query OK, 0 rows affected (0.01 sec)</code></pre></div>
<h1 id="å•è¡¨æ£€ç´¢"><a href="#å•è¡¨æ£€ç´¢" class="headerlink" title="å•è¡¨æ£€ç´¢"></a>å•è¡¨æ£€ç´¢</h1><ul>
<li>Mysqlå¤§å°å†™ä¸åˆ†ï¼Œå»ºè®®å¤§å†™å…³é”®å­—ï¼Œå°å†™å…¶ä»–å†…å®¹</li>
<li>åœ¨è¡Œå‰ä½¿ç”¨<code>--</code>è¡¨ç¤ºæ³¨é‡Š</li>
<li>æ¯ä¸ªè¯­å¥åä½¿ç”¨<code>;</code>è¡¨ç¤ºç»“æŸ</li>
<li>å¯ä»¥ä½¿ç”¨ç®—æœ¯è¡¨è¾¾å¼</li>
<li>å¯ä»¥ä½¿ç”¨<code>AS</code>å…³é”®å­—ä¸ºåˆ—å–åˆ«å</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name, point <span class="hljs-operator">*</span> <span class="hljs-number">10</span> <span class="hljs-operator">+</span> <span class="hljs-number">100</span> <span class="hljs-keyword">AS</span> `discount_factor`
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-comment">-- WHERE custom_id = 1</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> first_name;</code></pre></div>
<ul>
<li><code>DISTINCT</code>å¯ä»¥åˆ é™¤é‡å¤é¡¹ï¼Œ <em>é‡å¤</em>æ˜¯ä»¥åˆ—çš„ç»„åˆåˆ¤æ–­çš„ï¼Œ<code>DISTINCT</code>å¿…é¡»æ”¾åœ¨å¼€å¤´</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> state 
<span class="hljs-keyword">FROM</span> customers;</code></pre></div>
<ul>
<li><code>WHERE</code>ä¸­å¯¹äºæ–‡æœ¬éœ€è¦ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·ï¼Œæ–‡æœ¬å¤§å°å†™ä¸æ•æ„Ÿ</li>
<li>æ³¨æ„æ­¤å¤„çš„<code>Customers</code>ä¸<code>va</code>å‡å¤§å°å†™ä¸æ•æ„Ÿ</li>
<li><code>!=</code> ï¼Œ<code>&lt;&gt;</code>å‡æ„ä¸ºä¸ç­‰äº</li>
<li>æ—¥æœŸç±»å‹æ•°æ®ä¹Ÿéœ€ä½¿ç”¨å¼•å·</li>
<li>å¯ä»¥ä½¿ç”¨<code>AND</code>ï¼Œ<code>OR</code>ï¼Œ<code>NOT</code>åˆ›å»ºå¤åˆæ¡ä»¶è¯­å¥</li>
<li>æ¡ä»¶è¯­å¥ä¸­å¯ä»¥ä½¿ç”¨ç®—æ•°è¡¨è¾¾å¼</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> Customers
<span class="hljs-keyword">WHERE</span> state <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;va&#x27;</span> 
			<span class="hljs-keyword">AND</span> birth_data <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;1990-01-01&#x27;</span>;</code></pre></div>
<ul>
<li><code>IN</code>å…³é”®å­—åˆ¤æ–­æ˜¯å¦åœ¨é›†åˆä¸­</li>
<li><code>BETWEEN</code>å…³é”®å­—åˆ¤æ–­æ˜¯å¦åœ¨é—­åŒºé—´å†…</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> state <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;VA&#x27;</span>, <span class="hljs-string">&#x27;FL&#x27;</span>) 
			<span class="hljs-keyword">AND</span> points <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">1000</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">2000</span>;</code></pre></div>
<ul>
<li><code>LIKE</code>å…³é”®å­—ç”¨äºæ–‡æœ¬æ¨¡ç³ŠåŒ¹é…å¸¸ç”¨çš„æœ‰ï¼š<code>_</code>å•ä¸€å­—ç¬¦ï¼Œ<code>%</code>ä»»æ„æ•°ç›®å­—ç¬¦</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> last_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%field%&#x27;</span>;</code></pre></div>
<ul>
<li><code>REGEXP</code>å…³é”®å­—ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ¨¡ç³ŠåŒ¹é…</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> last_name REGEXP <span class="hljs-string">&#x27;field&#x27;</span>;</code></pre></div>
<ul>
<li><code>NULL</code>è¡¨ç¤ºç©ºå€¼</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> phone <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;</code></pre></div>
<ul>
<li>ç»“æœé›†é»˜è®¤ä»¥ä¸»é”®ä¸ºæ ‡å‡†è¿›è¡Œç”Ÿåºæ’åºï¼Œä½¿ç”¨<code>ORDER BY</code>å…³é”®å­—å¯ä»¥ä½¿ç”¨å…¶ä»–åˆ—ä¸ºæ ‡å‡†æ’åº</li>
<li>é»˜è®¤å‡åºæ’åºï¼Œä½¿ç”¨<code>DESC</code>è¿›è¡Œé™åºæ’åº</li>
<li>å¯ä»¥ä½¿ç”¨å¤šä¸ªæ’åºè§„åˆ™ï¼Œè¶Šé å‰ä¼˜å…ˆçº§è¶Šé«˜</li>
<li>Mysqlä¸­å…è®¸ç”¨äºæ’åºçš„åˆ—ä¸æ˜¯ç»“æœé›†çš„åˆ—</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> state <span class="hljs-keyword">DESC</span>, first_name <span class="hljs-keyword">DESC</span>;</code></pre></div>
<ul>
<li><code>LIMIT</code>å…³é”®å­—ç”¨äºé™åˆ¶ç»“æœé›†å¤§å°ï¼Œå¯ç”¨äºç½‘ç«™åˆ†é¡µ</li>
<li><code>LIMIT 3</code>ä»£è¡¨ç»“æœé›†å¤§å°ä¸º3ï¼Œ<code>LIMIT 6, 3</code>ä»£è¡¨è·³è¿‡6è¡Œå–3è¡Œ</li>
<li>æ³¨æ„<code>WHERE</code>ï¼Œ<code>ORDER BY</code>ï¼Œ<code>LIMIT</code>åœ¨è¯­å¥ä¸­å‡ºç°çš„å…ˆåé¡ºåº</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> state <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;va&#x27;</span> 
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> points <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">3</span>;</code></pre></div>
<h1 id="å¤šè¡¨æ£€ç´¢"><a href="#å¤šè¡¨æ£€ç´¢" class="headerlink" title="å¤šè¡¨æ£€ç´¢"></a>å¤šè¡¨æ£€ç´¢</h1><ul>
<li><code>JOIN</code>é»˜è®¤ä»£è¡¨å†…è¿æ¥å³ <code>INNER JOIN</code></li>
<li>å¯ä»¥ä¸ºè¡¨å–åˆ«å</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> o.customer_id
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers
		 <span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> customer.customer_id;</code></pre></div>
<ul>
<li>å¯ä»¥å¯¹ä¸åŒæ•°æ®åº“çš„è¡¨è¿›è¡Œè¿æ¥</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> order_items oi
<span class="hljs-keyword">JOIN</span> sql_inventory.products p
		 <span class="hljs-keyword">ON</span> oi.product_id <span class="hljs-operator">=</span> p.product_id;</code></pre></div>
<ul>
<li>è¡¨ä¹Ÿå¯ä»¥ä¸è‡ªèº«è¿›è¡Œè¿æ¥ï¼Œç§°ä¸ºè‡ªè¿æ¥</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> e.employee_id,
			 e.first_name,
			 m.first_nam
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">JOIN</span> employees m
		 <span class="hljs-keyword">WHERE</span> e.reports_to <span class="hljs-operator">=</span> m.employee_id;</code></pre></div>
<ul>
<li><code>JOIN</code>å¤šæ¬¡ä½¿ç”¨å¯ä»¥å¤šè¡¨è¿æ¥</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers c
<span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id
<span class="hljs-keyword">JOIN</span> order_statuses os
<span class="hljs-keyword">ON</span> o.status <span class="hljs-operator">=</span> os.order_status_id;</code></pre></div>
<ul>
<li><code>AND</code>åˆ›å»ºå¤åˆè¿æ¥æ¡ä»¶</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> order_items oi
<span class="hljs-keyword">JOIN</span> order_items_notes oin
		<span class="hljs-keyword">ON</span> oi.order_id <span class="hljs-operator">=</span> oin.order_id
		<span class="hljs-keyword">AND</span> oi.product_id <span class="hljs-operator">=</span> oin.product_id;</code></pre></div>
<ul>
<li>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨æ˜¾å¼è¿æ¥ï¼ˆç¬¬ä¸€å¥ï¼‰è€Œä¸æ˜¯éšå¼è¿æ¥ï¼ˆç¬¬äºŒå¥ï¼‰</li>
<li>æ˜¾å¼è¿æ¥ä¸åŠ <code>ON</code>æŒ‡åè¿æ¥æ¡ä»¶æˆ–éšå¼è¿æ¥ä¸åŠ <code>WHERE</code>ï¼Œçš„æ—¶å€™ç§°ä¸ºäº¤å‰è¿æ¥ï¼Œè¿”å›ç¬›å¡å°”ç§¯çš„ç»“æœ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers c
		<span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id;
		
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o, customers c
<span class="hljs-keyword">WHERE</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id;

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o, customers c;</code></pre></div>
<ul>
<li><code>LEFT JOIN</code>å·¦å¤–è¿æ¥è¡¨ç¤ºæ‰€æœ‰å·¦è¡¨çš„è®°å½•éƒ½ä¼šè¿”å›ï¼Œå¦‚æœå³è¡¨æ²¡æœ‰ç›¸åŒ¹é…çš„ç»“æœï¼Œå¯¹åº”ä½ç½®ç½®ä¸ºNULL</li>
<li><code>OUTER</code>å…³é”®å­—ä¸€èˆ¬çœå»</li>
<li>ä¸ºä½¿å¾—è¯­å¥æ¸…æ™°ï¼Œå¤–è¿æ¥å°½é‡ä½¿ç”¨å·¦è¿æ¥</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers c
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> orders o
		<span class="hljs-keyword">ON</span> c.customer_id <span class="hljs-operator">=</span> o.customer_id;</code></pre></div>
<ul>
<li>å¤šè¡¨è¿æ¥æ—¶å€™ï¼Œåˆ¤æ–­å·¦å³è¡¨å…³ç³»ä¼¼ä¹æ˜¯æŒ‰ç…§<code>ON</code>æ¥çš„ï¼Œæœ‰å¾…è¡¥å……</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers c
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> orders o
		<span class="hljs-keyword">ON</span> c.customer_id <span class="hljs-operator">=</span> o.customer_id
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> shippers sh
		<span class="hljs-keyword">ON</span> o.shipper_id <span class="hljs-operator">=</span> sh.shipper_id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> c.customer_id;</code></pre></div>
<ul>
<li>å’Œå†…è¿æ¥ç±»ä¼¼ï¼Œå¤–è¿æ¥ä¹Ÿå¯ä»¥è‡ªè¿æ¥</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> employees m
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> emplyees m
		<span class="hljs-keyword">ON</span> e.reports_to <span class="hljs-operator">=</span> m.emplyee_id;</code></pre></div>
<ul>
<li>å½“ä¸¤ä¸ªè¡¨çš„åˆ—åå®Œå…¨ä¸€æ ·æ—¶ï¼Œä½¿ç”¨<code>USING</code>ç®€åŒ–ï¼Œ<code>USING</code>åŒæ ·é€‚ç”¨äºæœ‰å¤šä¸ªåˆ—ä½œä¸ºé”®ç çš„æƒ…å†µ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers c
		<span class="hljs-comment">-- ON o.customer_id = c.customer_id</span>
		<span class="hljs-keyword">USING</span> (customer_id);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> order_items oi
<span class="hljs-keyword">JOIN</span> order_items_notes oin
		<span class="hljs-comment">-- ON oi.order_id = oin.order_id</span>
		<span class="hljs-comment">-- AND oi.product_id = oin.product_id;</span>
		<span class="hljs-keyword">USING</span> (order_id, product_id);</code></pre></div>
<ul>
<li><code>NATURAL JOIN</code>è‡ªç„¶è¿æ¥ï¼Œä½¿ç”¨åŒåçš„å±æ€§ç»„ï¼Œå¹¶ä¸”åœ¨ç»“æœä¸­æŠŠé‡å¤çš„å±æ€§åˆ—å»æ‰ï¼Œä¸å»ºè®®ä½¿ç”¨</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> customers c;</code></pre></div>
<ul>
<li><code>CROSS JOIN</code>äº¤å‰è¿æ¥ï¼Œè¿”å›ç¬›å¡å°”ç§¯ï¼Œå³æ‰€æœ‰çš„ç»„åˆç»“æœ</li>
<li>ç¬¬ä¸€å¥ä¸ºæ˜¾å¼å†™æ³•ï¼Œç¬¬äºŒå¥ä¸ºéšå¼å†™æ³•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span> customers c;

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o, customers c;</code></pre></div>
<ul>
<li><code>UNION</code>è”åˆæŸ¥è¯¢ç»“æœï¼Œä¸¤æ¬¡<code>SELECT</code>å¿…é¡»æœ‰ç›¸åŒçš„å±æ€§æ•°ï¼Œå±æ€§åä»¥ç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¸ºä¸»è¿›è¡Œæ•´åˆ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name
<span class="hljs-keyword">FROM</span> archived_orders
<span class="hljs-keyword">UNION</span>
<span class="hljs-keyword">SELECT</span> name
<span class="hljs-keyword">FROM</span> orders;</code></pre></div>
<h1 id="æ’å…¥ã€æ›´æ–°ã€åˆ é™¤"><a href="#æ’å…¥ã€æ›´æ–°ã€åˆ é™¤" class="headerlink" title="æ’å…¥ã€æ›´æ–°ã€åˆ é™¤"></a>æ’å…¥ã€æ›´æ–°ã€åˆ é™¤</h1><ul>
<li><code>INSERT INTO</code>æ’å…¥å•è¡Œ</li>
<li><code>DEFAULT</code>å¯ç”¨äºå­˜åœ¨é»˜è®¤å€¼æˆ–é€’å¢çš„å±æ€§</li>
<li><code>NULL</code>å¯ç”¨äºå…è®¸ç©ºå€¼çš„å±æ€§</li>
<li>å¯ä»¥æŒ‡å®šè¦æ’å…¥çš„åˆ—</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> customers
<span class="hljs-keyword">VALUES</span> (
  	<span class="hljs-keyword">DEFAULT</span>, 
  	<span class="hljs-string">&#x27;John&#x27;</span>, 
  	<span class="hljs-string">&#x27;Smith&#x27;</span>, 
  	<span class="hljs-keyword">NULL</span>,
		<span class="hljs-string">&#x27;address&#x27;</span>,
		<span class="hljs-string">&#x27;city&#x27;</span>,
		<span class="hljs-string">&#x27;CA&#x27;</span>,
		<span class="hljs-number">200</span>);

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> customers (
		first_name,
		last_name,
		birth_date,
		address,
		city,
		state)
<span class="hljs-keyword">VALUES</span> (
  	<span class="hljs-string">&#x27;John&#x27;</span>, 
  	<span class="hljs-string">&#x27;Smith&#x27;</span>, 
  	<span class="hljs-string">&#x27;1990-01-01&#x27;</span>,
		<span class="hljs-string">&#x27;address&#x27;</span>,
		<span class="hljs-string">&#x27;city&#x27;</span>,
		<span class="hljs-string">&#x27;CA&#x27;</span>);</code></pre></div>
<ul>
<li>ä½¿ç”¨<code>VALUES</code>ä¹Ÿå¯ä»¥ä¸€æ¬¡æ’å…¥å¤šè¡Œ</li>
<li>åœ¨åˆ é™¤ä¸€äº›è¡Œçš„æƒ…å†µä¸‹ï¼Œè‡ªå¢çš„å±æ€§å€¼ä¾ç„¶ä¼šè®°ä½ä»–ä»¬ï¼Œå³å‡ºç°é€’å¢å±æ€§ä¸è¿ç»­</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> shippers (name)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;Shipper1&#x27;</span>),
			 (<span class="hljs-string">&#x27;Shipper2&#x27;</span>),
			 (<span class="hljs-string">&#x27;Shipper3&#x27;</span>);</code></pre></div>
<ul>
<li><code>LAST_INSERT_TO()</code>è·å¾—æœ€æ–°æ‰§è¡ŒæˆåŠŸçš„<code>INSERT</code>è¯­å¥çš„è‡ªå¢id</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> orders (customer_id, order_date, status)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;2019-01-01&#x27;</span>, <span class="hljs-number">1</span>);

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> order_items
<span class="hljs-keyword">VALUES</span> 
    (last_insert_id(), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2.5</span>),
    (last_insert_id(), <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1.5</span>);</code></pre></div>
<ul>
<li><code>CREATE TABLE</code>å¯ä»¥é€šè¿‡<code>SELECT</code>è¯­å¥åˆ›å»ºåŸºäºæŸ¥è¯¢çš„å¤åˆ¶è¡¨ï¼Œå±æ€§ä¸å†æ‹¥æœ‰è‡ªå¢ï¼Œä¸»é”®ç­‰æ€§è´¨</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders_archived <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders;</code></pre></div>
<ul>
<li><code>UPDATE</code>å…³é”®å­—å¯ç”¨äºæ›´æ–°è¡¨ä¸­çš„æŸäº›è¡Œ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql">UPDATE invoices
<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span> <span class="hljs-operator">*</span> invoice_total, 
    payment_date <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;2019-01-01&#x27;</span>
<span class="hljs-keyword">WHERE</span> invoice_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;</code></pre></div>
<ul>
<li><code>UPDATE</code>æ“ä½œä¹Ÿå¯ä»¥ç»“åˆå­æŸ¥è¯¢ä½¿ç”¨</li>
<li>å­æŸ¥è¯¢æ·»åŠ æ‹¬å·ç¡®ä¿å…ˆæ‰§è¡Œ</li>
<li>å­æŸ¥è¯¢è¿”å›å¤šä¸ªæ•°æ®æ—¶åº”ä½¿ç”¨<code>IN</code>å…³é”®å­—</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql">UPDATE invoices
<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">567</span>, 
		payment_date <span class="hljs-operator">=</span> due_date
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> 
            (<span class="hljs-keyword">SELECT</span> client_id 
            <span class="hljs-keyword">FROM</span> clients
            <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Yadel&#x27;</span>);

UPDATE invoices
<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">567</span>, 
		payment_date <span class="hljs-operator">=</span> due_date
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> 
            (<span class="hljs-keyword">SELECT</span> client_id 
            <span class="hljs-keyword">FROM</span> clients
            <span class="hljs-keyword">WHERE</span> state <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;CA&#x27;</span>, <span class="hljs-string">&#x27;NY&#x27;</span>));</code></pre></div>
<ul>
<li><code>DELETE</code>å…³é”®å­—ç”¨äºåˆ é™¤</li>
<li><code>WHERE</code>å¯é€‰ï¼Œçœç•¥å°†åˆ é™¤è¡¨çš„æ‰€æœ‰è®°å½•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> 
            (<span class="hljs-keyword">SELECT</span> client_id  
            <span class="hljs-keyword">FROM</span> clients
            <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Myworks&#x27;</span>);</code></pre></div>
<h1 id="æ±‡æ€»æ•°æ®"><a href="#æ±‡æ€»æ•°æ®" class="headerlink" title="æ±‡æ€»æ•°æ®"></a>æ±‡æ€»æ•°æ®</h1><ul>
<li>Mysqlå†…ç½®æœ‰<code>MAX()</code>ï¼Œ<code>MIN()</code>ï¼Œ<code>AVG()</code>ï¼Œ<code>SUM()</code>ï¼Œ<code>COUNT()</code>ç­‰èšåˆå‡½æ•°</li>
<li>èšåˆå‡½æ•°ä¸ä»…å¯ä»¥ç”¨äºåˆ—ï¼Œä¹Ÿå¯ä»¥ç”¨äºè¡¨è¾¾å¼</li>
<li>èšåˆå‡½æ•°ä¼šå¿½ç•¥ç©ºå€¼ï¼Œå¯¹äº<code>COUNT()</code>å‡½æ•°éœ€è¦æ³¨æ„</li>
<li><code>COUNT(*)</code>ä¸ä¼šå¿½ç•¥ç©ºå€¼ï¼Œ<code>*</code>è¡¨ç¤ºå…¨éƒ¨æ•°æ®</li>
<li>å¯ä»¥ä½¿ç”¨<code>DISTINCT</code>ç­›æ‰åˆ—çš„é‡å¤å€¼</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    <span class="hljs-built_in">MAX</span>(invoice_date) <span class="hljs-keyword">AS</span> latest_date,  
    <span class="hljs-built_in">MIN</span>(invoice_total) lowest,
    <span class="hljs-built_in">AVG</span>(invoice_total) average,
    <span class="hljs-built_in">SUM</span>(invoice_total <span class="hljs-operator">*</span> <span class="hljs-number">1.1</span>) total,
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) total_records,
    <span class="hljs-built_in">COUNT</span>(invoice_total) number_of_invoices, 
    <span class="hljs-built_in">COUNT</span>(payment_date) number_of_payments,  
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> client_id) number_of_distinct_clients
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_date <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;2019-07-01&#x27;</span>;</code></pre></div>
<ul>
<li><code>GROUP BY</code>é…åˆèšåˆå‡½æ•°ä½¿ç”¨ï¼Œè¿›è¡Œåˆ†ç»„ç»Ÿè®¡</li>
<li>æ³¨æ„<code>WHERE</code>ï¼Œ<code>GROUP BY</code>ï¼Œ<code>ORDER BY</code>çš„å…ˆåé¡ºåº</li>
<li><code>GROUP BY</code>ä¹Ÿå¯ä»¥å¤šåˆ—ç»„åˆä¸ºä¾æ®åˆ†ç»„ï¼Œé€—å·åˆ†éš”å³å¯</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,  
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_date <span class="hljs-operator">&gt;=</span> <span class="hljs-string">&#x27;2019-07-01&#x27;</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> total_sales <span class="hljs-keyword">DESC</span>;

<span class="hljs-keyword">SELECT</span> 
    state,
    city,
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">JOIN</span> clients <span class="hljs-keyword">USING</span> (client_id) 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> state, city  
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> state;</code></pre></div>
<ul>
<li><code>HAVING</code>å…³é”®å­—å¯¹<code>SELECT</code>åçš„ç»“æœåˆ—è¿›è¡Œäº‹åç­›é€‰ï¼Œé€šå¸¸ç”¨äºåˆ†ç»„èšåˆåæŸ¥è¯¢</li>
<li><code>HAVING</code>å’Œ <code>WHERE</code> éƒ½æ˜¯æ˜¯æ¡ä»¶ç­›é€‰è¯­å¥ï¼Œæ¡ä»¶å†™æ³•ç›¸é€š</li>
<li><code>HAVING</code>ä½¿ç”¨ç»“æœåˆ—æ˜ï¼Œ<code>WHERE</code>ä½¿ç”¨åŸè¡¨åˆ—å</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales,
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span><span class="hljs-operator">/</span>invoice_total<span class="hljs-operator">/</span>invoice_date) <span class="hljs-keyword">AS</span> number_of_invoices
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
<span class="hljs-keyword">HAVING</span> total_sales <span class="hljs-operator">&gt;</span> <span class="hljs-number">500</span> <span class="hljs-keyword">AND</span> number_of_invoices <span class="hljs-operator">&gt;</span> <span class="hljs-number">5</span>;</code></pre></div>
<ul>
<li>Mysqlæä¾›äº†<code>ROLLUP</code>è¿ç®—ç¬¦å¯¹èšåˆå€¼è¿›è¡Œæ±‡æ€»ï¼Œå¦‚ä¸‹å°†è¿”å›å„å®¢æˆ·çš„å‘ç¥¨æ€»é¢ä»¥åŠæ‰€æœ‰äººçš„æ€»å‘ç¥¨é¢</li>
<li><code>ROLLUP</code>ä¸æ˜¯æ ‡å‡†çš„SQLè¯­è¨€</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,
    <span class="hljs-built_in">SUM</span>(invoice_total)
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div>
<ul>
<li>å½“<code>GROUP BY</code>å–å¤šåˆ—æ—¶ï¼Œ<code>ROLLUP</code>å¯ä»¥è¿›è¡Œå¤šå±‚æ±‡æ€»</li>
<li>ä¸‹é¢å°†è¿”å›å„å·çš„å„å¸‚çš„å‘ç¥¨æ€»é¢ä»¥åŠå·å±‚æ¬¡å’Œå…¨å›½å±‚æ¬¡çš„æ±‡æ€»é¢</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    state,
    city,
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">JOIN</span> clients <span class="hljs-keyword">USING</span> (client_id) 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> state, city <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div>
<ul>
<li>ä½¿ç”¨<code>ROLLUP</code>æ—¶ï¼Œ<code>GROUP BY</code>ä¸èƒ½ä½¿ç”¨åˆ—åˆ«å</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    pm.name <span class="hljs-keyword">AS</span> payment_method,
    <span class="hljs-built_in">SUM</span>(amount) <span class="hljs-keyword">AS</span> total
<span class="hljs-keyword">FROM</span> payments p
<span class="hljs-keyword">JOIN</span> payment_methods pm
    <span class="hljs-keyword">ON</span> p.payment_method <span class="hljs-operator">=</span> pm.payment_method_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> pm.name <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div>
<h1 id="ç¼–å†™å¤æ‚æŸ¥è¯¢"><a href="#ç¼–å†™å¤æ‚æŸ¥è¯¢" class="headerlink" title="ç¼–å†™å¤æ‚æŸ¥è¯¢"></a>ç¼–å†™å¤æ‚æŸ¥è¯¢</h1><ul>
<li>Mysqlå°†å…ˆæ‰§è¡Œæ‹¬å·å†…çš„å­æŸ¥è¯¢ï¼Œä¹‹åå°†ç»“æœè¿”å›ç»™å¤–æŸ¥è¯¢</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> unit_price <span class="hljs-operator">&gt;</span> (
    <span class="hljs-keyword">SELECT</span> unit_price
    <span class="hljs-keyword">FROM</span> products
    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> product_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> product_id
    <span class="hljs-keyword">FROM</span> order_items
);</code></pre></div>
<ul>
<li>å­æŸ¥è¯¢å°†ä¸€å¼ è¡¨çš„æŸ¥è¯¢ç»“æœä½œä¸ºå¦ä¸€å¼ è¡¨çš„æŸ¥è¯¢ä¾æ®å¹¶å±‚å±‚åµŒå¥—ï¼›é“¾æ¥å°†è¿™äº›è¡¨åˆå¹¶æˆä¸€ä¸ªåŒ…å«æ‰€éœ€å…¨éƒ¨ä¿¡æ¯çš„è¯¦æƒ…è¡¨å†ç›´æ¥åœ¨è¯¦æƒ…è¡¨é‡Œç­›é€‰æŸ¥è¯¢ï¼›ä¸¤ç§æ–¹æ³•ä¸€èˆ¬æ˜¯å¯äº’æ¢çš„ï¼Œå…·ä½“ç”¨å“ªä¸€ç§å–å†³äºæ•ˆç‡å’Œå¯è¯»æ€§</li>
<li>ä¾‹ï¼šæŸ¥æ‰¾ä»æœªè®¢è´­è¿‡çš„é¡¾å®¢ï¼Œä¸‹é¢ä¸¤ç§æ–¹æ³•å‡å¯è¾¾åˆ°æ•ˆæœ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> invoices <span class="hljs-keyword">USING</span> (client_id)
<span class="hljs-keyword">WHERE</span> invoices_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;</code></pre></div>
<ul>
<li>ä¾‹ï¼šé€‰å‡ºä¹°è¿‡ç”Ÿèœï¼ˆid = 3ï¼‰çš„é¡¾å®¢çš„idï¼Œå§“å’Œåï¼Œé‡‡ç”¨æ··åˆå­æŸ¥è¯¢+è¡¨è¿æ¥çš„æ–¹æ³•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> customer_id, first_name, last_name
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> customer_id <span class="hljs-keyword">IN</span> (  
    <span class="hljs-keyword">SELECT</span> customer_id
    <span class="hljs-keyword">FROM</span> orders
    <span class="hljs-keyword">JOIN</span> order_items <span class="hljs-keyword">USING</span> (order_id)  
    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);</code></pre></div>
<ul>
<li><code>ALL</code>å…³é”®å­—ä»£è¡¨é›†åˆä¸­çš„ä»»æ„è®°å½•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MAX</span>(invoice_total)
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ALL</span> (
    <span class="hljs-keyword">SELECT</span> invoice_total
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);</code></pre></div>
<ul>
<li><code>ANY</code>å…³é”®å­—ä»£è¡¨é›†åˆä¸­å­˜åœ¨æŸæ¡è®°å½•ï¼Œå¯ä¸<code>MIN</code>ç­‰æ•ˆ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ANY</span> (
<span class="hljs-keyword">SELECT</span> invoice_total
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> (
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MIN</span>(invoice_total)
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);</code></pre></div>
<ul>
<li><code>ANY</code>æŸäº›æ—¶å€™ä¹Ÿå¯ä¸<code>IN</code>ç­‰æ•ˆ</li>
<li>ä¾‹ï¼šé€‰æ‹©è‡³å°‘æœ‰ä¸¤æ¬¡å‘ç¥¨è®°å½•çš„é¡¾å®¢</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-keyword">ANY</span> ( 
    <span class="hljs-keyword">SELECT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2</span>
);</code></pre></div>
<ul>
<li>åœ¨ä¸Šé¢çš„å­æŸ¥è¯¢ä¸­ï¼Œå­æŸ¥è¯¢ä¸ä¸»æŸ¥è¯¢æ— å…³ï¼Œå¯ä»¥å…ˆè¿›è¡Œå®Œå­æŸ¥è¯¢ï¼Œå†è¿›è¡Œä¸»æŸ¥è¯¢</li>
<li>ç›¸å…³å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ä¸ä¸»æŸ¥è¯¢æœ‰å…³</li>
<li>ä¾‹ï¼šè¿”å›å„éƒ¨é—¨ä¸­å·¥èµ„è¶…è¿‡è¯¥éƒ¨é—¨å¹³å‡å€¼çš„äººï¼Œå¯¹äº<code>employees e</code>ä¸­çš„æ¯æ¡è®°å½•ï¼Œéƒ½å°†æ‰§è¡Œä¸€æ¬¡å­æŸ¥è¯¢</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> employees e  <span class="hljs-comment">-- å…³é”® 1</span>
<span class="hljs-keyword">WHERE</span> salary <span class="hljs-operator">&gt;</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(salary)
    <span class="hljs-keyword">FROM</span> employees
    <span class="hljs-keyword">WHERE</span> office_id <span class="hljs-operator">=</span> e.office_id  <span class="hljs-comment">-- å…³é”® 2</span>
    <span class="hljs-comment">-- ã€å­æŸ¥è¯¢è¡¨å­—æ®µä¸ç”¨åŠ å‰ç¼€ï¼Œä¸»æŸ¥è¯¢è¡¨çš„å­—æ®µè¦åŠ å‰ç¼€ï¼Œä»¥æ­¤åŒºåˆ†ã€‘</span>
);</code></pre></div>
<ul>
<li><code>EXISTS</code>å…³é”®å­—å¦‚æœé›†åˆä¸ä¸ºç©ºè¿”å›<code>TRUE</code>ï¼Œå¦åˆ™è¿”å›<code>FALSE</code></li>
<li><code>IN + å­æŸ¥è¯¢</code> ç­‰æ•ˆäº <code>EXIST + ç›¸å…³å­æŸ¥è¯¢</code>ï¼Œå¦‚å‰è€…å­æŸ¥è¯¢ç»“æœé›†è¿‡å¤§å ç”¨å†…å­˜ï¼Œåè€…é€æ¡éªŒè¯æ›´æœ‰æ•ˆç‡</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients c
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">EXISTS</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
    <span class="hljs-comment">-- å°±è¿™ä¸ªå­æŸ¥è¯¢çš„ç›®çš„æ¥è¯´ï¼ŒSELECTçš„é€‰æ‹©ä¸å½±å“ç»“æœï¼Œ</span>
    <span class="hljs-comment">-- å› ä¸ºEXISTS()å‡½æ•°åªæ ¹æ®æ˜¯å¦ä¸ºç©ºè¿”å›ç»“æœ</span>
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id
);</code></pre></div>
<ul>
<li><code>EXISTS()</code>è¿”å›çš„æ˜¯ <code>TRUE/FALSE</code>ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åŠ ä¸Š<code>NOT</code>å–å</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products 
<span class="hljs-keyword">WHERE</span> product_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">FROM</span> order_items
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products p
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
    <span class="hljs-keyword">FROM</span> order_items
    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> p.product_id
);</code></pre></div>
<ul>
<li>ä¾‹ï¼šç»å…¸é¢˜ç›®ï¼Œé€‰æ‹©æ²¡æœ‰é€‰æ‰€æœ‰è¯¾çš„å­¦ç”Ÿ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- é€‰æ‹©æ²¡æœ‰é€‰æ‰€æœ‰è¯¾çš„å­¦ç”Ÿ</span>
<span class="hljs-comment">-- å­˜åœ¨æŸä¸€æ ·è¯¾ï¼Œè¯¥å­¦ç”Ÿæ²¡æœ‰å¯¹åº”çš„é€‰è¯¾è®°å½•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> stu s
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">EXISTS</span>(
  	<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
  	<span class="hljs-keyword">FROM</span> class c
  	<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span>(
      	<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
      	<span class="hljs-keyword">FROM</span> stu_class
      	<span class="hljs-keyword">WHERE</span> stu_id <span class="hljs-operator">=</span> s.stu_id <span class="hljs-keyword">AND</span> class_id <span class="hljs-operator">=</span> c.class_id
    )
);</code></pre></div>
<ul>
<li>å­æŸ¥è¯¢æˆ–ç›¸å…³å­æŸ¥è¯¢ä¹Ÿå¯ç”¨äº<code>SELECT</code>ä¸­</li>
<li>å¼•ç”¨åŒçº§çš„åˆ—åˆ«åï¼Œéœ€è¦ä½¿ç”¨<code>SELECT</code>ï¼Œå¼•ç”¨åŒçº§çš„åˆ—åˆ«åä¸éœ€è¦è¯´æ˜æ¥æº</li>
<li>ä¸‹é¢çš„ä¾‹å­ä¸­æœ‰ä¸‰ä¸ªå­æŸ¥è¯¢ï¼Œç¬¬ä¸€ä¸ªä¸ºç›¸å…³å­æŸ¥è¯¢ï¼Œè¡¨ç¤ºæŸé¡¾å®¢è®¢å•æ€»é‡ï¼Œç¬¬äºŒä¸ªä¸ºå­æŸ¥è¯¢ï¼Œè¡¨ç¤ºæ‰€æœ‰è®¢å•å¹³å‡å€¼ï¼Œç¬¬ä¸‰ä¸ªå¼•ç”¨åŒçº§çš„åˆ—åˆ«åï¼Œè¡¨ç¤ºå‰ä¸¤è€…çš„å·®</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,
    name,
    (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id) <span class="hljs-keyword">AS</span> total_sales,
    (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices) <span class="hljs-keyword">AS</span> average,
    (<span class="hljs-keyword">SELECT</span> total_sales <span class="hljs-operator">-</span> average) <span class="hljs-keyword">AS</span> difference   
<span class="hljs-keyword">FROM</span> clients c;</code></pre></div>
<ul>
<li>å­æŸ¥è¯¢ä¹Ÿå¯ç”¨äº<code>FROM</code>ä¸­</li>
<li>å½“å­æŸ¥è¯¢å¤ªå¤æ‚æ—¶åº”ä½¿ç”¨è§†å›¾å°†å­æŸ¥è¯¢ç»“æœå‚¨å­˜èµ·æ¥ï¼Œä½¿ç”¨è§†å›¾ä½œä¸ºæ¥æºè¡¨</li>
<li>åœ¨FROMä¸­ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå³ä½¿ç”¨ â€œæ´¾ç”Ÿè¡¨â€ æ—¶ï¼Œå¿…é¡»ç»™æ´¾ç”Ÿè¡¨å–ä¸ªåˆ«å</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> 
<span class="hljs-keyword">FROM</span> (
    <span class="hljs-keyword">SELECT</span> 
        client_id,
        name,
        (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id) <span class="hljs-keyword">AS</span> total_sales,
        (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices) <span class="hljs-keyword">AS</span> average,
        (<span class="hljs-keyword">SELECT</span> total_sales <span class="hljs-operator">-</span> average) <span class="hljs-keyword">AS</span> difference   
    <span class="hljs-keyword">FROM</span> clients c
) <span class="hljs-keyword">AS</span> sales_summury
<span class="hljs-keyword">WHERE</span> total_sales <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;</code></pre></div>
<h1 id="åŸºæœ¬å‡½æ•°"><a href="#åŸºæœ¬å‡½æ•°" class="headerlink" title="åŸºæœ¬å‡½æ•°"></a>åŸºæœ¬å‡½æ•°</h1><p>å†…ç½®çš„ç”¨æ¥å¤„ç†æ•°å€¼ã€æ–‡æœ¬ã€æ—¥æœŸç­‰çš„å‡½æ•°</p>
<ul>
<li>æ•°å€¼å‡½æ•°</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> ROUND(<span class="hljs-number">5.7365</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">-- å››èˆäº”å…¥</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">TRUNCATE</span>(<span class="hljs-number">5.7365</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">-- æˆªæ–­</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CEILING</span>(<span class="hljs-number">5.2</span>)  <span class="hljs-comment">-- å¤©èŠ±æ¿å‡½æ•°ï¼Œå¤§äºç­‰äºæ­¤æ•°çš„æœ€å°æ•´æ•°</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">FLOOR</span>(<span class="hljs-number">5.6</span>)  <span class="hljs-comment">-- åœ°æ¿å‡½æ•°ï¼Œå°äºç­‰äºæ­¤æ•°çš„æœ€å¤§æ•´æ•°</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ABS</span>(<span class="hljs-number">-5.2</span>)  <span class="hljs-comment">-- ç»å¯¹å€¼</span>
<span class="hljs-keyword">SELECT</span> RAND()  <span class="hljs-comment">-- éšæœºå‡½æ•°ï¼Œ0åˆ°1çš„éšæœºå€¼</span></code></pre></div>
<ul>
<li>å­—ç¬¦ä¸²å‡½æ•°</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> LENGTH(<span class="hljs-string">&#x27;sky&#x27;</span>)  <span class="hljs-comment">-- å­—ç¬¦ä¸²å­—ç¬¦ä¸ªæ•°</span>

<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">UPPER</span>(<span class="hljs-string">&#x27;sky&#x27;</span>)  <span class="hljs-comment">-- è½¬å¤§å†™</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-string">&#x27;Sky&#x27;</span>)  <span class="hljs-comment">-- è½¬å°å†™</span>

<span class="hljs-keyword">SELECT</span> LTRIM(<span class="hljs-string">&#x27;  Sky&#x27;</span>)  <span class="hljs-comment">-- å»é™¤å·¦å¤šä½™ç©ºæ ¼</span>
<span class="hljs-keyword">SELECT</span> RTRIM(<span class="hljs-string">&#x27;Sky  &#x27;</span>)  <span class="hljs-comment">-- å»é™¤å³å¤šä½™ç©ºæ ¼</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">TRIM</span>(<span class="hljs-string">&#x27; Sky &#x27;</span>)  <span class="hljs-comment">-- å»é™¤å¤šä½™ç©ºæ ¼</span>

<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">LEFT</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">4</span>)  <span class="hljs-comment">-- å–å·¦4ä¸ªå­—ç¬¦</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">RIGHT</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment">-- å–å³6ä¸ªå­—ç¬¦</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUBSTRING</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment">-- ä»ç¬¬7ä¸ªå¼€å§‹é•¿åº¦ä¸º6çš„å­ä¸²ï¼Œçœç•¥é•¿åº¦å‚æ•°åˆ™å–åˆ°æœ«ç«¯</span>

<span class="hljs-keyword">SELECT</span> LOCATE(<span class="hljs-string">&#x27;gar&#x27;</span>, <span class="hljs-string">&#x27;Kindergarden&#x27;</span>)  <span class="hljs-comment">-- å®šä½é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæ²¡æœ‰çš„è¯è¿”å›0ï¼Œä¸åŒºåˆ†å¤§å°å†™</span>

<span class="hljs-keyword">SELECT</span> REPLACE(<span class="hljs-string">&#x27;Kindergarten&#x27;</span>, <span class="hljs-string">&#x27;garten&#x27;</span>, <span class="hljs-string">&#x27;garden&#x27;</span>)  <span class="hljs-comment">-- æ›¿æ¢</span>

<span class="hljs-keyword">SELECT</span> CONCAT(f_name, <span class="hljs-string">&#x27; &#x27;</span>, l_name) <span class="hljs-keyword">AS</span> f_name <span class="hljs-keyword">FROM</span> customers  <span class="hljs-comment">-- è¿æ¥</span></code></pre></div>
<ul>
<li>å¤„ç†æ—¶é—´æ—¥æœŸçš„å‡½æ•°</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- å½“å‰æ—¶é—´æ—¥æœŸå¯¹è±¡</span>
<span class="hljs-keyword">SELECT</span> NOW()  <span class="hljs-comment">-- 2021-08-27 08:50:46</span>
<span class="hljs-keyword">SELECT</span> CURDATE()  <span class="hljs-comment">-- 2021-08-27</span>
<span class="hljs-keyword">SELECT</span> CURTIME()  <span class="hljs-comment">-- 08:50:46</span>

<span class="hljs-comment">-- æå–æ—¶é—´æ—¥æœŸå¯¹è±¡ä¸­çš„å…ƒç´ </span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">YEAR</span>(NOW())  <span class="hljs-comment">-- 2021</span>

<span class="hljs-keyword">SELECT</span> DAYNAME(NOW())  <span class="hljs-comment">-- Saturday</span>
<span class="hljs-keyword">SELECT</span> MONTHNAME(NOW())  <span class="hljs-comment">-- September</span></code></pre></div>
<ul>
<li>æ—¥æœŸæ ¼å¼åŒ–ï¼Œæ ¼å¼è¯´æ˜ç¬¦é‡Œï¼Œå¤§å°å†™æ˜¯ä¸åŒçš„ï¼Œè¿™æ˜¯ç›®å‰SQLé‡Œç¬¬ä¸€æ¬¡å‡ºç°å¤§å°å†™ä¸åŒçš„æƒ…å†µ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="hljs-string">&#x27;%M %d, %Y&#x27;</span>)  <span class="hljs-comment">-- September 12, 2020</span>
<span class="hljs-keyword">SELECT</span> TIME_FORMAT(NOW(), <span class="hljs-string">&#x27;%H:%i %p&#x27;</span>)  <span class="hljs-comment">-- 11:07 AM</span></code></pre></div>
<h1 id="SELECT-è¯­å¥æ‰§è¡Œé¡ºåº"><a href="#SELECT-è¯­å¥æ‰§è¡Œé¡ºåº" class="headerlink" title="SELECT è¯­å¥æ‰§è¡Œé¡ºåº"></a>SELECT è¯­å¥æ‰§è¡Œé¡ºåº</h1><p>å…¶ä¸­æ¯ä¸€ä¸ªæ“ä½œéƒ½ä¼šäº§ç”Ÿä¸€å¼ è™šæ‹Ÿçš„è¡¨ï¼Œè¿™ä¸ªè™šæ‹Ÿçš„è¡¨ä½œä¸ºä¸€ä¸ªå¤„ç†çš„è¾“å…¥ï¼Œåªæ˜¯è¿™äº›è™šæ‹Ÿçš„è¡¨å¯¹ç”¨æˆ·æ¥è¯´æ˜¯é€æ˜çš„ï¼Œåªæœ‰æœ€åä¸€ä¸ªè™šæ‹Ÿçš„è¡¨æ‰ä¼šè¢«ä½œä¸ºç»“æœè¿”å›ã€‚ </p>
<ol>
<li>FORMï¼šå¯¹è¡¨è®¡ç®—ç¬›å¡å°”ç§¯ï¼Œäº§ç”Ÿè™šè¡¨VT1ã€‚</li>
<li>ONï¼šå¯¹è™šè¡¨VT1è¿›è¡ŒONç­›é€‰ï¼Œåªæœ‰é‚£äº›ç¬¦åˆ<code>join-condition</code>çš„è¡Œæ‰ä¼šè¢«è®°å½•åœ¨è™šè¡¨VT2ä¸­ã€‚</li>
<li>JOINï¼šå¦‚æœæŒ‡å®šäº†OUTER JOINï¼ˆæ¯”å¦‚left joinã€ right joinï¼‰ï¼Œé‚£ä¹ˆä¿ç•™è¡¨ä¸­æœªåŒ¹é…çš„è¡Œå°±ä¼šä½œä¸ºå¤–éƒ¨è¡Œæ·»åŠ åˆ°è™šæ‹Ÿè¡¨VT2ä¸­ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT3, å¦‚æœfromå­å¥ä¸­åŒ…å«ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šå¯¹ä¸Šä¸€ä¸ªjoinè¿æ¥äº§ç”Ÿçš„ç»“æœVT3å’Œä¸‹ä¸€ä¸ªè¡¨é‡å¤æ‰§è¡Œæ­¥éª¤1~3è¿™ä¸‰ä¸ªæ­¥éª¤ï¼Œä¸€ç›´åˆ°å¤„ç†å®Œæ‰€æœ‰çš„è¡¨ä¸ºæ­¢ã€‚</li>
<li>WHEREï¼šå¯¹è™šæ‹Ÿè¡¨VT3è¿›è¡ŒWHEREæ¡ä»¶è¿‡æ»¤ã€‚åªæœ‰ç¬¦åˆ<code>where-condition</code>çš„è®°å½•æ‰ä¼šè¢«æ’å…¥åˆ°è™šæ‹Ÿè¡¨VT4ä¸­ã€‚</li>
<li>GROUP BYï¼šæ ¹æ®group byå­å¥ä¸­çš„åˆ—ï¼Œå¯¹VT4ä¸­çš„è®°å½•è¿›è¡Œåˆ†ç»„æ“ä½œï¼Œäº§ç”ŸVT5ã€‚</li>
<li>HAVINGï¼šå¯¹è™šæ‹Ÿè¡¨VT5åº”ç”¨havingè¿‡æ»¤ï¼Œåªæœ‰ç¬¦åˆ<code>having-condition</code>çš„è®°å½•æ‰ä¼šè¢«æ’å…¥åˆ°è™šæ‹Ÿè¡¨VT6ä¸­ã€‚</li>
<li>SELECTï¼šæ‰§è¡Œselectæ“ä½œï¼Œé€‰æ‹©æŒ‡å®šçš„åˆ—ï¼Œæ’å…¥åˆ°è™šæ‹Ÿè¡¨VT7ä¸­ã€‚</li>
<li>DISTINCTï¼šå¯¹VT7ä¸­çš„è®°å½•è¿›è¡Œå»é‡ã€‚äº§ç”Ÿè™šæ‹Ÿè¡¨VT8ã€‚</li>
<li>ORDER BY: å°†è™šæ‹Ÿè¡¨VT8ä¸­çš„è®°å½•æŒ‰ç…§<order_by_list>è¿›è¡Œæ’åºæ“ä½œï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT9ã€‚</li>
<li>LIMITï¼šå–å‡ºæŒ‡å®šè¡Œçš„è®°å½•ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT10,å¹¶å°†ç»“æœè¿”å›ã€‚</li>
</ol>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1UE41147KC?p=34">ä¼Ÿå¤§çš„æµ·ä¼¦å›.SQLè¿›é˜¶æ•™ç¨‹</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/222865842">ASC2050.Moshå®Œå…¨æŒæ¡SQLç¬”è®°</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºåŸºç¡€</a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">
                  
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/09/05/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">è‹±è¯­è¯­æ³•</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/08/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/">
                        <span class="hidden-mobile">è®¡ç®—æœºç½‘ç»œé¢è¯•</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="twikoo"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/twikoo@1.3.1/dist/twikoo.all.min.js', function() {
        var options = Object.assign(
          {"envId":"blogs-8gjs26956a49a40f","region":"ap-guangzhou","path":null},
          {
            el: '#twikoo',
            path: ''
          }
        )
        twikoo.init(options)
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>









  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8.10.1/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>







<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>


</body>
</html>
