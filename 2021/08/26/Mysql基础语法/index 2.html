

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#fdfdfd">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
  <title>MysqlÂü∫Á°ÄËØ≠Ê≥ï - Herlo&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- Ëá™ÂÆö‰πâÊ†∑Âºè‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->

  
<link rel="stylesheet" href="/css/mycss.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 50vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Herlo's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                
                Category
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                
                Links
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/bg.svg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="MysqlÂü∫Á°ÄËØ≠Ê≥ï">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-08-26 13:04" pubdate>
        2021Âπ¥8Êúà26Êó• ‰∏ãÂçà
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.4k Â≠ó
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      63
       ÂàÜÈíü
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MysqlÂü∫Á°ÄËØ≠Ê≥ï</h1>
            
            <div class="markdown-body">
              <h1 id="ÂÆâË£Ö"><a href="#ÂÆâË£Ö" class="headerlink" title="ÂÆâË£Ö"></a>ÂÆâË£Ö</h1><p><strong>brewÂÆâË£ÖMysql</strong></p>
<div class="code-wrapper"><pre><code class="hljs no">lihan@LideMacBook-Air ~ % brew install mysql
==&gt; Installing mysql
==&gt; Summary
üç∫  /opt/homebrew/Cellar/mysql/8.0.26: 303 files, 296.7MB
==&gt; mysql
We&#x27;ve installed your MySQL database without a root password. To secure it run:
    mysql_secure_installation

MySQL is configured to only allow connections from localhost by default

To connect run:
    mysql -uroot

To have launchd start mysql now and restart at login:
  brew services start mysql
Or, if you don&#x27;t want/need a background service you can just run:
  mysql.server start
lihan@LideMacBook-Air ~ % mysql.server start
Starting MySQL
.. SUCCESS! 
lihan@LideMacBook-Air ~ % mysql_secure_installation

Securing the MySQL server deployment.

Connecting to MySQL using a blank password.

VALIDATE PASSWORD COMPONENT can be used to test passwords
and improve security. It checks the strength of password
and allows the users to set only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD component?

Press y|Y for Yes, any other key for No: y

There are three levels of password validation policy:

LOW    Length &gt;= 8
MEDIUM Length &gt;= 8, numeric, mixed case, and special characters
STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary                  file

Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2
Please set the password for root here.

New password: 

Re-enter new password: 

Estimated strength of the password: 100 
Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y
By default, a MySQL installation has an anonymous user,
allowing anyone to log into MySQL without having to have
a user account created for them. This is intended only for
testing, and to make the installation go a bit smoother.
You should remove them before moving into a production
environment.

Remove anonymous users? (Press y|Y for Yes, any other key for No) : y
Success.


Normally, root should only be allowed to connect from
&#x27;localhost&#x27;. This ensures that someone cannot guess at
the root password from the network.

Disallow root login remotely? (Press y|Y for Yes, any other key for No)  n    
 ... skipping.
By default, MySQL comes with a database named &#x27;test&#x27; that
anyone can access. This is also intended only for testing,
and should be removed before moving into a production
environment.


Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y
 - Dropping test database...
Success.

 - Removing privileges on test database...
Success.

Reloading the privilege tables will ensure that all changes
made so far will take effect immediately.

Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y
Success.

All done! 
lihan@LideMacBook-Air ~ % mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 11
Server version: 8.0.26 Homebrew

Copyright (c) 2000, 2021, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.

mysql&gt; exit;
Bye</code></pre></div>
<p><strong>Âª∫Á´ãÊï∞ÊçÆÂ∫ì</strong></p>
<div class="code-wrapper"><pre><code class="hljs no">ÈìæÊé•Ôºöhttps://pan.baidu.com/s/1xDsDWFLiRITYTT6HoFb7Tw 
ÊèêÂèñÁ†ÅÔºös5iz</code></pre></div>
<p>Ê≥®ÊÑèÂ≠òÊîæ‰ΩçÁΩÆÂ¶ÇÊûúÊúâ‰∏≠ÊñáË∑ØÂæÑÂèØËÉΩ‰ºöÂú®‰πãÂêéÊä•<code>error 2</code>ÈîôËØØ</p>
<p>Âú®<code>source</code>ÂêéÁõ¥Êé•ÊãñÂÖ•<code>sql</code>Êñá‰ª∂Âç≥ÂèØ</p>
<div class="code-wrapper"><pre><code class="hljs no">mysql&gt; create database mydatabase;
Query OK, 1 row affected (0.01 sec)

mysql&gt; use mydatabase
Database changed
mysql&gt; source /Users/lihan/Desktop/summer/create-databases.sql 
Query OK, 0 rows affected, 1 warning (0.00 sec)
....
mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mydatabase         |
| mysql              |
| performance_schema |
| sql_hr             |
| sql_inventory      |
| sql_invoicing      |
| sql_store          |
| sys                |
+--------------------+
9 rows in set (0.00 sec)

mysql&gt; drop database mydatabase;
Query OK, 0 rows affected (0.01 sec)</code></pre></div>
<h1 id="ÂçïË°®Ê£ÄÁ¥¢"><a href="#ÂçïË°®Ê£ÄÁ¥¢" class="headerlink" title="ÂçïË°®Ê£ÄÁ¥¢"></a>ÂçïË°®Ê£ÄÁ¥¢</h1><ul>
<li>MysqlÂ§ßÂ∞èÂÜô‰∏çÂàÜÔºåÂª∫ËÆÆÂ§ßÂÜôÂÖ≥ÈîÆÂ≠óÔºåÂ∞èÂÜôÂÖ∂‰ªñÂÜÖÂÆπ</li>
<li>Âú®Ë°åÂâç‰ΩøÁî®<code>--</code>Ë°®Á§∫Ê≥®Èáä</li>
<li>ÊØè‰∏™ËØ≠Âè•Âêé‰ΩøÁî®<code>;</code>Ë°®Á§∫ÁªìÊùü</li>
<li>ÂèØ‰ª•‰ΩøÁî®ÁÆóÊúØË°®ËææÂºè</li>
<li>ÂèØ‰ª•‰ΩøÁî®<code>AS</code>ÂÖ≥ÈîÆÂ≠ó‰∏∫ÂàóÂèñÂà´Âêç</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name, point <span class="hljs-operator">*</span> <span class="hljs-number">10</span> <span class="hljs-operator">+</span> <span class="hljs-number">100</span> <span class="hljs-keyword">AS</span> `discount_factor`
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-comment">-- WHERE custom_id = 1</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> first_name;</code></pre></div>
<ul>
<li><code>DISTINCT</code>ÂèØ‰ª•Âà†Èô§ÈáçÂ§çÈ°πÔºå <em>ÈáçÂ§ç</em>ÊòØ‰ª•ÂàóÁöÑÁªÑÂêàÂà§Êñ≠ÁöÑÔºå<code>DISTINCT</code>ÂøÖÈ°ªÊîæÂú®ÂºÄÂ§¥</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> state 
<span class="hljs-keyword">FROM</span> customers;</code></pre></div>
<ul>
<li><code>WHERE</code>‰∏≠ÂØπ‰∫éÊñáÊú¨ÈúÄË¶Å‰ΩøÁî®ÂçïÂºïÂè∑ÊàñÂèåÂºïÂè∑ÔºåÊñáÊú¨Â§ßÂ∞èÂÜô‰∏çÊïèÊÑü</li>
<li>Ê≥®ÊÑèÊ≠§Â§ÑÁöÑ<code>Customers</code>‰∏é<code>va</code>ÂùáÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑü</li>
<li><code>!=</code> Ôºå<code>&lt;&gt;</code>ÂùáÊÑè‰∏∫‰∏çÁ≠â‰∫é</li>
<li>Êó•ÊúüÁ±ªÂûãÊï∞ÊçÆ‰πüÈúÄ‰ΩøÁî®ÂºïÂè∑</li>
<li>ÂèØ‰ª•‰ΩøÁî®<code>AND</code>Ôºå<code>OR</code>Ôºå<code>NOT</code>ÂàõÂª∫Â§çÂêàÊù°‰ª∂ËØ≠Âè•</li>
<li>Êù°‰ª∂ËØ≠Âè•‰∏≠ÂèØ‰ª•‰ΩøÁî®ÁÆóÊï∞Ë°®ËææÂºè</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> Customers
<span class="hljs-keyword">WHERE</span> state <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;va&#x27;</span> 
			<span class="hljs-keyword">AND</span> birth_data <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;1990-01-01&#x27;</span>;</code></pre></div>
<ul>
<li><code>IN</code>ÂÖ≥ÈîÆÂ≠óÂà§Êñ≠ÊòØÂê¶Âú®ÈõÜÂêà‰∏≠</li>
<li><code>BETWEEN</code>ÂÖ≥ÈîÆÂ≠óÂà§Êñ≠ÊòØÂê¶Âú®Èó≠Âå∫Èó¥ÂÜÖ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> state <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;VA&#x27;</span>, <span class="hljs-string">&#x27;FL&#x27;</span>) 
			<span class="hljs-keyword">AND</span> points <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">1000</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">2000</span>;</code></pre></div>
<ul>
<li><code>LIKE</code>ÂÖ≥ÈîÆÂ≠óÁî®‰∫éÊñáÊú¨Ê®°Á≥äÂåπÈÖçÂ∏∏Áî®ÁöÑÊúâÔºö<code>_</code>Âçï‰∏ÄÂ≠óÁ¨¶Ôºå<code>%</code>‰ªªÊÑèÊï∞ÁõÆÂ≠óÁ¨¶</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> last_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%field%&#x27;</span>;</code></pre></div>
<ul>
<li><code>REGEXP</code>ÂÖ≥ÈîÆÂ≠ó‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèËøõË°åÊ®°Á≥äÂåπÈÖç</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> last_name REGEXP <span class="hljs-string">&#x27;field&#x27;</span>;</code></pre></div>
<ul>
<li><code>NULL</code>Ë°®Á§∫Á©∫ÂÄº</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> phone <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;</code></pre></div>
<ul>
<li>ÁªìÊûúÈõÜÈªòËÆ§‰ª•‰∏ªÈîÆ‰∏∫Ê†áÂáÜËøõË°åÁîüÂ∫èÊéíÂ∫èÔºå‰ΩøÁî®<code>ORDER BY</code>ÂÖ≥ÈîÆÂ≠óÂèØ‰ª•‰ΩøÁî®ÂÖ∂‰ªñÂàó‰∏∫Ê†áÂáÜÊéíÂ∫è</li>
<li>ÈªòËÆ§ÂçáÂ∫èÊéíÂ∫èÔºå‰ΩøÁî®<code>DESC</code>ËøõË°åÈôçÂ∫èÊéíÂ∫è</li>
<li>ÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™ÊéíÂ∫èËßÑÂàôÔºåË∂äÈù†Ââç‰ºòÂÖàÁ∫ßË∂äÈ´ò</li>
<li>Mysql‰∏≠ÂÖÅËÆ∏Áî®‰∫éÊéíÂ∫èÁöÑÂàó‰∏çÊòØÁªìÊûúÈõÜÁöÑÂàó</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> state <span class="hljs-keyword">DESC</span>, first_name <span class="hljs-keyword">DESC</span>;</code></pre></div>
<ul>
<li><code>LIMIT</code>ÂÖ≥ÈîÆÂ≠óÁî®‰∫éÈôêÂà∂ÁªìÊûúÈõÜÂ§ßÂ∞èÔºåÂèØÁî®‰∫éÁΩëÁ´ôÂàÜÈ°µ</li>
<li><code>LIMIT 3</code>‰ª£Ë°®ÁªìÊûúÈõÜÂ§ßÂ∞è‰∏∫3Ôºå<code>LIMIT 6, 3</code>‰ª£Ë°®Ë∑≥Ëøá6Ë°åÂèñ3Ë°å</li>
<li>Ê≥®ÊÑè<code>WHERE</code>Ôºå<code>ORDER BY</code>Ôºå<code>LIMIT</code>Âú®ËØ≠Âè•‰∏≠Âá∫Áé∞ÁöÑÂÖàÂêéÈ°∫Â∫è</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> state <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;va&#x27;</span> 
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> points <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">3</span>;</code></pre></div>
<h1 id="Â§öË°®Ê£ÄÁ¥¢"><a href="#Â§öË°®Ê£ÄÁ¥¢" class="headerlink" title="Â§öË°®Ê£ÄÁ¥¢"></a>Â§öË°®Ê£ÄÁ¥¢</h1><ul>
<li><code>JOIN</code>ÈªòËÆ§‰ª£Ë°®ÂÜÖËøûÊé•Âç≥ <code>INNER JOIN</code></li>
<li>ÂèØ‰ª•‰∏∫Ë°®ÂèñÂà´Âêç</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> o.customer_id
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers
		 <span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> customer.customer_id;</code></pre></div>
<ul>
<li>ÂèØ‰ª•ÂØπ‰∏çÂêåÊï∞ÊçÆÂ∫ìÁöÑË°®ËøõË°åËøûÊé•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> order_items oi
<span class="hljs-keyword">JOIN</span> sql_inventory.products p
		 <span class="hljs-keyword">ON</span> oi.product_id <span class="hljs-operator">=</span> p.product_id;</code></pre></div>
<ul>
<li>Ë°®‰πüÂèØ‰ª•‰∏éËá™Ë∫´ËøõË°åËøûÊé•ÔºåÁß∞‰∏∫Ëá™ËøûÊé•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> e.employee_id,
			 e.first_name,
			 m.first_nam
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">JOIN</span> employees m
		 <span class="hljs-keyword">WHERE</span> e.reports_to <span class="hljs-operator">=</span> m.employee_id;</code></pre></div>
<ul>
<li><code>JOIN</code>Â§öÊ¨°‰ΩøÁî®ÂèØ‰ª•Â§öË°®ËøûÊé•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers c
<span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id
<span class="hljs-keyword">JOIN</span> order_statuses os
<span class="hljs-keyword">ON</span> o.status <span class="hljs-operator">=</span> os.order_status_id;</code></pre></div>
<ul>
<li><code>AND</code>ÂàõÂª∫Â§çÂêàËøûÊé•Êù°‰ª∂</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> order_items oi
<span class="hljs-keyword">JOIN</span> order_items_notes oin
		<span class="hljs-keyword">ON</span> oi.order_id <span class="hljs-operator">=</span> oin.order_id
		<span class="hljs-keyword">AND</span> oi.product_id <span class="hljs-operator">=</span> oin.product_id;</code></pre></div>
<ul>
<li>‰∏ÄËà¨Êàë‰ª¨‰ΩøÁî®ÊòæÂºèËøûÊé•ÔºàÁ¨¨‰∏ÄÂè•ÔºâËÄå‰∏çÊòØÈöêÂºèËøûÊé•ÔºàÁ¨¨‰∫åÂè•Ôºâ</li>
<li>ÊòæÂºèËøûÊé•‰∏çÂä†<code>ON</code>ÊåáÂêçËøûÊé•Êù°‰ª∂ÊàñÈöêÂºèËøûÊé•‰∏çÂä†<code>WHERE</code>ÔºåÁöÑÊó∂ÂÄôÁß∞‰∏∫‰∫§ÂèâËøûÊé•ÔºåËøîÂõûÁ¨õÂç°Â∞îÁßØÁöÑÁªìÊûú</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers c
		<span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id;
		
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o, customers c
<span class="hljs-keyword">WHERE</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id;

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o, customers c;</code></pre></div>
<ul>
<li><code>LEFT JOIN</code>Â∑¶Â§ñËøûÊé•Ë°®Á§∫ÊâÄÊúâÂ∑¶Ë°®ÁöÑËÆ∞ÂΩïÈÉΩ‰ºöËøîÂõûÔºåÂ¶ÇÊûúÂè≥Ë°®Ê≤°ÊúâÁõ∏ÂåπÈÖçÁöÑÁªìÊûúÔºåÂØπÂ∫î‰ΩçÁΩÆÁΩÆ‰∏∫NULL</li>
<li><code>OUTER</code>ÂÖ≥ÈîÆÂ≠ó‰∏ÄËà¨ÁúÅÂéª</li>
<li>‰∏∫‰ΩøÂæóËØ≠Âè•Ê∏ÖÊô∞ÔºåÂ§ñËøûÊé•Â∞ΩÈáè‰ΩøÁî®Â∑¶ËøûÊé•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers c
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> orders o
		<span class="hljs-keyword">ON</span> c.customer_id <span class="hljs-operator">=</span> o.customer_id;</code></pre></div>
<ul>
<li>Â§öË°®ËøûÊé•Êó∂ÂÄôÔºåÂà§Êñ≠Â∑¶Âè≥Ë°®ÂÖ≥Á≥ª‰ºº‰πéÊòØÊåâÁÖß<code>ON</code>Êù•ÁöÑÔºåÊúâÂæÖË°•ÂÖÖ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> customers c
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> orders o
		<span class="hljs-keyword">ON</span> c.customer_id <span class="hljs-operator">=</span> o.customer_id
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> shippers sh
		<span class="hljs-keyword">ON</span> o.shipper_id <span class="hljs-operator">=</span> sh.shipper_id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> c.customer_id;</code></pre></div>
<ul>
<li>ÂíåÂÜÖËøûÊé•Á±ª‰ººÔºåÂ§ñËøûÊé•‰πüÂèØ‰ª•Ëá™ËøûÊé•</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> employees m
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> emplyees m
		<span class="hljs-keyword">ON</span> e.reports_to <span class="hljs-operator">=</span> m.emplyee_id;</code></pre></div>
<ul>
<li>ÂΩì‰∏§‰∏™Ë°®ÁöÑÂàóÂêçÂÆåÂÖ®‰∏ÄÊ†∑Êó∂Ôºå‰ΩøÁî®<code>USING</code>ÁÆÄÂåñÔºå<code>USING</code>ÂêåÊ†∑ÈÄÇÁî®‰∫éÊúâÂ§ö‰∏™Âàó‰Ωú‰∏∫ÈîÆÁ†ÅÁöÑÊÉÖÂÜµ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">JOIN</span> customers c
		<span class="hljs-comment">-- ON o.customer_id = c.customer_id</span>
		<span class="hljs-keyword">USING</span> (customer_id);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> order_items oi
<span class="hljs-keyword">JOIN</span> order_items_notes oin
		<span class="hljs-comment">-- ON oi.order_id = oin.order_id</span>
		<span class="hljs-comment">-- AND oi.product_id = oin.product_id;</span>
		<span class="hljs-keyword">USING</span> (order_id, product_id);</code></pre></div>
<ul>
<li><code>NATURAL JOIN</code>Ëá™ÁÑ∂ËøûÊé•Ôºå‰ΩøÁî®ÂêåÂêçÁöÑÂ±ûÊÄßÁªÑÔºåÂπ∂‰∏îÂú®ÁªìÊûú‰∏≠ÊääÈáçÂ§çÁöÑÂ±ûÊÄßÂàóÂéªÊéâÔºå‰∏çÂª∫ËÆÆ‰ΩøÁî®</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> customers c;</code></pre></div>
<ul>
<li><code>CROSS JOIN</code>‰∫§ÂèâËøûÊé•ÔºåËøîÂõûÁ¨õÂç°Â∞îÁßØÔºåÂç≥ÊâÄÊúâÁöÑÁªÑÂêàÁªìÊûú</li>
<li>Á¨¨‰∏ÄÂè•‰∏∫ÊòæÂºèÂÜôÊ≥ïÔºåÁ¨¨‰∫åÂè•‰∏∫ÈöêÂºèÂÜôÊ≥ï</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span> customers c;

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o, customers c;</code></pre></div>
<ul>
<li><code>UNION</code>ËÅîÂêàÊü•ËØ¢ÁªìÊûúÔºå‰∏§Ê¨°<code>SELECT</code>ÂøÖÈ°ªÊúâÁõ∏ÂêåÁöÑÂ±ûÊÄßÊï∞ÔºåÂ±ûÊÄßÂêç‰ª•Á¨¨‰∏ÄÊ¨°Êü•ËØ¢‰∏∫‰∏ªËøõË°åÊï¥Âêà</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name
<span class="hljs-keyword">FROM</span> archived_orders
<span class="hljs-keyword">UNION</span>
<span class="hljs-keyword">SELECT</span> name
<span class="hljs-keyword">FROM</span> orders;</code></pre></div>
<h1 id="ÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§"><a href="#ÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§" class="headerlink" title="ÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§"></a>ÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§</h1><ul>
<li><code>INSERT INTO</code>ÊèíÂÖ•ÂçïË°å</li>
<li><code>DEFAULT</code>ÂèØÁî®‰∫éÂ≠òÂú®ÈªòËÆ§ÂÄºÊàñÈÄíÂ¢ûÁöÑÂ±ûÊÄß</li>
<li><code>NULL</code>ÂèØÁî®‰∫éÂÖÅËÆ∏Á©∫ÂÄºÁöÑÂ±ûÊÄß</li>
<li>ÂèØ‰ª•ÊåáÂÆöË¶ÅÊèíÂÖ•ÁöÑÂàó</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> customers
<span class="hljs-keyword">VALUES</span> (
  	<span class="hljs-keyword">DEFAULT</span>, 
  	<span class="hljs-string">&#x27;John&#x27;</span>, 
  	<span class="hljs-string">&#x27;Smith&#x27;</span>, 
  	<span class="hljs-keyword">NULL</span>,
		<span class="hljs-string">&#x27;address&#x27;</span>,
		<span class="hljs-string">&#x27;city&#x27;</span>,
		<span class="hljs-string">&#x27;CA&#x27;</span>,
		<span class="hljs-number">200</span>);

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> customers (
		first_name,
		last_name,
		birth_date,
		address,
		city,
		state)
<span class="hljs-keyword">VALUES</span> (
  	<span class="hljs-string">&#x27;John&#x27;</span>, 
  	<span class="hljs-string">&#x27;Smith&#x27;</span>, 
  	<span class="hljs-string">&#x27;1990-01-01&#x27;</span>,
		<span class="hljs-string">&#x27;address&#x27;</span>,
		<span class="hljs-string">&#x27;city&#x27;</span>,
		<span class="hljs-string">&#x27;CA&#x27;</span>);</code></pre></div>
<ul>
<li>‰ΩøÁî®<code>VALUES</code>‰πüÂèØ‰ª•‰∏ÄÊ¨°ÊèíÂÖ•Â§öË°å</li>
<li>Âú®Âà†Èô§‰∏Ä‰∫õË°åÁöÑÊÉÖÂÜµ‰∏ãÔºåËá™Â¢ûÁöÑÂ±ûÊÄßÂÄº‰æùÁÑ∂‰ºöËÆ∞‰Ωè‰ªñ‰ª¨ÔºåÂç≥Âá∫Áé∞ÈÄíÂ¢ûÂ±ûÊÄß‰∏çËøûÁª≠</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> shippers (name)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;Shipper1&#x27;</span>),
			 (<span class="hljs-string">&#x27;Shipper2&#x27;</span>),
			 (<span class="hljs-string">&#x27;Shipper3&#x27;</span>);</code></pre></div>
<ul>
<li><code>LAST_INSERT_TO()</code>Ëé∑ÂæóÊúÄÊñ∞ÊâßË°åÊàêÂäüÁöÑ<code>INSERT</code>ËØ≠Âè•ÁöÑËá™Â¢ûid</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> orders (customer_id, order_date, status)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;2019-01-01&#x27;</span>, <span class="hljs-number">1</span>);

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> order_items
<span class="hljs-keyword">VALUES</span> 
    (last_insert_id(), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2.5</span>),
    (last_insert_id(), <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1.5</span>);</code></pre></div>
<ul>
<li><code>CREATE TABLE</code>ÂèØ‰ª•ÈÄöËøá<code>SELECT</code>ËØ≠Âè•ÂàõÂª∫Âü∫‰∫éÊü•ËØ¢ÁöÑÂ§çÂà∂Ë°®ÔºåÂ±ûÊÄß‰∏çÂÜçÊã•ÊúâËá™Â¢ûÔºå‰∏ªÈîÆÁ≠âÊÄßË¥®</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders_archived <span class="hljs-keyword">AS</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders;</code></pre></div>
<ul>
<li><code>UPDATE</code>ÂÖ≥ÈîÆÂ≠óÂèØÁî®‰∫éÊõ¥Êñ∞Ë°®‰∏≠ÁöÑÊüê‰∫õË°å</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql">UPDATE invoices
<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span> <span class="hljs-operator">*</span> invoice_total, 
    payment_date <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;2019-01-01&#x27;</span>
<span class="hljs-keyword">WHERE</span> invoice_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;</code></pre></div>
<ul>
<li><code>UPDATE</code>Êìç‰Ωú‰πüÂèØ‰ª•ÁªìÂêàÂ≠êÊü•ËØ¢‰ΩøÁî®</li>
<li>Â≠êÊü•ËØ¢Ê∑ªÂä†Êã¨Âè∑Á°Æ‰øùÂÖàÊâßË°å</li>
<li>Â≠êÊü•ËØ¢ËøîÂõûÂ§ö‰∏™Êï∞ÊçÆÊó∂Â∫î‰ΩøÁî®<code>IN</code>ÂÖ≥ÈîÆÂ≠ó</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql">UPDATE invoices
<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">567</span>, 
		payment_date <span class="hljs-operator">=</span> due_date
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> 
            (<span class="hljs-keyword">SELECT</span> client_id 
            <span class="hljs-keyword">FROM</span> clients
            <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Yadel&#x27;</span>);

UPDATE invoices
<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">567</span>, 
		payment_date <span class="hljs-operator">=</span> due_date
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> 
            (<span class="hljs-keyword">SELECT</span> client_id 
            <span class="hljs-keyword">FROM</span> clients
            <span class="hljs-keyword">WHERE</span> state <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;CA&#x27;</span>, <span class="hljs-string">&#x27;NY&#x27;</span>));</code></pre></div>
<ul>
<li><code>DELETE</code>ÂÖ≥ÈîÆÂ≠óÁî®‰∫éÂà†Èô§</li>
<li><code>WHERE</code>ÂèØÈÄâÔºåÁúÅÁï•Â∞ÜÂà†Èô§Ë°®ÁöÑÊâÄÊúâËÆ∞ÂΩï</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> 
            (<span class="hljs-keyword">SELECT</span> client_id  
            <span class="hljs-keyword">FROM</span> clients
            <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Myworks&#x27;</span>);</code></pre></div>
<h1 id="Ê±áÊÄªÊï∞ÊçÆ"><a href="#Ê±áÊÄªÊï∞ÊçÆ" class="headerlink" title="Ê±áÊÄªÊï∞ÊçÆ"></a>Ê±áÊÄªÊï∞ÊçÆ</h1><ul>
<li>MysqlÂÜÖÁΩÆÊúâ<code>MAX()</code>Ôºå<code>MIN()</code>Ôºå<code>AVG()</code>Ôºå<code>SUM()</code>Ôºå<code>COUNT()</code>Á≠âËÅöÂêàÂáΩÊï∞</li>
<li>ËÅöÂêàÂáΩÊï∞‰∏ç‰ªÖÂèØ‰ª•Áî®‰∫éÂàóÔºå‰πüÂèØ‰ª•Áî®‰∫éË°®ËææÂºè</li>
<li>ËÅöÂêàÂáΩÊï∞‰ºöÂøΩÁï•Á©∫ÂÄºÔºåÂØπ‰∫é<code>COUNT()</code>ÂáΩÊï∞ÈúÄË¶ÅÊ≥®ÊÑè</li>
<li><code>COUNT(*)</code>‰∏ç‰ºöÂøΩÁï•Á©∫ÂÄºÔºå<code>*</code>Ë°®Á§∫ÂÖ®ÈÉ®Êï∞ÊçÆ</li>
<li>ÂèØ‰ª•‰ΩøÁî®<code>DISTINCT</code>Á≠õÊéâÂàóÁöÑÈáçÂ§çÂÄº</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    <span class="hljs-built_in">MAX</span>(invoice_date) <span class="hljs-keyword">AS</span> latest_date,  
    <span class="hljs-built_in">MIN</span>(invoice_total) lowest,
    <span class="hljs-built_in">AVG</span>(invoice_total) average,
    <span class="hljs-built_in">SUM</span>(invoice_total <span class="hljs-operator">*</span> <span class="hljs-number">1.1</span>) total,
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) total_records,
    <span class="hljs-built_in">COUNT</span>(invoice_total) number_of_invoices, 
    <span class="hljs-built_in">COUNT</span>(payment_date) number_of_payments,  
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> client_id) number_of_distinct_clients
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_date <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;2019-07-01&#x27;</span>;</code></pre></div>
<ul>
<li><code>GROUP BY</code>ÈÖçÂêàËÅöÂêàÂáΩÊï∞‰ΩøÁî®ÔºåËøõË°åÂàÜÁªÑÁªüËÆ°</li>
<li>Ê≥®ÊÑè<code>WHERE</code>Ôºå<code>GROUP BY</code>Ôºå<code>ORDER BY</code>ÁöÑÂÖàÂêéÈ°∫Â∫è</li>
<li><code>GROUP BY</code>‰πüÂèØ‰ª•Â§öÂàóÁªÑÂêà‰∏∫‰æùÊçÆÂàÜÁªÑÔºåÈÄóÂè∑ÂàÜÈöîÂç≥ÂèØ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,  
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_date <span class="hljs-operator">&gt;=</span> <span class="hljs-string">&#x27;2019-07-01&#x27;</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> total_sales <span class="hljs-keyword">DESC</span>;

<span class="hljs-keyword">SELECT</span> 
    state,
    city,
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">JOIN</span> clients <span class="hljs-keyword">USING</span> (client_id) 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> state, city  
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> state;</code></pre></div>
<ul>
<li><code>HAVING</code>ÂÖ≥ÈîÆÂ≠óÂØπ<code>SELECT</code>ÂêéÁöÑÁªìÊûúÂàóËøõË°å‰∫ãÂêéÁ≠õÈÄâÔºåÈÄöÂ∏∏Áî®‰∫éÂàÜÁªÑËÅöÂêàÂêéÊü•ËØ¢</li>
<li><code>HAVING</code>Âíå <code>WHERE</code> ÈÉΩÊòØÊòØÊù°‰ª∂Á≠õÈÄâËØ≠Âè•ÔºåÊù°‰ª∂ÂÜôÊ≥ïÁõ∏ÈÄö</li>
<li><code>HAVING</code>‰ΩøÁî®ÁªìÊûúÂàóÊòéÔºå<code>WHERE</code>‰ΩøÁî®ÂéüË°®ÂàóÂêç</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales,
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span><span class="hljs-operator">/</span>invoice_total<span class="hljs-operator">/</span>invoice_date) <span class="hljs-keyword">AS</span> number_of_invoices
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
<span class="hljs-keyword">HAVING</span> total_sales <span class="hljs-operator">&gt;</span> <span class="hljs-number">500</span> <span class="hljs-keyword">AND</span> number_of_invoices <span class="hljs-operator">&gt;</span> <span class="hljs-number">5</span>;</code></pre></div>
<ul>
<li>MysqlÊèê‰æõ‰∫Ü<code>ROLLUP</code>ËøêÁÆóÁ¨¶ÂØπËÅöÂêàÂÄºËøõË°åÊ±áÊÄªÔºåÂ¶Ç‰∏ãÂ∞ÜËøîÂõûÂêÑÂÆ¢Êà∑ÁöÑÂèëÁ•®ÊÄªÈ¢ù‰ª•ÂèäÊâÄÊúâ‰∫∫ÁöÑÊÄªÂèëÁ•®È¢ù</li>
<li><code>ROLLUP</code>‰∏çÊòØÊ†áÂáÜÁöÑSQLËØ≠Ë®Ä</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,
    <span class="hljs-built_in">SUM</span>(invoice_total)
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div>
<ul>
<li>ÂΩì<code>GROUP BY</code>ÂèñÂ§öÂàóÊó∂Ôºå<code>ROLLUP</code>ÂèØ‰ª•ËøõË°åÂ§öÂ±ÇÊ±áÊÄª</li>
<li>‰∏ãÈù¢Â∞ÜËøîÂõûÂêÑÂ∑ûÁöÑÂêÑÂ∏ÇÁöÑÂèëÁ•®ÊÄªÈ¢ù‰ª•ÂèäÂ∑ûÂ±ÇÊ¨°ÂíåÂÖ®ÂõΩÂ±ÇÊ¨°ÁöÑÊ±áÊÄªÈ¢ù</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    state,
    city,
    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">JOIN</span> clients <span class="hljs-keyword">USING</span> (client_id) 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> state, city <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div>
<ul>
<li>‰ΩøÁî®<code>ROLLUP</code>Êó∂Ôºå<code>GROUP BY</code>‰∏çËÉΩ‰ΩøÁî®ÂàóÂà´Âêç</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    pm.name <span class="hljs-keyword">AS</span> payment_method,
    <span class="hljs-built_in">SUM</span>(amount) <span class="hljs-keyword">AS</span> total
<span class="hljs-keyword">FROM</span> payments p
<span class="hljs-keyword">JOIN</span> payment_methods pm
    <span class="hljs-keyword">ON</span> p.payment_method <span class="hljs-operator">=</span> pm.payment_method_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> pm.name <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div>
<h1 id="ÁºñÂÜôÂ§çÊùÇÊü•ËØ¢"><a href="#ÁºñÂÜôÂ§çÊùÇÊü•ËØ¢" class="headerlink" title="ÁºñÂÜôÂ§çÊùÇÊü•ËØ¢"></a>ÁºñÂÜôÂ§çÊùÇÊü•ËØ¢</h1><ul>
<li>MysqlÂ∞ÜÂÖàÊâßË°åÊã¨Âè∑ÂÜÖÁöÑÂ≠êÊü•ËØ¢Ôºå‰πãÂêéÂ∞ÜÁªìÊûúËøîÂõûÁªôÂ§ñÊü•ËØ¢</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> unit_price <span class="hljs-operator">&gt;</span> (
    <span class="hljs-keyword">SELECT</span> unit_price
    <span class="hljs-keyword">FROM</span> products
    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> product_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> product_id
    <span class="hljs-keyword">FROM</span> order_items
);</code></pre></div>
<ul>
<li>Â≠êÊü•ËØ¢Â∞Ü‰∏ÄÂº†Ë°®ÁöÑÊü•ËØ¢ÁªìÊûú‰Ωú‰∏∫Âè¶‰∏ÄÂº†Ë°®ÁöÑÊü•ËØ¢‰æùÊçÆÂπ∂Â±ÇÂ±ÇÂµåÂ•óÔºõÈìæÊé•Â∞ÜËøô‰∫õË°®ÂêàÂπ∂Êàê‰∏Ä‰∏™ÂåÖÂê´ÊâÄÈúÄÂÖ®ÈÉ®‰ø°ÊÅØÁöÑËØ¶ÊÉÖË°®ÂÜçÁõ¥Êé•Âú®ËØ¶ÊÉÖË°®ÈáåÁ≠õÈÄâÊü•ËØ¢Ôºõ‰∏§ÁßçÊñπÊ≥ï‰∏ÄËà¨ÊòØÂèØ‰∫íÊç¢ÁöÑÔºåÂÖ∑‰ΩìÁî®Âì™‰∏ÄÁßçÂèñÂÜ≥‰∫éÊïàÁéáÂíåÂèØËØªÊÄß</li>
<li>‰æãÔºöÊü•Êâæ‰ªéÊú™ËÆ¢Ë¥≠ËøáÁöÑÈ°æÂÆ¢Ôºå‰∏ãÈù¢‰∏§ÁßçÊñπÊ≥ïÂùáÂèØËææÂà∞ÊïàÊûú</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> invoices <span class="hljs-keyword">USING</span> (client_id)
<span class="hljs-keyword">WHERE</span> invoices_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;</code></pre></div>
<ul>
<li>‰æãÔºöÈÄâÂá∫‰π∞ËøáÁîüËèúÔºàid = 3ÔºâÁöÑÈ°æÂÆ¢ÁöÑidÔºåÂßìÂíåÂêçÔºåÈááÁî®Ê∑∑ÂêàÂ≠êÊü•ËØ¢+Ë°®ËøûÊé•ÁöÑÊñπÊ≥ï</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> customer_id, first_name, last_name
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">WHERE</span> customer_id <span class="hljs-keyword">IN</span> (  
    <span class="hljs-keyword">SELECT</span> customer_id
    <span class="hljs-keyword">FROM</span> orders
    <span class="hljs-keyword">JOIN</span> order_items <span class="hljs-keyword">USING</span> (order_id)  
    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);</code></pre></div>
<ul>
<li><code>ALL</code>ÂÖ≥ÈîÆÂ≠ó‰ª£Ë°®ÈõÜÂêà‰∏≠ÁöÑ‰ªªÊÑèËÆ∞ÂΩï</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MAX</span>(invoice_total)
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ALL</span> (
    <span class="hljs-keyword">SELECT</span> invoice_total
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);</code></pre></div>
<ul>
<li><code>ANY</code>ÂÖ≥ÈîÆÂ≠ó‰ª£Ë°®ÈõÜÂêà‰∏≠Â≠òÂú®ÊüêÊù°ËÆ∞ÂΩïÔºåÂèØ‰∏é<code>MIN</code>Á≠âÊïà</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ANY</span> (
<span class="hljs-keyword">SELECT</span> invoice_total
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> (
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MIN</span>(invoice_total)
<span class="hljs-keyword">FROM</span> invoices
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
);</code></pre></div>
<ul>
<li><code>ANY</code>Êüê‰∫õÊó∂ÂÄô‰πüÂèØ‰∏é<code>IN</code>Á≠âÊïà</li>
<li>‰æãÔºöÈÄâÊã©Ëá≥Â∞ëÊúâ‰∏§Ê¨°ÂèëÁ•®ËÆ∞ÂΩïÁöÑÈ°æÂÆ¢</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2</span>
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-keyword">ANY</span> ( 
    <span class="hljs-keyword">SELECT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id
    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2</span>
);</code></pre></div>
<ul>
<li>Âú®‰∏äÈù¢ÁöÑÂ≠êÊü•ËØ¢‰∏≠ÔºåÂ≠êÊü•ËØ¢‰∏é‰∏ªÊü•ËØ¢Êó†ÂÖ≥ÔºåÂèØ‰ª•ÂÖàËøõË°åÂÆåÂ≠êÊü•ËØ¢ÔºåÂÜçËøõË°å‰∏ªÊü•ËØ¢</li>
<li>Áõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºåÂ≠êÊü•ËØ¢‰∏é‰∏ªÊü•ËØ¢ÊúâÂÖ≥</li>
<li>‰æãÔºöËøîÂõûÂêÑÈÉ®Èó®‰∏≠Â∑•ËµÑË∂ÖËøáËØ•ÈÉ®Èó®Âπ≥ÂùáÂÄºÁöÑ‰∫∫ÔºåÂØπ‰∫é<code>employees e</code>‰∏≠ÁöÑÊØèÊù°ËÆ∞ÂΩïÔºåÈÉΩÂ∞ÜÊâßË°å‰∏ÄÊ¨°Â≠êÊü•ËØ¢</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> employees e  <span class="hljs-comment">-- ÂÖ≥ÈîÆ 1</span>
<span class="hljs-keyword">WHERE</span> salary <span class="hljs-operator">&gt;</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(salary)
    <span class="hljs-keyword">FROM</span> employees
    <span class="hljs-keyword">WHERE</span> office_id <span class="hljs-operator">=</span> e.office_id  <span class="hljs-comment">-- ÂÖ≥ÈîÆ 2</span>
    <span class="hljs-comment">-- „ÄêÂ≠êÊü•ËØ¢Ë°®Â≠óÊÆµ‰∏çÁî®Âä†ÂâçÁºÄÔºå‰∏ªÊü•ËØ¢Ë°®ÁöÑÂ≠óÊÆµË¶ÅÂä†ÂâçÁºÄÔºå‰ª•Ê≠§Âå∫ÂàÜ„Äë</span>
);</code></pre></div>
<ul>
<li><code>EXISTS</code>ÂÖ≥ÈîÆÂ≠óÂ¶ÇÊûúÈõÜÂêà‰∏ç‰∏∫Á©∫ËøîÂõû<code>TRUE</code>ÔºåÂê¶ÂàôËøîÂõû<code>FALSE</code></li>
<li><code>IN + Â≠êÊü•ËØ¢</code> Á≠âÊïà‰∫é <code>EXIST + Áõ∏ÂÖ≥Â≠êÊü•ËØ¢</code>ÔºåÂ¶ÇÂâçËÄÖÂ≠êÊü•ËØ¢ÁªìÊûúÈõÜËøáÂ§ßÂç†Áî®ÂÜÖÂ≠òÔºåÂêéËÄÖÈÄêÊù°È™åËØÅÊõ¥ÊúâÊïàÁéá</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients
<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> client_id
    <span class="hljs-keyword">FROM</span> invoices
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> clients c
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">EXISTS</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
    <span class="hljs-comment">-- Â∞±Ëøô‰∏™Â≠êÊü•ËØ¢ÁöÑÁõÆÁöÑÊù•ËØ¥ÔºåSELECTÁöÑÈÄâÊã©‰∏çÂΩ±ÂìçÁªìÊûúÔºå</span>
    <span class="hljs-comment">-- Âõ†‰∏∫EXISTS()ÂáΩÊï∞Âè™Ê†πÊçÆÊòØÂê¶‰∏∫Á©∫ËøîÂõûÁªìÊûú</span>
    <span class="hljs-keyword">FROM</span> invoices
    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id
);</code></pre></div>
<ul>
<li><code>EXISTS()</code>ËøîÂõûÁöÑÊòØ <code>TRUE/FALSE</code>ÔºåÊâÄ‰ª•‰πüÂèØ‰ª•Âä†‰∏ä<code>NOT</code>ÂèñÂèç</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products 
<span class="hljs-keyword">WHERE</span> product_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (
    <span class="hljs-keyword">FROM</span> order_items
);

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> products p
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (
    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
    <span class="hljs-keyword">FROM</span> order_items
    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> p.product_id
);</code></pre></div>
<ul>
<li>‰æãÔºöÁªèÂÖ∏È¢òÁõÆÔºåÈÄâÊã©Ê≤°ÊúâÈÄâÊâÄÊúâËØæÁöÑÂ≠¶Áîü</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- ÈÄâÊã©Ê≤°ÊúâÈÄâÊâÄÊúâËØæÁöÑÂ≠¶Áîü</span>
<span class="hljs-comment">-- Â≠òÂú®Êüê‰∏ÄÊ†∑ËØæÔºåËØ•Â≠¶ÁîüÊ≤°ÊúâÂØπÂ∫îÁöÑÈÄâËØæËÆ∞ÂΩï</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> stu s
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">EXISTS</span>(
  	<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
  	<span class="hljs-keyword">FROM</span> class c
  	<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span>(
      	<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
      	<span class="hljs-keyword">FROM</span> stu_class
      	<span class="hljs-keyword">WHERE</span> stu_id <span class="hljs-operator">=</span> s.stu_id <span class="hljs-keyword">AND</span> class_id <span class="hljs-operator">=</span> c.class_id
    )
);</code></pre></div>
<ul>
<li>Â≠êÊü•ËØ¢ÊàñÁõ∏ÂÖ≥Â≠êÊü•ËØ¢‰πüÂèØÁî®‰∫é<code>SELECT</code>‰∏≠</li>
<li>ÂºïÁî®ÂêåÁ∫ßÁöÑÂàóÂà´ÂêçÔºåÈúÄË¶Å‰ΩøÁî®<code>SELECT</code>ÔºåÂºïÁî®ÂêåÁ∫ßÁöÑÂàóÂà´Âêç‰∏çÈúÄË¶ÅËØ¥ÊòéÊù•Ê∫ê</li>
<li>‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Êúâ‰∏â‰∏™Â≠êÊü•ËØ¢ÔºåÁ¨¨‰∏Ä‰∏™‰∏∫Áõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºåË°®Á§∫ÊüêÈ°æÂÆ¢ËÆ¢ÂçïÊÄªÈáèÔºåÁ¨¨‰∫å‰∏™‰∏∫Â≠êÊü•ËØ¢ÔºåË°®Á§∫ÊâÄÊúâËÆ¢ÂçïÂπ≥ÂùáÂÄºÔºåÁ¨¨‰∏â‰∏™ÂºïÁî®ÂêåÁ∫ßÁöÑÂàóÂà´ÂêçÔºåË°®Á§∫Ââç‰∏§ËÄÖÁöÑÂ∑Æ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 
    client_id,
    name,
    (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id) <span class="hljs-keyword">AS</span> total_sales,
    (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices) <span class="hljs-keyword">AS</span> average,
    (<span class="hljs-keyword">SELECT</span> total_sales <span class="hljs-operator">-</span> average) <span class="hljs-keyword">AS</span> difference   
<span class="hljs-keyword">FROM</span> clients c;</code></pre></div>
<ul>
<li>Â≠êÊü•ËØ¢‰πüÂèØÁî®‰∫é<code>FROM</code>‰∏≠</li>
<li>ÂΩìÂ≠êÊü•ËØ¢Â§™Â§çÊùÇÊó∂Â∫î‰ΩøÁî®ËßÜÂõæÂ∞ÜÂ≠êÊü•ËØ¢ÁªìÊûúÂÇ®Â≠òËµ∑Êù•Ôºå‰ΩøÁî®ËßÜÂõæ‰Ωú‰∏∫Êù•Ê∫êË°®</li>
<li>Âú®FROM‰∏≠‰ΩøÁî®Â≠êÊü•ËØ¢ÔºåÂç≥‰ΩøÁî® ‚ÄúÊ¥æÁîüË°®‚Äù Êó∂ÔºåÂøÖÈ°ªÁªôÊ¥æÁîüË°®Âèñ‰∏™Âà´Âêç</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> 
<span class="hljs-keyword">FROM</span> (
    <span class="hljs-keyword">SELECT</span> 
        client_id,
        name,
        (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id) <span class="hljs-keyword">AS</span> total_sales,
        (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices) <span class="hljs-keyword">AS</span> average,
        (<span class="hljs-keyword">SELECT</span> total_sales <span class="hljs-operator">-</span> average) <span class="hljs-keyword">AS</span> difference   
    <span class="hljs-keyword">FROM</span> clients c
) <span class="hljs-keyword">AS</span> sales_summury
<span class="hljs-keyword">WHERE</span> total_sales <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;</code></pre></div>
<h1 id="Âü∫Êú¨ÂáΩÊï∞"><a href="#Âü∫Êú¨ÂáΩÊï∞" class="headerlink" title="Âü∫Êú¨ÂáΩÊï∞"></a>Âü∫Êú¨ÂáΩÊï∞</h1><p>ÂÜÖÁΩÆÁöÑÁî®Êù•Â§ÑÁêÜÊï∞ÂÄº„ÄÅÊñáÊú¨„ÄÅÊó•ÊúüÁ≠âÁöÑÂáΩÊï∞</p>
<ul>
<li>Êï∞ÂÄºÂáΩÊï∞</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> ROUND(<span class="hljs-number">5.7365</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">-- ÂõõËàç‰∫îÂÖ•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">TRUNCATE</span>(<span class="hljs-number">5.7365</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">-- Êà™Êñ≠</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CEILING</span>(<span class="hljs-number">5.2</span>)  <span class="hljs-comment">-- Â§©Ëä±ÊùøÂáΩÊï∞ÔºåÂ§ß‰∫éÁ≠â‰∫éÊ≠§Êï∞ÁöÑÊúÄÂ∞èÊï¥Êï∞</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">FLOOR</span>(<span class="hljs-number">5.6</span>)  <span class="hljs-comment">-- Âú∞ÊùøÂáΩÊï∞ÔºåÂ∞è‰∫éÁ≠â‰∫éÊ≠§Êï∞ÁöÑÊúÄÂ§ßÊï¥Êï∞</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ABS</span>(<span class="hljs-number">-5.2</span>)  <span class="hljs-comment">-- ÁªùÂØπÂÄº</span>
<span class="hljs-keyword">SELECT</span> RAND()  <span class="hljs-comment">-- ÈöèÊú∫ÂáΩÊï∞Ôºå0Âà∞1ÁöÑÈöèÊú∫ÂÄº</span></code></pre></div>
<ul>
<li>Â≠óÁ¨¶‰∏≤ÂáΩÊï∞</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> LENGTH(<span class="hljs-string">&#x27;sky&#x27;</span>)  <span class="hljs-comment">-- Â≠óÁ¨¶‰∏≤Â≠óÁ¨¶‰∏™Êï∞</span>

<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">UPPER</span>(<span class="hljs-string">&#x27;sky&#x27;</span>)  <span class="hljs-comment">-- ËΩ¨Â§ßÂÜô</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-string">&#x27;Sky&#x27;</span>)  <span class="hljs-comment">-- ËΩ¨Â∞èÂÜô</span>

<span class="hljs-keyword">SELECT</span> LTRIM(<span class="hljs-string">&#x27;  Sky&#x27;</span>)  <span class="hljs-comment">-- ÂéªÈô§Â∑¶Â§ö‰ΩôÁ©∫Ê†º</span>
<span class="hljs-keyword">SELECT</span> RTRIM(<span class="hljs-string">&#x27;Sky  &#x27;</span>)  <span class="hljs-comment">-- ÂéªÈô§Âè≥Â§ö‰ΩôÁ©∫Ê†º</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">TRIM</span>(<span class="hljs-string">&#x27; Sky &#x27;</span>)  <span class="hljs-comment">-- ÂéªÈô§Â§ö‰ΩôÁ©∫Ê†º</span>

<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">LEFT</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">4</span>)  <span class="hljs-comment">-- ÂèñÂ∑¶4‰∏™Â≠óÁ¨¶</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">RIGHT</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment">-- ÂèñÂè≥6‰∏™Â≠óÁ¨¶</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUBSTRING</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment">-- ‰ªéÁ¨¨7‰∏™ÂºÄÂßãÈïøÂ∫¶‰∏∫6ÁöÑÂ≠ê‰∏≤ÔºåÁúÅÁï•ÈïøÂ∫¶ÂèÇÊï∞ÂàôÂèñÂà∞Êú´Á´Ø</span>

<span class="hljs-keyword">SELECT</span> LOCATE(<span class="hljs-string">&#x27;gar&#x27;</span>, <span class="hljs-string">&#x27;Kindergarden&#x27;</span>)  <span class="hljs-comment">-- ÂÆö‰ΩçÈ¶ñÊ¨°Âá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÊ≤°ÊúâÁöÑËØùËøîÂõû0Ôºå‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô</span>

<span class="hljs-keyword">SELECT</span> REPLACE(<span class="hljs-string">&#x27;Kindergarten&#x27;</span>, <span class="hljs-string">&#x27;garten&#x27;</span>, <span class="hljs-string">&#x27;garden&#x27;</span>)  <span class="hljs-comment">-- ÊõøÊç¢</span>

<span class="hljs-keyword">SELECT</span> CONCAT(f_name, <span class="hljs-string">&#x27; &#x27;</span>, l_name) <span class="hljs-keyword">AS</span> f_name <span class="hljs-keyword">FROM</span> customers  <span class="hljs-comment">-- ËøûÊé•</span></code></pre></div>
<ul>
<li>Â§ÑÁêÜÊó∂Èó¥Êó•ÊúüÁöÑÂáΩÊï∞</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- ÂΩìÂâçÊó∂Èó¥Êó•ÊúüÂØπË±°</span>
<span class="hljs-keyword">SELECT</span> NOW()  <span class="hljs-comment">-- 2021-08-27 08:50:46</span>
<span class="hljs-keyword">SELECT</span> CURDATE()  <span class="hljs-comment">-- 2021-08-27</span>
<span class="hljs-keyword">SELECT</span> CURTIME()  <span class="hljs-comment">-- 08:50:46</span>

<span class="hljs-comment">-- ÊèêÂèñÊó∂Èó¥Êó•ÊúüÂØπË±°‰∏≠ÁöÑÂÖÉÁ¥†</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">YEAR</span>(NOW())  <span class="hljs-comment">-- 2021</span>

<span class="hljs-keyword">SELECT</span> DAYNAME(NOW())  <span class="hljs-comment">-- Saturday</span>
<span class="hljs-keyword">SELECT</span> MONTHNAME(NOW())  <span class="hljs-comment">-- September</span></code></pre></div>
<ul>
<li>Êó•ÊúüÊ†ºÂºèÂåñÔºåÊ†ºÂºèËØ¥ÊòéÁ¨¶ÈáåÔºåÂ§ßÂ∞èÂÜôÊòØ‰∏çÂêåÁöÑÔºåËøôÊòØÁõÆÂâçSQLÈáåÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞Â§ßÂ∞èÂÜô‰∏çÂêåÁöÑÊÉÖÂÜµ</li>
</ul>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="hljs-string">&#x27;%M %d, %Y&#x27;</span>)  <span class="hljs-comment">-- September 12, 2020</span>
<span class="hljs-keyword">SELECT</span> TIME_FORMAT(NOW(), <span class="hljs-string">&#x27;%H:%i %p&#x27;</span>)  <span class="hljs-comment">-- 11:07 AM</span></code></pre></div>
<h1 id="SELECT-ËØ≠Âè•ÊâßË°åÈ°∫Â∫è"><a href="#SELECT-ËØ≠Âè•ÊâßË°åÈ°∫Â∫è" class="headerlink" title="SELECT ËØ≠Âè•ÊâßË°åÈ°∫Â∫è"></a>SELECT ËØ≠Âè•ÊâßË°åÈ°∫Â∫è</h1><p>ÂÖ∂‰∏≠ÊØè‰∏Ä‰∏™Êìç‰ΩúÈÉΩ‰ºö‰∫ßÁîü‰∏ÄÂº†ËôöÊãüÁöÑË°®ÔºåËøô‰∏™ËôöÊãüÁöÑË°®‰Ωú‰∏∫‰∏Ä‰∏™Â§ÑÁêÜÁöÑËæìÂÖ•ÔºåÂè™ÊòØËøô‰∫õËôöÊãüÁöÑË°®ÂØπÁî®Êà∑Êù•ËØ¥ÊòØÈÄèÊòéÁöÑÔºåÂè™ÊúâÊúÄÂêé‰∏Ä‰∏™ËôöÊãüÁöÑË°®Êâç‰ºöË¢´‰Ωú‰∏∫ÁªìÊûúËøîÂõû„ÄÇ </p>
<ol>
<li>FORMÔºöÂØπË°®ËÆ°ÁÆóÁ¨õÂç°Â∞îÁßØÔºå‰∫ßÁîüËôöË°®VT1„ÄÇ</li>
<li>ONÔºöÂØπËôöË°®VT1ËøõË°åONÁ≠õÈÄâÔºåÂè™ÊúâÈÇ£‰∫õÁ¨¶Âêà<code>join-condition</code>ÁöÑË°åÊâç‰ºöË¢´ËÆ∞ÂΩïÂú®ËôöË°®VT2‰∏≠„ÄÇ</li>
<li>JOINÔºöÂ¶ÇÊûúÊåáÂÆö‰∫ÜOUTER JOINÔºàÊØîÂ¶Çleft join„ÄÅ right joinÔºâÔºåÈÇ£‰πà‰øùÁïôË°®‰∏≠Êú™ÂåπÈÖçÁöÑË°åÂ∞±‰ºö‰Ωú‰∏∫Â§ñÈÉ®Ë°åÊ∑ªÂä†Âà∞ËôöÊãüË°®VT2‰∏≠Ôºå‰∫ßÁîüËôöÊãüË°®VT3, Â¶ÇÊûúfromÂ≠êÂè•‰∏≠ÂåÖÂê´‰∏§‰∏™‰ª•‰∏äÁöÑË°®ÁöÑËØùÔºåÈÇ£‰πàÂ∞±‰ºöÂØπ‰∏ä‰∏Ä‰∏™joinËøûÊé•‰∫ßÁîüÁöÑÁªìÊûúVT3Âíå‰∏ã‰∏Ä‰∏™Ë°®ÈáçÂ§çÊâßË°åÊ≠•È™§1~3Ëøô‰∏â‰∏™Ê≠•È™§Ôºå‰∏ÄÁõ¥Âà∞Â§ÑÁêÜÂÆåÊâÄÊúâÁöÑË°®‰∏∫Ê≠¢„ÄÇ</li>
<li>WHEREÔºöÂØπËôöÊãüË°®VT3ËøõË°åWHEREÊù°‰ª∂ËøáÊª§„ÄÇÂè™ÊúâÁ¨¶Âêà<code>where-condition</code>ÁöÑËÆ∞ÂΩïÊâç‰ºöË¢´ÊèíÂÖ•Âà∞ËôöÊãüË°®VT4‰∏≠„ÄÇ</li>
<li>GROUP BYÔºöÊ†πÊçÆgroup byÂ≠êÂè•‰∏≠ÁöÑÂàóÔºåÂØπVT4‰∏≠ÁöÑËÆ∞ÂΩïËøõË°åÂàÜÁªÑÊìç‰ΩúÔºå‰∫ßÁîüVT5„ÄÇ</li>
<li>HAVINGÔºöÂØπËôöÊãüË°®VT5Â∫îÁî®havingËøáÊª§ÔºåÂè™ÊúâÁ¨¶Âêà<code>having-condition</code>ÁöÑËÆ∞ÂΩïÊâç‰ºöË¢´ÊèíÂÖ•Âà∞ËôöÊãüË°®VT6‰∏≠„ÄÇ</li>
<li>SELECTÔºöÊâßË°åselectÊìç‰ΩúÔºåÈÄâÊã©ÊåáÂÆöÁöÑÂàóÔºåÊèíÂÖ•Âà∞ËôöÊãüË°®VT7‰∏≠„ÄÇ</li>
<li>DISTINCTÔºöÂØπVT7‰∏≠ÁöÑËÆ∞ÂΩïËøõË°åÂéªÈáç„ÄÇ‰∫ßÁîüËôöÊãüË°®VT8„ÄÇ</li>
<li>ORDER BY: Â∞ÜËôöÊãüË°®VT8‰∏≠ÁöÑËÆ∞ÂΩïÊåâÁÖß<order_by_list>ËøõË°åÊéíÂ∫èÊìç‰ΩúÔºå‰∫ßÁîüËôöÊãüË°®VT9„ÄÇ</li>
<li>LIMITÔºöÂèñÂá∫ÊåáÂÆöË°åÁöÑËÆ∞ÂΩïÔºå‰∫ßÁîüËôöÊãüË°®VT10,Âπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇ</li>
</ol>
<h1 id="ÂèÇËÄÉËµÑÊñô"><a href="#ÂèÇËÄÉËµÑÊñô" class="headerlink" title="ÂèÇËÄÉËµÑÊñô"></a>ÂèÇËÄÉËµÑÊñô</h1><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1UE41147KC?p=34">‰ºüÂ§ßÁöÑÊµ∑‰º¶Âêõ.SQLËøõÈò∂ÊïôÁ®ã</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/222865842">ASC2050.MoshÂÆåÂÖ®ÊéåÊè°SQLÁ¨îËÆ∞</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">ËÆ°ÁÆóÊú∫Âü∫Á°Ä</a>
                    
                  </div>
                
                
              </div>
              
                <p class="note note-warning">
                  
                    Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî® <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 ÂçèËÆÆ</a> ÔºåËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§ÑÔºÅ
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/09/05/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Ëã±ËØ≠ËØ≠Ê≥ï</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/08/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/">
                        <span class="hidden-mobile">ËÆ°ÁÆóÊú∫ÁΩëÁªúÈù¢ËØï</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="twikoo"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/twikoo@1.3.1/dist/twikoo.all.min.js', function() {
        var options = Object.assign(
          {"envId":"blogs-8gjs26956a49a40f","region":"ap-guangzhou","path":null},
          {
            el: '#twikoo',
            path: ''
          }
        )
        twikoo.init(options)
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ÁõÆÂΩï</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>









  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8.10.1/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>







<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°π ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<script  src="/js/boot.js" ></script>


</body>
</html>
