<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Mysql-Code with Mosh ç¬”è®°</title>
    <link href="/2021/08/26/Mysql%20with%20Mosh/"/>
    <url>/2021/08/26/Mysql%20with%20Mosh/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p><strong>brewå®‰è£…Mysql</strong></p><div class="code-wrapper"><pre><code class="hljs no">lihan@LideMacBook-Air ~ % brew install mysql==&gt; Installing mysql==&gt; SummaryğŸº  /opt/homebrew/Cellar/mysql/8.0.26: 303 files, 296.7MB==&gt; mysqlWe&#x27;ve installed your MySQL database without a root password. To secure it run:    mysql_secure_installationMySQL is configured to only allow connections from localhost by defaultTo connect run:    mysql -urootTo have launchd start mysql now and restart at login:  brew services start mysqlOr, if you don&#x27;t want/need a background service you can just run:  mysql.server startlihan@LideMacBook-Air ~ % mysql.server startStarting MySQL.. SUCCESS! lihan@LideMacBook-Air ~ % mysql_secure_installationSecuring the MySQL server deployment.Connecting to MySQL using a blank password.VALIDATE PASSWORD COMPONENT can be used to test passwordsand improve security. It checks the strength of passwordand allows the users to set only those passwords which aresecure enough. Would you like to setup VALIDATE PASSWORD component?Press y|Y for Yes, any other key for No: yThere are three levels of password validation policy:LOW    Length &gt;= 8MEDIUM Length &gt;= 8, numeric, mixed case, and special charactersSTRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary                  filePlease enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2Please set the password for root here.New password: Re-enter new password: Estimated strength of the password: 100 Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : yBy default, a MySQL installation has an anonymous user,allowing anyone to log into MySQL without having to havea user account created for them. This is intended only fortesting, and to make the installation go a bit smoother.You should remove them before moving into a productionenvironment.Remove anonymous users? (Press y|Y for Yes, any other key for No) : ySuccess.Normally, root should only be allowed to connect from&#x27;localhost&#x27;. This ensures that someone cannot guess atthe root password from the network.Disallow root login remotely? (Press y|Y for Yes, any other key for No)  n     ... skipping.By default, MySQL comes with a database named &#x27;test&#x27; thatanyone can access. This is also intended only for testing,and should be removed before moving into a productionenvironment.Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y - Dropping test database...Success. - Removing privileges on test database...Success.Reloading the privilege tables will ensure that all changesmade so far will take effect immediately.Reload privilege tables now? (Press y|Y for Yes, any other key for No) : ySuccess.All done! lihan@LideMacBook-Air ~ % mysql -u root -pEnter password: Welcome to the MySQL monitor.  Commands end with ; or \g.Your MySQL connection id is 11Server version: 8.0.26 HomebrewCopyright (c) 2000, 2021, Oracle and/or its affiliates.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.mysql&gt; exit;Bye</code></pre></div><p><strong>å»ºç«‹æ•°æ®åº“</strong></p><div class="code-wrapper"><pre><code class="hljs no">é“¾æ¥ï¼šhttps://pan.baidu.com/s/1xDsDWFLiRITYTT6HoFb7Tw æå–ç ï¼šs5iz</code></pre></div><p>æ³¨æ„å­˜æ”¾ä½ç½®å¦‚æœæœ‰ä¸­æ–‡è·¯å¾„å¯èƒ½ä¼šåœ¨ä¹‹åæŠ¥<code>error 2</code>é”™è¯¯</p><p>åœ¨<code>source</code>åç›´æ¥æ‹–å…¥<code>sql</code>æ–‡ä»¶å³å¯</p><div class="code-wrapper"><pre><code class="hljs no">mysql&gt; create database mydatabase;Query OK, 1 row affected (0.01 sec)mysql&gt; use mydatabaseDatabase changedmysql&gt; source /Users/lihan/Desktop/summer/create-databases.sql Query OK, 0 rows affected, 1 warning (0.00 sec)....mysql&gt; show databases;+--------------------+| Database           |+--------------------+| information_schema || mydatabase         || mysql              || performance_schema || sql_hr             || sql_inventory      || sql_invoicing      || sql_store          || sys                |+--------------------+9 rows in set (0.00 sec)mysql&gt; drop database mydatabase;Query OK, 0 rows affected (0.01 sec)</code></pre></div><h1 id="å•è¡¨æ£€ç´¢"><a href="#å•è¡¨æ£€ç´¢" class="headerlink" title="å•è¡¨æ£€ç´¢"></a>å•è¡¨æ£€ç´¢</h1><ul><li>Mysqlå¤§å°å†™ä¸åˆ†ï¼Œå»ºè®®å¤§å†™å…³é”®å­—ï¼Œå°å†™å…¶ä»–å†…å®¹</li><li>åœ¨è¡Œå‰ä½¿ç”¨<code>--</code>è¡¨ç¤ºæ³¨é‡Š</li><li>æ¯ä¸ªè¯­å¥åä½¿ç”¨<code>;</code>è¡¨ç¤ºç»“æŸ</li><li>å¯ä»¥ä½¿ç”¨ç®—æœ¯è¡¨è¾¾å¼</li><li>å¯ä»¥ä½¿ç”¨<code>AS</code>å…³é”®å­—ä¸ºåˆ—å–åˆ«å</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name, point <span class="hljs-operator">*</span> <span class="hljs-number">10</span> <span class="hljs-operator">+</span> <span class="hljs-number">100</span> <span class="hljs-keyword">AS</span> `discount_factor`<span class="hljs-keyword">FROM</span> customers<span class="hljs-comment">-- WHERE custom_id = 1</span><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> first_name;</code></pre></div><ul><li><code>DISTINCT</code>å¯ä»¥åˆ é™¤é‡å¤é¡¹ï¼Œ <em>é‡å¤</em>æ˜¯ä»¥åˆ—çš„ç»„åˆåˆ¤æ–­çš„ï¼Œ<code>DISTINCT</code>å¿…é¡»æ”¾åœ¨å¼€å¤´</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> state <span class="hljs-keyword">FROM</span> customers;</code></pre></div><ul><li><code>WHERE</code>ä¸­å¯¹äºæ–‡æœ¬éœ€è¦ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·ï¼Œæ–‡æœ¬å¤§å°å†™ä¸æ•æ„Ÿ</li><li>æ³¨æ„æ­¤å¤„çš„<code>Customers</code>ä¸<code>va</code>å‡å¤§å°å†™ä¸æ•æ„Ÿ</li><li><code>!=</code> ï¼Œ<code>&lt;&gt;</code>å‡æ„ä¸ºä¸ç­‰äº</li><li>æ—¥æœŸç±»å‹æ•°æ®ä¹Ÿéœ€ä½¿ç”¨å¼•å·</li><li>å¯ä»¥ä½¿ç”¨<code>AND</code>ï¼Œ<code>OR</code>ï¼Œ<code>NOT</code>åˆ›å»ºå¤åˆæ¡ä»¶è¯­å¥</li><li>æ¡ä»¶è¯­å¥ä¸­å¯ä»¥ä½¿ç”¨ç®—æ•°è¡¨è¾¾å¼</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> Customers<span class="hljs-keyword">WHERE</span> state <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;va&#x27;</span> <span class="hljs-keyword">AND</span> birth_data <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;1990-01-01&#x27;</span>;</code></pre></div><ul><li><code>IN</code>å…³é”®å­—åˆ¤æ–­æ˜¯å¦åœ¨é›†åˆä¸­</li><li><code>BETWEEN</code>å…³é”®å­—åˆ¤æ–­æ˜¯å¦åœ¨é—­åŒºé—´å†…</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> customers<span class="hljs-keyword">WHERE</span> state <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;VA&#x27;</span>, <span class="hljs-string">&#x27;FL&#x27;</span>) <span class="hljs-keyword">AND</span> points <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">1000</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">2000</span>;</code></pre></div><ul><li><code>LIKE</code>å…³é”®å­—ç”¨äºæ–‡æœ¬æ¨¡ç³ŠåŒ¹é…å¸¸ç”¨çš„æœ‰ï¼š<code>_</code>å•ä¸€å­—ç¬¦ï¼Œ<code>%</code>ä»»æ„æ•°ç›®å­—ç¬¦</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> customers<span class="hljs-keyword">WHERE</span> last_name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%field%&#x27;</span>;</code></pre></div><ul><li><code>REGEXP</code>å…³é”®å­—ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ¨¡ç³ŠåŒ¹é…</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> customers<span class="hljs-keyword">WHERE</span> last_name REGEXP <span class="hljs-string">&#x27;field&#x27;</span>;</code></pre></div><ul><li><code>NULL</code>è¡¨ç¤ºç©ºå€¼</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> customers<span class="hljs-keyword">WHERE</span> phone <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;</code></pre></div><ul><li>ç»“æœé›†é»˜è®¤ä»¥ä¸»é”®ä¸ºæ ‡å‡†è¿›è¡Œç”Ÿåºæ’åºï¼Œä½¿ç”¨<code>ORDER BY</code>å…³é”®å­—å¯ä»¥ä½¿ç”¨å…¶ä»–åˆ—ä¸ºæ ‡å‡†æ’åº</li><li>é»˜è®¤å‡åºæ’åºï¼Œä½¿ç”¨<code>DESC</code>è¿›è¡Œé™åºæ’åº</li><li>å¯ä»¥ä½¿ç”¨å¤šä¸ªæ’åºè§„åˆ™ï¼Œè¶Šé å‰ä¼˜å…ˆçº§è¶Šé«˜</li><li>Mysqlä¸­å…è®¸ç”¨äºæ’åºçš„åˆ—ä¸æ˜¯ç»“æœé›†çš„åˆ—</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name<span class="hljs-keyword">FROM</span> customers<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> state <span class="hljs-keyword">DESC</span>, first_name <span class="hljs-keyword">DESC</span>;</code></pre></div><ul><li><code>LIMIT</code>å…³é”®å­—ç”¨äºé™åˆ¶ç»“æœé›†å¤§å°ï¼Œå¯ç”¨äºç½‘ç«™åˆ†é¡µ</li><li><code>LIMIT 3</code>ä»£è¡¨ç»“æœé›†å¤§å°ä¸º3ï¼Œ<code>LIMIT 6, 3</code>ä»£è¡¨è·³è¿‡6è¡Œå–3è¡Œ</li><li>æ³¨æ„<code>WHERE</code>ï¼Œ<code>ORDER BY</code>ï¼Œ<code>LIMIT</code>åœ¨è¯­å¥ä¸­å‡ºç°çš„å…ˆåé¡ºåº</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> customers<span class="hljs-keyword">WHERE</span> state <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;va&#x27;</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> points <span class="hljs-keyword">DESC</span>LIMIT <span class="hljs-number">3</span>;</code></pre></div><h1 id="å¤šè¡¨æ£€ç´¢"><a href="#å¤šè¡¨æ£€ç´¢" class="headerlink" title="å¤šè¡¨æ£€ç´¢"></a>å¤šè¡¨æ£€ç´¢</h1><ul><li><code>JOIN</code>é»˜è®¤ä»£è¡¨å†…è¿æ¥å³ <code>INNER JOIN</code></li><li>å¯ä»¥ä¸ºè¡¨å–åˆ«å</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> o.customer_id<span class="hljs-keyword">FROM</span> orders o<span class="hljs-keyword">JOIN</span> customers <span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> customer.customer_id;</code></pre></div><ul><li>å¯ä»¥å¯¹ä¸åŒæ•°æ®åº“çš„è¡¨è¿›è¡Œè¿æ¥</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> order_items oi<span class="hljs-keyword">JOIN</span> sql_inventory.products p <span class="hljs-keyword">ON</span> oi.product_id <span class="hljs-operator">=</span> p.product_id;</code></pre></div><ul><li>è¡¨ä¹Ÿå¯ä»¥ä¸è‡ªèº«è¿›è¡Œè¿æ¥ï¼Œç§°ä¸ºè‡ªè¿æ¥</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> e.employee_id, e.first_name, m.first_nam<span class="hljs-keyword">FROM</span> employees e<span class="hljs-keyword">JOIN</span> employees m <span class="hljs-keyword">WHERE</span> e.reports_to <span class="hljs-operator">=</span> m.employee_id;</code></pre></div><ul><li><p><code>JOIN</code>å¤šæ¬¡ä½¿ç”¨å¯ä»¥å¤šè¡¨è¿æ¥</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o<span class="hljs-keyword">JOIN</span> customers c<span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id<span class="hljs-keyword">JOIN</span> order_statuses os<span class="hljs-keyword">ON</span> o.status <span class="hljs-operator">=</span> os.order_status_id;</code></pre></div></li><li><p><code>AND</code>åˆ›å»ºå¤åˆè¿æ¥æ¡ä»¶</p></li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> order_items oi<span class="hljs-keyword">JOIN</span> order_items_notes oin<span class="hljs-keyword">ON</span> oi.order_id <span class="hljs-operator">=</span> oin.order_id<span class="hljs-keyword">AND</span> oi.product_id <span class="hljs-operator">=</span> oin.product_id;</code></pre></div><ul><li>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨æ˜¾å¼è¿æ¥ï¼ˆç¬¬ä¸€å¥ï¼‰è€Œä¸æ˜¯éšå¼è¿æ¥ï¼ˆç¬¬äºŒå¥ï¼‰</li><li>æ˜¾å¼è¿æ¥ä¸åŠ <code>ON</code>æŒ‡åè¿æ¥æ¡ä»¶æˆ–éšå¼è¿æ¥ä¸åŠ <code>WHERE</code>ï¼Œçš„æ—¶å€™ç§°ä¸ºäº¤å‰è¿æ¥ï¼Œè¿”å›ç¬›å¡å°”ç§¯çš„ç»“æœ</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o<span class="hljs-keyword">JOIN</span> customers c<span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id;<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o, customers c<span class="hljs-keyword">WHERE</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id;<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o, customers c;</code></pre></div><ul><li><code>LEFT JOIN</code>å·¦å¤–è¿æ¥è¡¨ç¤ºæ‰€æœ‰å·¦è¡¨çš„è®°å½•éƒ½ä¼šè¿”å›ï¼Œå¦‚æœå³è¡¨æ²¡æœ‰ç›¸åŒ¹é…çš„ç»“æœï¼Œå¯¹åº”ä½ç½®ç½®ä¸ºNULL</li><li><code>OUTER</code>å…³é”®å­—ä¸€èˆ¬çœå»</li><li>ä¸ºä½¿å¾—è¯­å¥æ¸…æ™°ï¼Œå¤–è¿æ¥å°½é‡ä½¿ç”¨å·¦è¿æ¥</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> customers c<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> orders o<span class="hljs-keyword">ON</span> c.customer_id <span class="hljs-operator">=</span> o.customer_id;</code></pre></div><ul><li>å¤šè¡¨è¿æ¥æ—¶å€™ï¼Œåˆ¤æ–­å·¦å³è¡¨å…³ç³»ä¼¼ä¹æ˜¯æŒ‰ç…§<code>ON</code>æ¥çš„ï¼Œæœ‰å¾…è¡¥å……</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> customers c<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> orders o<span class="hljs-keyword">ON</span> c.customer_id <span class="hljs-operator">=</span> o.customer_id<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> shippers sh<span class="hljs-keyword">ON</span> o.shipper_id <span class="hljs-operator">=</span> sh.shipper_id<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> c.customer_id;</code></pre></div><ul><li>å’Œå†…è¿æ¥ç±»ä¼¼ï¼Œå¤–è¿æ¥ä¹Ÿå¯ä»¥è‡ªè¿æ¥</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> employees m<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> emplyees m<span class="hljs-keyword">ON</span> e.reports_to <span class="hljs-operator">=</span> m.emplyee_id;</code></pre></div><ul><li>å½“ä¸¤ä¸ªè¡¨çš„åˆ—åå®Œå…¨ä¸€æ ·æ—¶ï¼Œä½¿ç”¨<code>USING</code>ç®€åŒ–ï¼Œ<code>USING</code>åŒæ ·é€‚ç”¨äºæœ‰å¤šä¸ªåˆ—ä½œä¸ºé”®ç çš„æƒ…å†µ</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o<span class="hljs-keyword">JOIN</span> customers c<span class="hljs-comment">-- ON o.customer_id = c.customer_id</span><span class="hljs-keyword">USING</span> (customer_id);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> order_items oi<span class="hljs-keyword">JOIN</span> order_items_notes oin<span class="hljs-comment">-- ON oi.order_id = oin.order_id</span><span class="hljs-comment">-- AND oi.product_id = oin.product_id;</span><span class="hljs-keyword">USING</span> (order_id, product_id);</code></pre></div><ul><li><p><code>NATURAL JOIN</code>è‡ªç„¶è¿æ¥ï¼Œä½¿ç”¨åŒåçš„å±æ€§ç»„ï¼Œå¹¶ä¸”åœ¨ç»“æœä¸­æŠŠé‡å¤çš„å±æ€§åˆ—å»æ‰ï¼Œä¸å»ºè®®ä½¿ç”¨</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o<span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> customers c;</code></pre></div></li><li><p><code>CROSS JOIN</code>äº¤å‰è¿æ¥ï¼Œè¿”å›ç¬›å¡å°”ç§¯ï¼Œå³æ‰€æœ‰çš„ç»„åˆç»“æœ</p></li><li>ç¬¬ä¸€å¥ä¸ºæ˜¾å¼å†™æ³•ï¼Œç¬¬äºŒå¥ä¸ºéšå¼å†™æ³•</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o<span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span> customers c;<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> orders o, customers c;</code></pre></div><ul><li><p><code>UNION</code>è”åˆæŸ¥è¯¢ç»“æœï¼Œä¸¤æ¬¡<code>SELECT</code>å¿…é¡»æœ‰ç›¸åŒçš„å±æ€§æ•°ï¼Œå±æ€§åä»¥ç¬¬ä¸€æ¬¡æŸ¥è¯¢ä¸ºä¸»è¿›è¡Œæ•´åˆ</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> first_name<span class="hljs-keyword">FROM</span> archived_orders<span class="hljs-keyword">UNION</span><span class="hljs-keyword">SELECT</span> name<span class="hljs-keyword">FROM</span> orders;</code></pre></div></li></ul><h1 id="æ’å…¥ã€æ›´æ–°ã€åˆ é™¤"><a href="#æ’å…¥ã€æ›´æ–°ã€åˆ é™¤" class="headerlink" title="æ’å…¥ã€æ›´æ–°ã€åˆ é™¤"></a>æ’å…¥ã€æ›´æ–°ã€åˆ é™¤</h1><ul><li><code>INSERT INTO</code>æ’å…¥å•è¡Œ</li><li><code>DEFAULT</code>å¯ç”¨äºå­˜åœ¨é»˜è®¤å€¼æˆ–é€’å¢çš„å±æ€§</li><li><code>NULL</code>å¯ç”¨äºå…è®¸ç©ºå€¼çš„å±æ€§</li><li>å¯ä»¥æŒ‡å®šè¦æ’å…¥çš„åˆ—</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> customers<span class="hljs-keyword">VALUES</span> (  <span class="hljs-keyword">DEFAULT</span>,   <span class="hljs-string">&#x27;John&#x27;</span>,   <span class="hljs-string">&#x27;Smith&#x27;</span>,   <span class="hljs-keyword">NULL</span>,<span class="hljs-string">&#x27;address&#x27;</span>,<span class="hljs-string">&#x27;city&#x27;</span>,<span class="hljs-string">&#x27;CA&#x27;</span>,<span class="hljs-number">200</span>);<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> customers (first_name,last_name,birth_date,address,city,state)<span class="hljs-keyword">VALUES</span> (  <span class="hljs-string">&#x27;John&#x27;</span>,   <span class="hljs-string">&#x27;Smith&#x27;</span>,   <span class="hljs-string">&#x27;1990-01-01&#x27;</span>,<span class="hljs-string">&#x27;address&#x27;</span>,<span class="hljs-string">&#x27;city&#x27;</span>,<span class="hljs-string">&#x27;CA&#x27;</span>);</code></pre></div><ul><li>ä½¿ç”¨<code>VALUES</code>ä¹Ÿå¯ä»¥ä¸€æ¬¡æ’å…¥å¤šè¡Œ</li><li>åœ¨åˆ é™¤ä¸€äº›è¡Œçš„æƒ…å†µä¸‹ï¼Œè‡ªå¢çš„å±æ€§å€¼ä¾ç„¶ä¼šè®°ä½ä»–ä»¬ï¼Œå³å‡ºç°é€’å¢å±æ€§ä¸è¿ç»­</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> shippers (name)<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;Shipper1&#x27;</span>), (<span class="hljs-string">&#x27;Shipper2&#x27;</span>), (<span class="hljs-string">&#x27;Shipper3&#x27;</span>);</code></pre></div><ul><li><code>LAST_INSERT_TO()</code>è·å¾—æœ€æ–°æ‰§è¡ŒæˆåŠŸçš„<code>INSERT</code>è¯­å¥çš„è‡ªå¢id</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> orders (customer_id, order_date, status)<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;2019-01-01&#x27;</span>, <span class="hljs-number">1</span>);<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> order_items<span class="hljs-keyword">VALUES</span>     (last_insert_id(), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2.5</span>),    (last_insert_id(), <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1.5</span>);</code></pre></div><ul><li><code>CREATE TABLE</code>å¯ä»¥é€šè¿‡<code>SELECT</code>è¯­å¥åˆ›å»ºåŸºäºæŸ¥è¯¢çš„å¤åˆ¶è¡¨ï¼Œå±æ€§ä¸å†æ‹¥æœ‰è‡ªå¢ï¼Œä¸»é”®ç­‰æ€§è´¨</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders_archived <span class="hljs-keyword">AS</span><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders;</code></pre></div><ul><li><code>UPDATE</code>å…³é”®å­—å¯ç”¨äºæ›´æ–°è¡¨ä¸­çš„æŸäº›è¡Œ</li></ul><div class="code-wrapper"><pre><code class="hljs sql">UPDATE invoices<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">0.5</span> <span class="hljs-operator">*</span> invoice_total,     payment_date <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;2019-01-01&#x27;</span><span class="hljs-keyword">WHERE</span> invoice_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;</code></pre></div><ul><li><code>UPDATE</code>æ“ä½œä¹Ÿå¯ä»¥ç»“åˆå­æŸ¥è¯¢ä½¿ç”¨</li><li>å­æŸ¥è¯¢æ·»åŠ æ‹¬å·ç¡®ä¿å…ˆæ‰§è¡Œ</li><li>å­æŸ¥è¯¢è¿”å›å¤šä¸ªæ•°æ®æ—¶åº”ä½¿ç”¨<code>IN</code>å…³é”®å­—</li></ul><div class="code-wrapper"><pre><code class="hljs sql">UPDATE invoices<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">567</span>, payment_date <span class="hljs-operator">=</span> due_date<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span>             (<span class="hljs-keyword">SELECT</span> client_id             <span class="hljs-keyword">FROM</span> clients            <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Yadel&#x27;</span>);UPDATE invoices<span class="hljs-keyword">SET</span> payment_total <span class="hljs-operator">=</span> <span class="hljs-number">567</span>, payment_date <span class="hljs-operator">=</span> due_date<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span>             (<span class="hljs-keyword">SELECT</span> client_id             <span class="hljs-keyword">FROM</span> clients            <span class="hljs-keyword">WHERE</span> state <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;CA&#x27;</span>, <span class="hljs-string">&#x27;NY&#x27;</span>));</code></pre></div><ul><li><code>DELETE</code>å…³é”®å­—ç”¨äºåˆ é™¤</li><li><code>WHERE</code>å¯é€‰ï¼Œçœç•¥å°†åˆ é™¤è¡¨çš„æ‰€æœ‰è®°å½•</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span>             (<span class="hljs-keyword">SELECT</span> client_id              <span class="hljs-keyword">FROM</span> clients            <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Myworks&#x27;</span>);</code></pre></div><h1 id="æ±‡æ€»æ•°æ®"><a href="#æ±‡æ€»æ•°æ®" class="headerlink" title="æ±‡æ€»æ•°æ®"></a>æ±‡æ€»æ•°æ®</h1><ul><li>Mysqlå†…ç½®æœ‰<code>MAX()</code>ï¼Œ<code>MIN()</code>ï¼Œ<code>AVG()</code>ï¼Œ<code>SUM()</code>ï¼Œ<code>COUNT()</code>ç­‰èšåˆå‡½æ•°</li><li>èšåˆå‡½æ•°ä¸ä»…å¯ä»¥ç”¨äºåˆ—ï¼Œä¹Ÿå¯ä»¥ç”¨äºè¡¨è¾¾å¼</li><li>èšåˆå‡½æ•°ä¼šå¿½ç•¥ç©ºå€¼ï¼Œå¯¹äº<code>COUNT()</code>å‡½æ•°éœ€è¦æ³¨æ„</li><li><code>COUNT(*)</code>ä¸ä¼šå¿½ç•¥ç©ºå€¼ï¼Œ<code>*</code>è¡¨ç¤ºå…¨éƒ¨æ•°æ®</li><li>å¯ä»¥ä½¿ç”¨<code>DISTINCT</code>ç­›æ‰åˆ—çš„é‡å¤å€¼</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span>     <span class="hljs-built_in">MAX</span>(invoice_date) <span class="hljs-keyword">AS</span> latest_date,      <span class="hljs-built_in">MIN</span>(invoice_total) lowest,    <span class="hljs-built_in">AVG</span>(invoice_total) average,    <span class="hljs-built_in">SUM</span>(invoice_total <span class="hljs-operator">*</span> <span class="hljs-number">1.1</span>) total,    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) total_records,    <span class="hljs-built_in">COUNT</span>(invoice_total) number_of_invoices,     <span class="hljs-built_in">COUNT</span>(payment_date) number_of_payments,      <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> client_id) number_of_distinct_clients<span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">WHERE</span> invoice_date <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;2019-07-01&#x27;</span>;</code></pre></div><ul><li><code>GROUP BY</code>é…åˆèšåˆå‡½æ•°ä½¿ç”¨ï¼Œè¿›è¡Œåˆ†ç»„ç»Ÿè®¡</li><li>æ³¨æ„<code>WHERE</code>ï¼Œ<code>GROUP BY</code>ï¼Œ<code>ORDER BY</code>çš„å…ˆåé¡ºåº</li><li><code>GROUP BY</code>ä¹Ÿå¯ä»¥å¤šåˆ—ç»„åˆä¸ºä¾æ®åˆ†ç»„ï¼Œé€—å·åˆ†éš”å³å¯</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span>     client_id,      <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales<span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">WHERE</span> invoice_date <span class="hljs-operator">&gt;=</span> <span class="hljs-string">&#x27;2019-07-01&#x27;</span><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> total_sales <span class="hljs-keyword">DESC</span>;<span class="hljs-keyword">SELECT</span>     state,    city,    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales<span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">JOIN</span> clients <span class="hljs-keyword">USING</span> (client_id) <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> state, city  <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> state;</code></pre></div><ul><li><code>HAVING</code>å…³é”®å­—å¯¹<code>SELECT</code>åçš„ç»“æœåˆ—è¿›è¡Œäº‹åç­›é€‰ï¼Œé€šå¸¸ç”¨äºåˆ†ç»„èšåˆåæŸ¥è¯¢</li><li><code>HAVING</code>å’Œ <code>WHERE</code> éƒ½æ˜¯æ˜¯æ¡ä»¶ç­›é€‰è¯­å¥ï¼Œæ¡ä»¶å†™æ³•ç›¸é€š</li><li><code>HAVING</code>ä½¿ç”¨ç»“æœåˆ—æ˜ï¼Œ<code>WHERE</code>ä½¿ç”¨åŸè¡¨åˆ—å</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span>     client_id,    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales,    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span><span class="hljs-operator">/</span>invoice_total<span class="hljs-operator">/</span>invoice_date) <span class="hljs-keyword">AS</span> number_of_invoices<span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id<span class="hljs-keyword">HAVING</span> total_sales <span class="hljs-operator">&gt;</span> <span class="hljs-number">500</span> <span class="hljs-keyword">AND</span> number_of_invoices <span class="hljs-operator">&gt;</span> <span class="hljs-number">5</span>;</code></pre></div><ul><li>Mysqlæä¾›äº†<code>ROLLUP</code>è¿ç®—ç¬¦å¯¹èšåˆå€¼è¿›è¡Œæ±‡æ€»ï¼Œå¦‚ä¸‹å°†è¿”å›å„å®¢æˆ·çš„å‘ç¥¨æ€»é¢ä»¥åŠæ‰€æœ‰äººçš„æ€»å‘ç¥¨é¢</li><li><code>ROLLUP</code>ä¸æ˜¯æ ‡å‡†çš„SQLè¯­è¨€</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span>     client_id,    <span class="hljs-built_in">SUM</span>(invoice_total)<span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div><ul><li>å½“<code>GROUP BY</code>å–å¤šåˆ—æ—¶ï¼Œ<code>ROLLUP</code>å¯ä»¥è¿›è¡Œå¤šå±‚æ±‡æ€»</li><li>ä¸‹é¢å°†è¿”å›å„å·çš„å„å¸‚çš„å‘ç¥¨æ€»é¢ä»¥åŠå·å±‚æ¬¡å’Œå…¨å›½å±‚æ¬¡çš„æ±‡æ€»é¢</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span>     state,    city,    <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">AS</span> total_sales<span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">JOIN</span> clients <span class="hljs-keyword">USING</span> (client_id) <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> state, city <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div><ul><li>ä½¿ç”¨<code>ROLLUP</code>æ—¶ï¼Œ<code>GROUP BY</code>ä¸èƒ½ä½¿ç”¨åˆ—åˆ«å</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span>     pm.name <span class="hljs-keyword">AS</span> payment_method,    <span class="hljs-built_in">SUM</span>(amount) <span class="hljs-keyword">AS</span> total<span class="hljs-keyword">FROM</span> payments p<span class="hljs-keyword">JOIN</span> payment_methods pm    <span class="hljs-keyword">ON</span> p.payment_method <span class="hljs-operator">=</span> pm.payment_method_id<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> pm.name <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ROLLUP</span>;</code></pre></div><h1 id="ç¼–å†™å¤æ‚æŸ¥è¯¢"><a href="#ç¼–å†™å¤æ‚æŸ¥è¯¢" class="headerlink" title="ç¼–å†™å¤æ‚æŸ¥è¯¢"></a>ç¼–å†™å¤æ‚æŸ¥è¯¢</h1><ul><li>Mysqlå°†å…ˆæ‰§è¡Œæ‹¬å·å†…çš„å­æŸ¥è¯¢ï¼Œä¹‹åå°†ç»“æœè¿”å›ç»™å¤–æŸ¥è¯¢</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> products<span class="hljs-keyword">WHERE</span> unit_price <span class="hljs-operator">&gt;</span> (    <span class="hljs-keyword">SELECT</span> unit_price    <span class="hljs-keyword">FROM</span> products    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> products<span class="hljs-keyword">WHERE</span> product_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> product_id    <span class="hljs-keyword">FROM</span> order_items);</code></pre></div><ul><li>å­æŸ¥è¯¢å°†ä¸€å¼ è¡¨çš„æŸ¥è¯¢ç»“æœä½œä¸ºå¦ä¸€å¼ è¡¨çš„æŸ¥è¯¢ä¾æ®å¹¶å±‚å±‚åµŒå¥—ï¼›é“¾æ¥å°†è¿™äº›è¡¨åˆå¹¶æˆä¸€ä¸ªåŒ…å«æ‰€éœ€å…¨éƒ¨ä¿¡æ¯çš„è¯¦æƒ…è¡¨å†ç›´æ¥åœ¨è¯¦æƒ…è¡¨é‡Œç­›é€‰æŸ¥è¯¢ï¼›ä¸¤ç§æ–¹æ³•ä¸€èˆ¬æ˜¯å¯äº’æ¢çš„ï¼Œå…·ä½“ç”¨å“ªä¸€ç§å–å†³äºæ•ˆç‡å’Œå¯è¯»æ€§</li><li>ä¾‹ï¼šæŸ¥æ‰¾ä»æœªè®¢è´­è¿‡çš„é¡¾å®¢ï¼Œä¸‹é¢ä¸¤ç§æ–¹æ³•å‡å¯è¾¾åˆ°æ•ˆæœ</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> clients<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> client_id    <span class="hljs-keyword">FROM</span> invoices);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> clients<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> invoices <span class="hljs-keyword">USING</span> (client_id)<span class="hljs-keyword">WHERE</span> invoices_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;</code></pre></div><ul><li>ä¾‹ï¼šé€‰å‡ºä¹°è¿‡ç”Ÿèœï¼ˆid = 3ï¼‰çš„é¡¾å®¢çš„idï¼Œå§“å’Œåï¼Œé‡‡ç”¨æ··åˆå­æŸ¥è¯¢+è¡¨è¿æ¥çš„æ–¹æ³•</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> customer_id, first_name, last_name<span class="hljs-keyword">FROM</span> customers<span class="hljs-keyword">WHERE</span> customer_id <span class="hljs-keyword">IN</span> (      <span class="hljs-keyword">SELECT</span> customer_id    <span class="hljs-keyword">FROM</span> orders    <span class="hljs-keyword">JOIN</span> order_items <span class="hljs-keyword">USING</span> (order_id)      <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>);</code></pre></div><ul><li><code>ALL</code>å…³é”®å­—ä»£è¡¨é›†åˆä¸­çš„ä»»æ„è®°å½•</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MAX</span>(invoice_total)    <span class="hljs-keyword">FROM</span> invoices    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ALL</span> (    <span class="hljs-keyword">SELECT</span> invoice_total    <span class="hljs-keyword">FROM</span> invoices    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>);</code></pre></div><ul><li><p><code>ANY</code>å…³é”®å­—ä»£è¡¨é›†åˆä¸­å­˜åœ¨æŸæ¡è®°å½•ï¼Œå¯ä¸<code>MIN</code>ç­‰æ•ˆ</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ANY</span> (    <span class="hljs-keyword">SELECT</span> invoice_total    <span class="hljs-keyword">FROM</span> invoices    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> invoices<span class="hljs-keyword">WHERE</span> invoice_total <span class="hljs-operator">&gt;</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MIN</span>(invoice_total)    <span class="hljs-keyword">FROM</span> invoices    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>);</code></pre></div></li><li><p><code>ANY</code>æŸäº›æ—¶å€™ä¹Ÿå¯ä¸<code>IN</code>ç­‰æ•ˆ</p></li><li>ä¾‹ï¼šé€‰æ‹©è‡³å°‘æœ‰ä¸¤æ¬¡å‘ç¥¨è®°å½•çš„é¡¾å®¢</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> clients<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> (    <span class="hljs-keyword">SELECT</span> client_id    <span class="hljs-keyword">FROM</span> invoices    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2</span>);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> clients<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> <span class="hljs-keyword">ANY</span> (     <span class="hljs-keyword">SELECT</span> client_id    <span class="hljs-keyword">FROM</span> invoices    <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> client_id    <span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2</span>);</code></pre></div><ul><li>åœ¨ä¸Šé¢çš„å­æŸ¥è¯¢ä¸­ï¼Œå­æŸ¥è¯¢ä¸ä¸»æŸ¥è¯¢æ— å…³ï¼Œå¯ä»¥å…ˆè¿›è¡Œå®Œå­æŸ¥è¯¢ï¼Œå†è¿›è¡Œä¸»æŸ¥è¯¢</li><li>ç›¸å…³å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ä¸ä¸»æŸ¥è¯¢æœ‰å…³</li><li>ä¾‹ï¼šè¿”å›å„éƒ¨é—¨ä¸­å·¥èµ„è¶…è¿‡è¯¥éƒ¨é—¨å¹³å‡å€¼çš„äººï¼Œå¯¹äº<code>employees e</code>ä¸­çš„æ¯æ¡è®°å½•ï¼Œéƒ½å°†æ‰§è¡Œä¸€æ¬¡å­æŸ¥è¯¢</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> employees e  <span class="hljs-comment">-- å…³é”® 1</span><span class="hljs-keyword">WHERE</span> salary <span class="hljs-operator">&gt;</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(salary)    <span class="hljs-keyword">FROM</span> employees    <span class="hljs-keyword">WHERE</span> office_id <span class="hljs-operator">=</span> e.office_id  <span class="hljs-comment">-- å…³é”® 2</span>    <span class="hljs-comment">-- ã€å­æŸ¥è¯¢è¡¨å­—æ®µä¸ç”¨åŠ å‰ç¼€ï¼Œä¸»æŸ¥è¯¢è¡¨çš„å­—æ®µè¦åŠ å‰ç¼€ï¼Œä»¥æ­¤åŒºåˆ†ã€‘</span>);</code></pre></div><ul><li><code>EXISTS</code>å…³é”®å­—å¦‚æœé›†åˆä¸ä¸ºç©ºè¿”å›<code>TRUE</code>ï¼Œå¦åˆ™è¿”å›<code>FALSE</code></li><li><code>IN + å­æŸ¥è¯¢</code> ç­‰æ•ˆäº <code>EXIST + ç›¸å…³å­æŸ¥è¯¢</code>ï¼Œå¦‚å‰è€…å­æŸ¥è¯¢ç»“æœé›†è¿‡å¤§å ç”¨å†…å­˜ï¼Œåè€…é€æ¡éªŒè¯æ›´æœ‰æ•ˆç‡</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> clients<span class="hljs-keyword">WHERE</span> client_id <span class="hljs-keyword">IN</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> client_id    <span class="hljs-keyword">FROM</span> invoices);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> clients c<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">EXISTS</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>    <span class="hljs-comment">-- å°±è¿™ä¸ªå­æŸ¥è¯¢çš„ç›®çš„æ¥è¯´ï¼ŒSELECTçš„é€‰æ‹©ä¸å½±å“ç»“æœï¼Œ</span>    <span class="hljs-comment">-- å› ä¸ºEXISTS()å‡½æ•°åªæ ¹æ®æ˜¯å¦ä¸ºç©ºè¿”å›ç»“æœ</span>    <span class="hljs-keyword">FROM</span> invoices    <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id);</code></pre></div><ul><li><code>EXISTS()</code>è¿”å›çš„æ˜¯ <code>TRUE/FALSE</code>ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åŠ ä¸Š<code>NOT</code>å–å</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (    <span class="hljs-keyword">FROM</span> order_items);<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> products p<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> (    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>    <span class="hljs-keyword">FROM</span> order_items    <span class="hljs-keyword">WHERE</span> product_id <span class="hljs-operator">=</span> p.product_id);</code></pre></div><ul><li>ä¾‹ï¼šç»å…¸é¢˜ç›®ï¼Œé€‰æ‹©æ²¡æœ‰é€‰æ‰€æœ‰è¯¾çš„å­¦ç”Ÿ</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- é€‰æ‹©æ²¡æœ‰é€‰æ‰€æœ‰è¯¾çš„å­¦ç”Ÿ</span><span class="hljs-comment">-- å­˜åœ¨æŸä¸€æ ·è¯¾ï¼Œè¯¥å­¦ç”Ÿæ²¡æœ‰å¯¹åº”çš„é€‰è¯¾è®°å½•</span><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><span class="hljs-keyword">FROM</span> stu s<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">EXISTS</span>(  <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>  <span class="hljs-keyword">FROM</span> class c  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span>(      <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>      <span class="hljs-keyword">FROM</span> stu_class      <span class="hljs-keyword">WHERE</span> stu_id <span class="hljs-operator">=</span> s.stu_id <span class="hljs-keyword">AND</span> class_id <span class="hljs-operator">=</span> c.class_id    ));</code></pre></div><ul><li>å­æŸ¥è¯¢æˆ–ç›¸å…³å­æŸ¥è¯¢ä¹Ÿå¯ç”¨äº<code>SELECT</code>ä¸­</li><li>å¼•ç”¨åŒçº§çš„åˆ—åˆ«åï¼Œéœ€è¦ä½¿ç”¨<code>SELECT</code>ï¼Œå¼•ç”¨åŒçº§çš„åˆ—åˆ«åä¸éœ€è¦è¯´æ˜æ¥æº</li><li>ä¸‹é¢çš„ä¾‹å­ä¸­æœ‰ä¸‰ä¸ªå­æŸ¥è¯¢ï¼Œç¬¬ä¸€ä¸ªä¸ºç›¸å…³å­æŸ¥è¯¢ï¼Œè¡¨ç¤ºæŸé¡¾å®¢è®¢å•æ€»é‡ï¼Œç¬¬äºŒä¸ªä¸ºå­æŸ¥è¯¢ï¼Œè¡¨ç¤ºæ‰€æœ‰è®¢å•å¹³å‡å€¼ï¼Œç¬¬ä¸‰ä¸ªå¼•ç”¨åŒçº§çš„åˆ—åˆ«åï¼Œè¡¨ç¤ºå‰ä¸¤è€…çš„å·®</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span>     client_id,    name,    (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id) <span class="hljs-keyword">AS</span> total_sales,    (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices) <span class="hljs-keyword">AS</span> average,    (<span class="hljs-keyword">SELECT</span> total_sales <span class="hljs-operator">-</span> average) <span class="hljs-keyword">AS</span> difference   <span class="hljs-keyword">FROM</span> clients c;</code></pre></div><ul><li>å­æŸ¥è¯¢ä¹Ÿå¯ç”¨äº<code>FROM</code>ä¸­</li><li>å½“å­æŸ¥è¯¢å¤ªå¤æ‚æ—¶åº”ä½¿ç”¨è§†å›¾å°†å­æŸ¥è¯¢ç»“æœå‚¨å­˜èµ·æ¥ï¼Œä½¿ç”¨è§†å›¾ä½œä¸ºæ¥æºè¡¨</li><li>åœ¨FROMä¸­ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå³ä½¿ç”¨ â€œæ´¾ç”Ÿè¡¨â€ æ—¶ï¼Œå¿…é¡»ç»™æ´¾ç”Ÿè¡¨å–ä¸ªåˆ«å</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> (    <span class="hljs-keyword">SELECT</span>         client_id,        name,        (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices <span class="hljs-keyword">WHERE</span> client_id <span class="hljs-operator">=</span> c.client_id) <span class="hljs-keyword">AS</span> total_sales,        (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(invoice_total) <span class="hljs-keyword">FROM</span> invoices) <span class="hljs-keyword">AS</span> average,        (<span class="hljs-keyword">SELECT</span> total_sales <span class="hljs-operator">-</span> average) <span class="hljs-keyword">AS</span> difference       <span class="hljs-keyword">FROM</span> clients c) <span class="hljs-keyword">AS</span> sales_summury<span class="hljs-keyword">WHERE</span> total_sales <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;</code></pre></div><h1 id="åŸºæœ¬å‡½æ•°"><a href="#åŸºæœ¬å‡½æ•°" class="headerlink" title="åŸºæœ¬å‡½æ•°"></a>åŸºæœ¬å‡½æ•°</h1><p>å†…ç½®çš„ç”¨æ¥å¤„ç†æ•°å€¼ã€æ–‡æœ¬ã€æ—¥æœŸç­‰çš„å‡½æ•°</p><ul><li>æ•°å€¼å‡½æ•°</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> ROUND(<span class="hljs-number">5.7365</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">-- å››èˆäº”å…¥</span><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">TRUNCATE</span>(<span class="hljs-number">5.7365</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment">-- æˆªæ–­</span><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">CEILING</span>(<span class="hljs-number">5.2</span>)  <span class="hljs-comment">-- å¤©èŠ±æ¿å‡½æ•°ï¼Œå¤§äºç­‰äºæ­¤æ•°çš„æœ€å°æ•´æ•°</span><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">FLOOR</span>(<span class="hljs-number">5.6</span>)  <span class="hljs-comment">-- åœ°æ¿å‡½æ•°ï¼Œå°äºç­‰äºæ­¤æ•°çš„æœ€å¤§æ•´æ•°</span><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ABS</span>(<span class="hljs-number">-5.2</span>)  <span class="hljs-comment">-- ç»å¯¹å€¼</span><span class="hljs-keyword">SELECT</span> RAND()  <span class="hljs-comment">-- éšæœºå‡½æ•°ï¼Œ0åˆ°1çš„éšæœºå€¼</span></code></pre></div><ul><li>å­—ç¬¦ä¸²å‡½æ•°</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> LENGTH(<span class="hljs-string">&#x27;sky&#x27;</span>)  <span class="hljs-comment">-- å­—ç¬¦ä¸²å­—ç¬¦ä¸ªæ•°</span><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">UPPER</span>(<span class="hljs-string">&#x27;sky&#x27;</span>)  <span class="hljs-comment">-- è½¬å¤§å†™</span><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-string">&#x27;Sky&#x27;</span>)  <span class="hljs-comment">-- è½¬å°å†™</span><span class="hljs-keyword">SELECT</span> LTRIM(<span class="hljs-string">&#x27;  Sky&#x27;</span>)  <span class="hljs-comment">-- å»é™¤å·¦å¤šä½™ç©ºæ ¼</span><span class="hljs-keyword">SELECT</span> RTRIM(<span class="hljs-string">&#x27;Sky  &#x27;</span>)  <span class="hljs-comment">-- å»é™¤å³å¤šä½™ç©ºæ ¼</span><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">TRIM</span>(<span class="hljs-string">&#x27; Sky &#x27;</span>)  <span class="hljs-comment">-- å»é™¤å¤šä½™ç©ºæ ¼</span><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">LEFT</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">4</span>)  <span class="hljs-comment">-- å–å·¦4ä¸ªå­—ç¬¦</span><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">RIGHT</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment">-- å–å³6ä¸ªå­—ç¬¦</span><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUBSTRING</span>(<span class="hljs-string">&#x27;Kindergarden&#x27;</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>)  <span class="hljs-comment">-- ä»ç¬¬7ä¸ªå¼€å§‹é•¿åº¦ä¸º6çš„å­ä¸²ï¼Œçœç•¥é•¿åº¦å‚æ•°åˆ™å–åˆ°æœ«ç«¯</span><span class="hljs-keyword">SELECT</span> LOCATE(<span class="hljs-string">&#x27;gar&#x27;</span>, <span class="hljs-string">&#x27;Kindergarden&#x27;</span>)  <span class="hljs-comment">-- å®šä½é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæ²¡æœ‰çš„è¯è¿”å›0ï¼Œä¸åŒºåˆ†å¤§å°å†™</span><span class="hljs-keyword">SELECT</span> REPLACE(<span class="hljs-string">&#x27;Kindergarten&#x27;</span>, <span class="hljs-string">&#x27;garten&#x27;</span>, <span class="hljs-string">&#x27;garden&#x27;</span>)  <span class="hljs-comment">-- æ›¿æ¢</span><span class="hljs-keyword">SELECT</span> CONCAT(f_name, <span class="hljs-string">&#x27; &#x27;</span>, l_name) <span class="hljs-keyword">AS</span> f_name <span class="hljs-keyword">FROM</span> customers  <span class="hljs-comment">-- è¿æ¥</span></code></pre></div><ul><li>å¤„ç†æ—¶é—´æ—¥æœŸçš„å‡½æ•°</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-comment">-- å½“å‰æ—¶é—´æ—¥æœŸå¯¹è±¡</span><span class="hljs-keyword">SELECT</span> NOW()  <span class="hljs-comment">-- 2021-08-27 08:50:46</span><span class="hljs-keyword">SELECT</span> CURDATE()  <span class="hljs-comment">-- 2021-08-27</span><span class="hljs-keyword">SELECT</span> CURTIME()  <span class="hljs-comment">-- 08:50:46</span><span class="hljs-comment">-- æå–æ—¶é—´æ—¥æœŸå¯¹è±¡ä¸­çš„å…ƒç´ </span><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">YEAR</span>(NOW())  <span class="hljs-comment">-- 2021</span><span class="hljs-keyword">SELECT</span> DAYNAME(NOW())  <span class="hljs-comment">-- Saturday</span><span class="hljs-keyword">SELECT</span> MONTHNAME(NOW())  <span class="hljs-comment">-- September</span></code></pre></div><ul><li>æ—¥æœŸæ ¼å¼åŒ–ï¼Œæ ¼å¼è¯´æ˜ç¬¦é‡Œï¼Œå¤§å°å†™æ˜¯ä¸åŒçš„ï¼Œè¿™æ˜¯ç›®å‰SQLé‡Œç¬¬ä¸€æ¬¡å‡ºç°å¤§å°å†™ä¸åŒçš„æƒ…å†µ</li></ul><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="hljs-string">&#x27;%M %d, %Y&#x27;</span>)  <span class="hljs-comment">-- September 12, 2020</span><span class="hljs-keyword">SELECT</span> TIME_FORMAT(NOW(), <span class="hljs-string">&#x27;%H:%i %p&#x27;</span>)  <span class="hljs-comment">-- 11:07 AM</span></code></pre></div><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://www.bilibili.com/video/BV1UE41147KC?p=34">ä¼Ÿå¤§çš„æµ·ä¼¦å›.SQLè¿›é˜¶æ•™ç¨‹</a></p><p><a href="https://zhuanlan.zhihu.com/p/222865842">ASC2050.Moshå®Œå…¨æŒæ¡SQLç¬”è®°</a></p>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºåŸºç¡€</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å›¾è§£è®¡ç®—æœºç½‘ç»œç¬”è®°</title>
    <link href="/2021/08/07/%E5%9B%BE%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/"/>
    <url>/2021/08/07/%E5%9B%BE%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="HTTP-ç¯‡"><a href="#HTTP-ç¯‡" class="headerlink" title="HTTP ç¯‡"></a>HTTP ç¯‡</h1><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><ol><li><p>HTTP æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¹Ÿå°±æ˜¯<strong>H</strong>yperText <strong>T</strong>ransfer <strong>P</strong>rotocolã€‚</p></li><li><p><strong>å¸¸è§çš„çŠ¶æ€ç </strong></p><p><img src="https://github.com/HerloConnell/BlogPicture/blob/CS-basics/å›¾è§£è®¡ç®—æœºç½‘ç»œç¬”è®°3.png?raw=true" alt=""></p></li><li><p><strong>httpå¸¸â»…å­—æ®µ</strong></p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-string">å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶ï¼š</span><span class="hljs-attr">Host:</span> <span class="hljs-string">www.A.com</span><span class="hljs-string">æŒ‡å®šæœåŠ¡å™¨åŸŸå</span><span class="hljs-attr">Connection:</span> <span class="hljs-string">keep-alive</span><span class="hljs-string">æœ€å¸¸ç”¨äºå®¢æˆ·ç«¯è¦æ±‚æœåŠ¡å™¨ä½¿ç”¨</span> <span class="hljs-string">TCP</span> <span class="hljs-string">æŒä¹…è¿æ¥ï¼Œä»¥ä¾¿å…¶ä»–è¯·æ±‚å¤ç”¨</span><span class="hljs-attr">Accept:</span> <span class="hljs-string">*/*</span><span class="hljs-string">å®¢æˆ·ç«¯å£°æ˜è‡ªå·±å¯ä»¥æ¥å—å“ªäº›æ•°æ®æ ¼å¼ï¼Œ*/*è¡¨ç¤ºæ¥å—ä»»ä½•æ ¼å¼</span><span class="hljs-attr">Accept-Encoding:</span> <span class="hljs-string">gzip,</span> <span class="hljs-string">deflate</span><span class="hljs-string">è¯´æ˜è‡ªå·±å¯ä»¥æ¥å—å“ªäº›å‹ç¼©æ–¹æ³•</span><span class="hljs-string">æœåŠ¡å™¨å“åº”è¯·æ±‚æ—¶ï¼š</span><span class="hljs-attr">Content-Length:</span> <span class="hljs-number">1000</span><span class="hljs-string">è¡¨æ˜æœ¬æ¬¡å›åº”çš„æ•°æ®â»“åº¦1000å­—èŠ‚</span><span class="hljs-attr">Content-Type:</span> <span class="hljs-string">text/html;</span> <span class="hljs-string">charset=utf-8</span><span class="hljs-string">æœåŠ¡å™¨è¡¨æ˜è‡ªå·±å‘é€çš„æ•°æ®æ ¼å¼ï¼Œå‘é€çš„æ˜¯ç½‘â»šï¼Œç¼–ç ä¸ºUTF-8</span><span class="hljs-attr">Content-Encoding:</span> <span class="hljs-string">gzip</span> <span class="hljs-string">è¡¨ç¤ºæœåŠ¡å™¨è¿”å›çš„æ•°æ®ä½¿ç”¨gzipå‹ç¼©æ ¼å¼</span></code></pre></div></li><li><p><strong>GETä¸POST</strong></p><p>Getè¯·æ±‚ä»æœåŠ¡å™¨è·å–èµ„æºï¼›</p><p>POSTå‘ <strong>URI</strong> æŒ‡å®šçš„èµ„æºæäº¤æ•°æ®ï¼Œæ•°æ®å°±æ”¾åœ¨æŠ¥æ–‡çš„ body é‡Œï¼ŒæœåŠ¡å™¨å“åº”ä»£è¡¨å¤„ç†ç»“æœã€‚</p><p><strong>å®‰å…¨</strong>æŒ‡è¯·æ±‚æ–¹æ³•ä¸ä¼šç ´åæœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œ <strong>å¹‚ç­‰</strong>æŒ‡å¤šæ¬¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œç»“æœéƒ½æ˜¯ç›¸åŒçš„ã€‚</p><p>GETæ–¹æ³•å°±æ˜¯å®‰å…¨ä¸”å¹‚ç­‰çš„ï¼ŒPOSTæ˜¯ä¸å®‰å…¨çš„ä¸å¹‚ç­‰çš„ã€‚</p></li></ol><h2 id="HTTP-1-1"><a href="#HTTP-1-1" class="headerlink" title="HTTP/1.1"></a>HTTP/1.1</h2><p class="note note-primary">  <b>HTTP/1.1ç‰¹ç‚¹</b></p><p><strong>ç®€å•</strong>ï¼šåŸºæœ¬çš„æŠ¥æ–‡æ ¼å¼å°±æ˜¯ header + body ï¼Œå¤´éƒ¨ä¿¡æ¯ä¹Ÿæ˜¯ key-value ç®€å•æ–‡æœ¬çš„å½¢å¼ï¼›</p><p><strong>çµæ´»</strong>ï¼šå„ç±»è¯·æ±‚æ–¹æ³•ã€URI/URLã€çŠ¶æ€ç ã€å¤´å­—æ®µç­‰éƒ½å…è®¸å¼€å‘äººå‘˜è‡ªå®šä¹‰å’Œæ‰©å……ï¼ŒHTTP å·¥ä½œåœ¨åº”ç”¨å±‚ï¼Œä¸‹å±‚å¯ä»¥éšæ„å˜åŒ–ï¼›</p><p><strong>æ— çŠ¶æ€</strong>ï¼šæœåŠ¡å™¨ä¸èƒ½ä¿å­˜å®¢æˆ·çš„ä¿¡æ¯ï¼Œå³ä¸€æ¬¡å“åº”å®Œæˆä¹‹åè¿æ¥å°±æ–­å¼€äº†ï¼Œä¸‹ä¸€æ¬¡çš„è¯·æ±‚éœ€è¦é‡æ–°è¿æ¥ï¼Œå¯¹äºå…³è”æ€§æ“ä½œå¯ä»¥ä½¿ç”¨ CookieæŠ€æœ¯è§£å†³ï¼›</p><p><strong>æ˜æ–‡ä¼ è¾“</strong>ï¼šåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä¿¡æ¯ï¼Œæ˜¯å¯æ–¹ä¾¿é˜…è¯»çš„ï¼Œè¿™ç§ç‰¹æ€§åŒæ—¶ä¹Ÿæœ‰å¾ˆå¤§çš„å®‰å…¨éšæ‚£ã€‚</p><p class="note note-primary">  <b>HTTP/1.1å¦‚ä½•ä¼˜åŒ–</b></p><ol><li><p>å‡å°‘HTTPè¯·æ±‚æ¬¡æ•°</p><p><span class="label label-primary">ç¼“å­˜</span></p><p>æœåŠ¡å™¨åœ¨è¿”å›èµ„æºçš„æ—¶å€™ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ªé¢„ä¼°çš„è¿‡æœŸæ—¶é—´ï¼Œå®¢æˆ·ç«¯ä»¥URLä½œä¸ºkeyï¼Œèµ„æºä½œä¸ºvalueçš„å½¢å¼å­˜å‚¨åœ¨æœ¬åœ°ã€‚åœ¨æ­¤è®¿é—®åŒURLæ—¶ï¼Œå…ˆæŸ¥è¯¢æœ¬åœ°ç£ç›˜ï¼Œå¦‚æœå­˜åœ¨ï¼šè‹¥æœªè¿‡æœŸï¼Œç›´æ¥è¿”å›èµ„æºï¼›å¦åˆ™ï¼Œå†æ¬¡å‘èµ·è¯·æ±‚ï¼Œå¹¶é™„å¸¦æœ¬åœ°è¿‡æœŸèµ„æºçš„æ‘˜è¦ï¼Œè‹¥æœåŠ¡å™¨å‘ç°èµ„æºæœªå˜åŠ¨ï¼Œç›´æ¥è¿”å›ä¸å«æœ‰åŒ…ä½“çš„ <strong>304 Not Modified</strong> å“åº”ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ä»ç„¶æœ‰æ•ˆï¼Œè¿™æ ·å°±å¯ä»¥å‡å°‘å“åº”èµ„æºåœ¨ç½‘ç»œä¸­ä¼ è¾“çš„å»¶æ—¶ã€‚</p><p><span class="label label-primary">é‡å®šå‘æœåŠ¡äº¤ç»™ä»£ç†æœåŠ¡å™¨</span></p><p><span class="label label-primary">åˆå¹¶è¯·æ±‚</span></p><p>å¦‚å°†å°å›¾ç‰‡åˆä¸ºä¸€å¼ å¤§å›¾ç‰‡ï¼Œjsã€cssç­‰å°èµ„æºåˆä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚ä»¥ä¸€ä¸ªå¤§èµ„æºçš„è¯·æ±‚æ›¿æ¢å¤šä¸ªå°èµ„æºçš„è¯·æ±‚ã€‚ ä½†å½“å¤§èµ„æºä¸­çš„æŸä¸€ä¸ªå°èµ„æºå‘ç”Ÿå˜åŒ–åï¼Œå®¢æˆ·ç«¯å¿…é¡»é‡æ–°ä¸‹è½½æ•´ä¸ªå®Œæ•´çš„å¤§èµ„æºæ–‡ä»¶ï¼Œå¸¦æ¥äº†é¢å¤–çš„ç½‘ç»œæ¶ˆè€—ã€‚</p><p><span class="label label-primary">å»¶è¿Ÿå‘é€è¯·æ±‚ </span></p><p>æŒ‰éœ€è·å–ã€‚è¯·æ±‚ç½‘â»šçš„æ—¶å€™åªè·å–å½“å‰ç”¨æˆ·æ‰€çœ‹åˆ°çš„â»šé¢èµ„æºï¼Œå½“ç”¨æˆ·å‘ä¸‹æ»‘åŠ¨â»šé¢çš„æ—¶å€™ï¼Œå†å‘æœåŠ¡å™¨è·å–æ¥ä¸‹æ¥çš„èµ„æºã€‚</p></li><li><p>å‡å°‘HTTPå“åº”æ•°æ®å¤§å°</p><p><span class="label label-primary">æ— æŸå‹ç¼©ã€æœ‰æŸå‹ç¼©</span></p></li></ol><h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><h3 id="åŠ å¯†ç®—æ³•"><a href="#åŠ å¯†ç®—æ³•" class="headerlink" title="åŠ å¯†ç®—æ³•"></a>åŠ å¯†ç®—æ³•</h3><p>åŠ å¯†ç®—æ³•åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š</p><p><span class="label label-primary"><b>å¯¹ç§°åŠ å¯†</b></span></p><ul><li>ç”²æ–¹é€‰æ‹©æŸä¸€ç§åŠ å¯†è§„åˆ™ï¼Œå¯¹ä¿¡æ¯è¿›è¡ŒåŠ å¯†ï¼›ä¹™æ–¹ä½¿ç”¨åŒä¸€ç§è§„åˆ™ï¼Œå¯¹ä¿¡æ¯è¿›è¡Œè§£å¯†ï¼›</li><li>åŠ å¯†å’Œè§£å¯†ä½¿ç”¨åŒæ ·è§„åˆ™ï¼ˆç®€ç§°â€<strong>å¯†é’¥</strong>â€œï¼‰ã€‚</li></ul><p>ç”²æ–¹å¿…é¡»æŠŠåŠ å¯†è§„åˆ™å‘Šè¯‰ä¹™æ–¹ï¼Œå¦åˆ™æ— æ³•è§£å¯†ã€‚ä¿å­˜å’Œä¼ é€’å¯†é’¥ï¼Œå°±æˆäº†æœ€å¤´ç–¼çš„é—®é¢˜ã€‚</p><p>åæ¥ï¼Œäººä»¬è®¤è¯†åˆ°ï¼ŒåŠ å¯†å’Œè§£å¯†å¯ä»¥ä½¿ç”¨ä¸åŒçš„è§„åˆ™ï¼Œåªè¦è¿™ä¸¤ç§è§„åˆ™ä¹‹é—´å­˜åœ¨æŸç§å¯¹åº”å…³ç³»å³å¯ï¼Œè¿™æ ·å°±é¿å…äº†ç›´æ¥ä¼ é€’å¯†é’¥ã€‚</p><p><span class="label label-primary"><b>ä¸å¯¹ç§°åŠ å¯†ï¼šå…¬é’¥åŠ å¯†æ³•</b></span></p><ul><li>ä¹™æ–¹ç”Ÿæˆä¸¤æŠŠå¯†é’¥ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰ã€‚å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—ï¼Œç§é’¥åˆ™æ˜¯ä¿å¯†çš„ï¼›ç”²æ–¹è·å–ä¹™æ–¹çš„å…¬é’¥ï¼Œç„¶åç”¨å®ƒå¯¹ä¿¡æ¯åŠ å¯†ã€‚ä¹™æ–¹å¾—åˆ°åŠ å¯†åçš„ä¿¡æ¯ï¼Œç”¨ç§é’¥è§£å¯†ï¼›</li><li>å…¬é’¥å’Œç§é’¥æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œæœ‰ä¸€æŠŠå…¬é’¥å°±å¿…ç„¶æœ‰ä¸€æŠŠä¸ä¹‹å¯¹åº”çš„ã€ç‹¬ä¸€æ— äºŒçš„ç§é’¥ï¼Œåä¹‹äº¦æˆç«‹ï¼›</li><li>æ‰€æœ‰çš„ï¼ˆå…¬é’¥, ç§é’¥ï¼‰å¯¹éƒ½æ˜¯ä¸åŒçš„ï¼›</li><li><strong>ç”¨å…¬é’¥å¯ä»¥è§£å¼€ç§é’¥åŠ å¯†çš„ä¿¡æ¯ï¼Œåä¹‹äº¦æˆç«‹</strong>ï¼›</li><li>åŒæ—¶ç”Ÿæˆå…¬é’¥å’Œç§é’¥åº”è¯¥ç›¸å¯¹æ¯”è¾ƒå®¹æ˜“ï¼Œä½†æ˜¯ä»å…¬é’¥æ¨ç®—å‡ºç§é’¥ï¼Œåº”è¯¥æ˜¯å¾ˆå›°éš¾æˆ–è€…æ˜¯ä¸å¯èƒ½çš„ï¼›</li><li>åœ¨åŒé’¥ä½“ç³»ä¸­ï¼Œ<strong>å…¬é’¥ç”¨æ¥åŠ å¯†ä¿¡æ¯ï¼Œç§é’¥ç”¨æ¥æ•°å­—ç­¾å</strong>ã€‚</li></ul><p>å¦‚æœå…¬é’¥åŠ å¯†çš„ä¿¡æ¯åªæœ‰ç§é’¥è§£å¾—å¼€ï¼Œé‚£ä¹ˆåªè¦ç§é’¥ä¸æ³„æ¼ï¼Œé€šä¿¡å°±æ˜¯å®‰å…¨çš„ã€‚</p><h3 id="æ•°å­—è¯ä¹¦"><a href="#æ•°å­—è¯ä¹¦" class="headerlink" title="æ•°å­—è¯ä¹¦"></a>æ•°å­—è¯ä¹¦</h3><p>ä¸å¯¹ç§°åŠ å¯†è¿‡ç¨‹ä¸­ï¼ŒåŒæ–¹çš„é€šä¿¡æ˜¯å»ºç«‹åœ¨å…¬é’¥å¯ä¿¡çš„åŸºç¡€ä¸Šçš„ï¼š</p><ol><li>Bå¯¹æ•°æ®è¿›è¡ŒHashç”Ÿæˆ<strong>æ‘˜è¦</strong>åï¼Œä½¿ç”¨ç§é’¥å¯¹æ‘˜è¦è¿›è¡ŒåŠ å¯†ï¼Œç”Ÿæˆ<strong>æ•°å­—ç­¾å</strong>ï¼›Bå°†æ•°æ®å’Œæ•°å­—ç­¾åä¸€åŒå‘ç»™Aï¼›</li><li>Aå¯¹æ•°æ®è¿›è¡Œç›¸åŒçš„Hashï¼Œå¹¶å¯¹æ•°å­—ç­¾åä½¿ç”¨Bçš„å…¬é’¥è§£å¯†ï¼›å¦‚æœè§£å¯†ç»“æœä¸Hashç»“æœç›¸åŒï¼Œåˆ™ç¡®è®¤ä¸ºBå‘å‡ºã€‚</li></ol><p>å¦‚æœä¸€å¼€å§‹Aæ‹¿åˆ°çš„å…¬é’¥å°±æ˜¯å‡çš„è¯ï¼Œé‚£ä¹ˆBåæ¥å‘å‡ºçš„ä»»ä½•å†…å®¹Aå‡æ— æ³•è¯†åˆ«ã€‚é—®é¢˜åœ¨äºAè·å–å…¬é’¥çš„è¿‡ç¨‹ä¾ç„¶æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œä¸ºæ­¤æå‡ºæ•°å­—è¯ä¹¦çš„æ–¹æ³•ï¼Œé€šè¿‡å¯ä¿¡çš„ç¬¬ä¸‰æ–¹ï¼ˆCAï¼‰å¯¹å…¬é’¥è¿›è¡Œç­¾åï¼Œä¿è¯Bçš„å…¬é’¥é€šè¿‡å¯ä¿¡çš„æ–¹å¼ä¼ é€’ç»™Aï¼š</p><ol><li>CAä½¿ç”¨ç§é’¥å¯¹Bçš„å…¬é’¥åŠç›¸å…³ä¿¡æ¯å¦‚è¯ä¹¦çš„é¢å¸ƒæœºæ„ã€æœ‰æ•ˆæœŸã€æŒæœ‰è€…è¿›è¡Œç­¾åï¼Œç”Ÿæˆæ•°å­—è¯ä¹¦ï¼›</li><li>Bå°†æ•°æ®ï¼Œæ•°å­—ç­¾åï¼Œæ•°å­—è¯ä¹¦ä¸€åŒå‘é€ç»™Aï¼›</li><li>CAçš„å…¬é’¥ä¹Ÿæ˜¯éœ€è¦ä½¿ç”¨è¯ä¹¦æ¥åˆ†å‘çš„ï¼Œæ‰€ä»¥ Açš„ç”µè„‘å¿…é¡»å®‰è£…CAçš„è¯ä¹¦ï¼Œè¯ä¹¦é‡ŒåŒ…å«CAçš„å…¬é’¥ã€‚</li><li>Aç”¨CAçš„å…¬é’¥è§£å¼€æ•°å­—è¯ä¹¦ï¼ŒéªŒè¯è¯ä¹¦çš„å¯ä¿¡æ€§ï¼›ä»è¯ä¹¦æ‹¿åˆ°BçœŸå®çš„å…¬é’¥ï¼ŒéªŒè¯â€æ•°å­—ç­¾åâ€æ˜¯å¦çœŸçš„æ˜¯Bç­¾çš„ã€‚</li></ol><p><strong>ä¸ºä»€ä¹ˆå…ˆè¿›è¡Œæ‘˜è¦å†è¿›è¡Œç­¾åï¼Ÿ</strong></p><p>åŸæ•°æ®è¿‡å¤§ï¼ŒåŠ å¯†ç®—æ³•è€—æ—¶ã€‚</p><h3 id="SSL-TLSåè®®"><a href="#SSL-TLSåè®®" class="headerlink" title="SSL/TLSåè®®"></a>SSL/TLSåè®®</h3><p>HTTP ç”±äºæ˜¯æ˜æ–‡ä¼ è¾“ï¼Œæ‰€è°“çš„æ˜æ–‡ï¼Œå°±æ˜¯è¯´å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡çš„ä¿¡æ¯éƒ½æ˜¯è‚‰çœ¼å¯â»…çš„ï¼Œéšæ„ä½¿ç”¨ä¸€ä¸ªæŠ“åŒ…å·¥å…·éƒ½å¯ä»¥æˆªè·é€šä¿¡çš„å†…å®¹ã€‚<br>æ‰€ä»¥å®‰å…¨ä¸Šå­˜åœ¨ä»¥ä¸‹ä¸‰ä¸ªâ»›é™©</p><ul><li><strong>çªƒå¬é£é™©</strong>ï¼šç¬¬ä¸‰æ–¹å¯ä»¥è·çŸ¥é€šä¿¡å†…å®¹ï¼›</li><li><strong>ç¯¡æ”¹é£é™©</strong>ï¼šç¬¬ä¸‰æ–¹å¯ä»¥ä¿®æ”¹é€šä¿¡å†…å®¹ï¼›</li><li><strong>å†’å……é£é™©</strong>ï¼šç¬¬ä¸‰æ–¹å¯ä»¥å†’å……ä»–äººèº«ä»½å‚ä¸é€šä¿¡ã€‚</li></ul><p>HTTPS åœ¨ HTTP ä¸ TCP å±‚ä¹‹é—´åŠ å…¥äº†SSL/TLSåè®®ï¼Œæ¥è§£å†³ä¸Šè¿°çš„â»›é™©ã€‚</p><ul><li>æ‰€æœ‰ä¿¡æ¯éƒ½æ˜¯<strong>åŠ å¯†ä¼ æ’­</strong>ï¼Œç¬¬ä¸‰æ–¹æ— æ³•çªƒå¬ï¼›</li><li>å…·æœ‰<strong>æ ¡éªŒæœºåˆ¶</strong>ï¼Œä¸€æ—¦è¢«ç¯¡æ”¹ï¼Œé€šä¿¡åŒæ–¹ä¼šç«‹åˆ»å‘ç°ï¼›</li><li>é…å¤‡<strong>èº«ä»½è¯ä¹¦</strong>ï¼Œé˜²æ­¢èº«ä»½è¢«å†’å……ã€‚</li></ul><p><img src="https://github.com/HerloConnell/BlogPicture/blob/CS-basics/å›¾è§£è®¡ç®—æœºç½‘ç»œç¬”è®°1.png?raw=true" alt=""></p><p>SSL/TLSåè®®çš„åŸºæœ¬æ€è·¯æ˜¯é‡‡ç”¨<a href="https://en.wikipedia.org/wiki/Public-key_cryptography">å…¬é’¥åŠ å¯†æ³•</a>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯å…ˆå‘æœåŠ¡å™¨ç«¯ç´¢è¦å…¬é’¥ï¼Œç„¶åç”¨å…¬é’¥åŠ å¯†ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°å¯†æ–‡åï¼Œç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªé—®é¢˜ã€‚</p><ol><li><p>å¦‚ä½•ä¿è¯å…¬é’¥ä¸è¢«ç¯¡æ”¹ï¼Ÿ</p><p>å°†å…¬é’¥æ”¾åœ¨<a href="https://en.wikipedia.org/wiki/Digital_certificate">æ•°å­—è¯ä¹¦ï¼ˆCAï¼‰</a>ä¸­ã€‚åªè¦è¯ä¹¦æ˜¯å¯ä¿¡çš„ï¼Œå…¬é’¥å°±æ˜¯å¯ä¿¡çš„ã€‚</p></li><li><p>å…¬é’¥åŠ å¯†è®¡ç®—é‡å¤ªå¤§ï¼Œå¦‚ä½•å‡å°‘è€—ç”¨çš„æ—¶é—´ï¼Ÿ</p><p>é‡‡ç”¨<strong>æ··åˆåŠ å¯†</strong>ã€‚æ¯ä¸€æ¬¡å¯¹è¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½ç”Ÿæˆä¸€ä¸ªâ€<strong>å¯¹è¯å¯†é’¥</strong>â€œï¼Œç”¨å®ƒæ¥åŠ å¯†ä¿¡æ¯ã€‚ç”±äºâ€å¯¹è¯å¯†é’¥â€æ˜¯å¯¹ç§°åŠ å¯†ï¼Œæ‰€ä»¥è¿ç®—é€Ÿåº¦éå¸¸å¿«ï¼Œè€ŒæœåŠ¡å™¨å…¬é’¥åªç”¨äºåŠ å¯†â€å¯¹è¯å¯†é’¥â€æœ¬èº«ï¼Œè¿™æ ·å°±å‡å°‘äº†åŠ å¯†è¿ç®—çš„æ¶ˆè€—æ—¶é—´ã€‚</p></li></ol><p>å› æ­¤ï¼ŒSSL/TLSåè®®çš„åŸºæœ¬è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><ul><li><p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯ç´¢è¦å¹¶éªŒè¯å…¬é’¥ï¼›</p></li><li><p>åŒæ–¹åå•†ç”Ÿæˆâ€å¯¹è¯å¯†é’¥â€ï¼›</p></li><li><p>åŒæ–¹é‡‡ç”¨â€å¯¹è¯å¯†é’¥â€è¿›è¡ŒåŠ å¯†é€šä¿¡ï¼›</p></li></ul><p>ä¸Šé¢è¿‡ç¨‹çš„å‰ä¸¤æ­¥ï¼Œåˆç§°ä¸ºâ€æ¡æ‰‹é˜¶æ®µâ€ã€‚</p><h3 id="SSL-TSLæ¡æ‰‹"><a href="#SSL-TSLæ¡æ‰‹" class="headerlink" title="SSL/TSLæ¡æ‰‹"></a>SSL/TSLæ¡æ‰‹</h3><p>åŸºäºRSAåŠ å¯†çš„æ¡æ‰‹è¿‡ç¨‹ï¼Œä¹Ÿæ˜¯åŸºç¡€çš„SSL/TSLæ¡æ‰‹è¿‡ç¨‹ã€‚</p><p><img src="https://github.com/HerloConnell/BlogPicture/blob/CS-basics/å›¾è§£è®¡ç®—æœºç½‘ç»œç¬”è®°2.png?raw=true" alt=""></p><p><strong>1. å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ï¼ˆClientHelloï¼‰</strong></p><p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘å‡ºåŠ å¯†é€šä¿¡çš„è¯·æ±‚ï¼Œç§°ä¸ºClientHelloè¯·æ±‚ï¼Œå®¢æˆ·ç«¯ä¸»è¦å‘æœåŠ¡å™¨æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š</p><p class="note note-secondary">  ï¼ˆ1ï¼‰æ”¯æŒçš„åè®®ç‰ˆæœ¬ï¼Œæ¯”å¦‚TLS 1.0ç‰ˆã€‚  <br>  ï¼ˆ2ï¼‰ä¸€ä¸ªå®¢æˆ·ç«¯ç”Ÿæˆçš„éšæœºæ•°Client randomï¼Œç¨åç”¨äºç”Ÿæˆ"å¯¹è¯å¯†é’¥"ã€‚  <br>  ï¼ˆ3ï¼‰æ”¯æŒçš„åŠ å¯†æ–¹æ³•ï¼Œæ¯”å¦‚RSAå…¬é’¥åŠ å¯†ã€‚  <br>  ï¼ˆ4ï¼‰æ”¯æŒçš„å‹ç¼©æ–¹æ³•ã€‚</p><p><strong>2. æœåŠ¡å™¨å›åº”ï¼ˆSeverHelloï¼‰</strong></p><p>æœåŠ¡å™¨çš„å›åº”åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p><p class="note note-secondary">  ï¼ˆ1ï¼‰ç¡®è®¤ä½¿ç”¨çš„åŠ å¯†é€šä¿¡åè®®ç‰ˆæœ¬ï¼Œæ¯”å¦‚TLS 1.0ç‰ˆæœ¬ã€‚å¦‚æœæµè§ˆå™¨ä¸æœåŠ¡å™¨æ”¯æŒçš„ç‰ˆæœ¬ä¸ä¸€è‡´ï¼ŒæœåŠ¡å™¨å…³é—­åŠ å¯†é€šä¿¡ã€‚  <br>  ï¼ˆ2ï¼‰ä¸€ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„éšæœºæ•°Server randomï¼Œç¨åç”¨äºç”Ÿæˆ"å¯¹è¯å¯†é’¥"ã€‚  <br>  ï¼ˆ3ï¼‰ç¡®è®¤ä½¿ç”¨çš„åŠ å¯†æ–¹æ³•ï¼Œæ¯”å¦‚RSAå…¬é’¥åŠ å¯†ã€‚  <br>  ï¼ˆ4ï¼‰æœåŠ¡å™¨è¯ä¹¦ã€‚</p><p><strong>3. å®¢æˆ·ç«¯å›åº”</strong></p><p>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å›åº”ä»¥åï¼Œé¦–å…ˆéªŒè¯æœåŠ¡å™¨è¯ä¹¦ã€‚å¦‚æœè¯ä¹¦ä¸æ˜¯å¯ä¿¡æœºæ„é¢å¸ƒã€æˆ–è€…è¯ä¹¦ä¸­çš„åŸŸåä¸å®é™…åŸŸåä¸ä¸€è‡´ã€æˆ–è€…è¯ä¹¦å·²ç»è¿‡æœŸï¼Œå°±ä¼šå‘è®¿é—®è€…æ˜¾ç¤ºä¸€ä¸ªè­¦å‘Šï¼Œç”±å…¶é€‰æ‹©æ˜¯å¦è¿˜è¦ç»§ç»­é€šä¿¡ã€‚</p><p>å¦‚æœè¯ä¹¦æ²¡æœ‰é—®é¢˜ï¼Œå®¢æˆ·ç«¯å°±ä¼šä»è¯ä¹¦ä¸­å–å‡ºæœåŠ¡å™¨çš„å…¬é’¥ã€‚ç„¶åï¼Œå‘æœåŠ¡å™¨å‘é€ä¸‹é¢ä¸‰é¡¹ä¿¡æ¯ã€‚</p><p class="note note-secondary">  ï¼ˆ1ï¼‰ä¸€ä¸ªéšæœºæ•°ã€‚è¯¥éšæœºæ•°ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†ï¼Œé˜²æ­¢è¢«çªƒå¬ã€‚  <br>  ï¼ˆ2ï¼‰ç¼–ç æ”¹å˜é€šçŸ¥ï¼Œè¡¨ç¤ºéšåçš„ä¿¡æ¯éƒ½å°†ç”¨åŒæ–¹å•†å®šçš„åŠ å¯†æ–¹æ³•å’Œå¯†é’¥å‘é€ã€‚  <br>  ï¼ˆ3ï¼‰å®¢æˆ·ç«¯æ¡æ‰‹ç»“æŸé€šçŸ¥ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„æ¡æ‰‹é˜¶æ®µå·²ç»ç»“æŸã€‚è¿™ä¸€é¡¹åŒæ—¶ä¹Ÿæ˜¯å‰é¢å‘é€çš„æ‰€æœ‰å†…å®¹çš„hashå€¼ï¼Œç”¨æ¥ä¾›æœåŠ¡å™¨æ ¡éªŒã€‚</p><p> æ­¤å¤–ï¼Œå¦‚æœå‰ä¸€æ­¥ï¼ŒæœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯è¯ä¹¦ï¼Œå®¢æˆ·ç«¯ä¼šåœ¨è¿™ä¸€æ­¥å‘é€è¯ä¹¦åŠç›¸å…³ä¿¡æ¯ã€‚</p><p>ä¸Šé¢ç¬¬ä¸€é¡¹çš„éšæœºæ•°ï¼Œæ˜¯æ•´ä¸ªæ¡æ‰‹é˜¶æ®µå‡ºç°çš„ç¬¬ä¸‰ä¸ªéšæœºæ•°ï¼Œåˆç§°â€pre-master keyâ€ã€‚æœ‰äº†å®ƒä»¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å°±åŒæ—¶æœ‰äº†ä¸‰ä¸ªéšæœºæ•°ï¼Œæ¥ç€åŒæ–¹å°±ç”¨äº‹å…ˆå•†å®šçš„åŠ å¯†æ–¹æ³•ï¼Œå„è‡ªç”Ÿæˆæœ¬æ¬¡ä¼šè¯æ‰€ç”¨çš„åŒä¸€æŠŠâ€ä¼šè¯å¯†é’¥â€ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥è¿‡ç¨‹ä¹‹å‰çš„é˜¶æ®µå‡ä¸ºæ˜æ–‡ä¼ è¾“ï¼›è€Œpre-master keyä½¿ç”¨æœåŠ¡å™¨å…¬é’¥åŠ å¯†ï¼Œä¹‹åå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯å‡ç”Ÿæˆä¼šè¯å¯†é’¥ï¼Œæ•°æ®ä¼ è¾“å‡ä¸ºåŠ å¯†ä¼ è¾“ã€‚</p><p><strong>4. æœåŠ¡å™¨çš„æœ€åå›åº”</strong></p><p>æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¬¬ä¸‰ä¸ªéšæœºæ•°pre-master keyä¹‹åï¼Œè®¡ç®—ç”Ÿæˆæœ¬æ¬¡ä¼šè¯æ‰€ç”¨çš„â€ä¼šè¯å¯†é’¥â€ã€‚ç„¶åï¼Œå‘å®¢æˆ·ç«¯æœ€åå‘é€ä¸‹é¢ä¿¡æ¯ã€‚</p><p class="note note-secondary">  ï¼ˆ1ï¼‰ç¼–ç æ”¹å˜é€šçŸ¥ï¼Œè¡¨ç¤ºéšåçš„ä¿¡æ¯éƒ½å°†ç”¨åŒæ–¹å•†å®šçš„åŠ å¯†æ–¹æ³•å’Œå¯†é’¥å‘é€ã€‚  <br>  ï¼ˆ2ï¼‰æœåŠ¡å™¨æ¡æ‰‹ç»“æŸé€šçŸ¥ï¼Œè¡¨ç¤ºæœåŠ¡å™¨çš„æ¡æ‰‹é˜¶æ®µå·²ç»ç»“æŸã€‚è¿™ä¸€é¡¹åŒæ—¶ä¹Ÿæ˜¯å‰é¢å‘é€çš„æ‰€æœ‰å†…å®¹çš„hashå€¼ï¼Œç”¨æ¥ä¾›å®¢æˆ·ç«¯æ ¡éªŒã€‚</p><p>è‡³æ­¤ï¼Œæ•´ä¸ªæ¡æ‰‹é˜¶æ®µå…¨éƒ¨ç»“æŸã€‚æ¥ä¸‹æ¥ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¿›å…¥åŠ å¯†é€šä¿¡ï¼Œå°±å®Œå…¨æ˜¯ä½¿ç”¨æ™®é€šçš„HTTPåè®®ï¼Œåªä¸è¿‡ç”¨â€ä¼šè¯å¯†é’¥â€åŠ å¯†å†…å®¹ã€‚</p><p>ä½¿ç”¨ RSAå¯†é’¥åå•†ç®—æ³•çš„æœ€å¤§é—®é¢˜æ˜¯ä¸æ”¯æŒå‰å‘ä¿å¯†ã€‚æ•´ä¸ªæ¡æ‰‹é˜¶æ®µéƒ½ä¸åŠ å¯†ï¼ˆä¹Ÿæ²¡æ³•åŠ å¯†ï¼‰ï¼Œéƒ½æ˜¯æ˜æ–‡çš„ã€‚å¦‚æœæœ‰äººçªƒå¬é€šä¿¡ï¼Œä»–å¯ä»¥çŸ¥é“åŒæ–¹é€‰æ‹©çš„åŠ å¯†æ–¹æ³•ï¼Œä»¥åŠä¸‰ä¸ªéšæœºæ•°ä¸­çš„ä¸¤ä¸ªã€‚æ•´ä¸ªé€šè¯çš„å®‰å…¨ï¼Œåªå–å†³äºç¬¬ä¸‰ä¸ªéšæœºæ•°ï¼ˆPremaster secretï¼‰èƒ½ä¸èƒ½è¢«ç ´è§£ã€‚æ‰€ä»¥ä¸€æ—¦æœåŠ¡ç«¯çš„ç§é’¥æ³„æ¼ äº†ï¼Œè¿‡å»è¢«ç¬¬ä¸‰æ–¹æˆªè·çš„æ‰€æœ‰ TLS é€šè®¯å¯†æ–‡éƒ½ä¼šè¢«ç ´è§£ã€‚æ‰€ä»¥ç›®å‰ä½¿ç”¨è¾ƒå¤šçš„ä¸º<strong>ECDHEåŠ å¯†æ³•</strong>ã€‚</p><h3 id="DHç®—æ³•"><a href="#DHç®—æ³•" class="headerlink" title="DHç®—æ³•"></a>DHç®—æ³•</h3><p><strong>ç¦»æ•£å¯¹æ•°</strong></p><p>å‡å®š a, p å‡æ˜¯ç´ æ•°ï¼Œä¸‹é¢ä¸¤ä¸ªé›†åˆç›¸ç­‰ï¼Œè¯æ˜è¿‡ç¨‹è¯·å‚è€ƒ <a href="http://www.amazon.com/Cryptography-Network-Security-Principles-Practice/dp/0133354695">Cryptography and Network Security</a> ç¬¬å…«ç« ï¼š</p><div class="code-wrapper"><pre><code class="hljs no">&#123; a^1 mod p, a^2 mod p, ..., a^(p-1) mod p &#125; = &#123;1, 2, ... , p-1 &#125;   &#123;&#125; è¡¨ç¤ºé›†åˆ</code></pre></div><p>ä¸Šè¿°å¼å­å¯æ¦‚æ‹¬æˆä»¥ä¸‹ä¸‰ç‚¹ï¼Œå¯¹äº 1 &lt;= x,y &lt;= p - 1ï¼Œæœ‰ï¼š</p><ul><li>a^x mod p ä¸€å®šå±äº {1, 2, â€¦, p -1 }</li><li>å¦‚æœ x != yï¼Œåˆ™ a^x mod p != a^y mod p</li><li>å¯¹äº 1 &lt;= b &lt;= p - 1ï¼Œä¸€å®šå­˜åœ¨å”¯ä¸€çš„ 1 &lt;= x &lt;= p-1ï¼Œä½¿å¾— b = a^x mod p</li></ul><p>ç¬¬ä¸‰ç‚¹åœ¨æ±‚è§£ä¸Šæœ‰è¿™ä¹ˆä¸€ä¸ªç‰¹ç‚¹ï¼šå·²çŸ¥ x æ±‚ b éå¸¸å®¹æ˜“ï¼Œå·²çŸ¥ b æ±‚ x éå¸¸å›°éš¾ï¼Œç‰¹åˆ«å½“ p å¾ˆå¤§æ—¶ï¼Œæ±‚è§£çš„å¤æ‚åº¦éå¸¸é«˜ï¼Œæ‰€ä»¥å®ƒåˆè¢«ç§°ä¸ºç¦»æ•£å¯¹æ•°é—®é¢˜ (<a href="https://en.wikipedia.org/wiki/Discrete_logarithm">Discrete logarithm</a>)ï¼Œå®ƒæ˜¯ DH ç®—æ³•èƒ½å¤Ÿå®‰å…¨äº¤æ¢å¯†é’¥çš„åŸºç¡€</p><p><strong>æ±‚æ¨¡å…¬å¼</strong></p><p>å‡è®¾ q ä¸ºç´ æ•°ï¼Œå¯¹äºæ­£æ•´æ•° a,x,yï¼Œæœ‰ï¼š</p><div class="code-wrapper"><pre><code class="hljs no">(a^x mod p)^y mod p = a^(xy) mod p</code></pre></div><p>è¯æ˜å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre><code class="hljs no">ä»¤ a^x = mp + nï¼Œ å…¶ä¸­ m, n ä¸ºè‡ªç„¶æ•°ï¼Œ 0 &lt;= n &lt; pï¼Œåˆ™æœ‰C = (a^x mod p)^y mod p  = ((mp + n) mod p)^y mod p  = n^y mod p  = (mp +n)^y mod p  = a^(xy) mod p</code></pre></div><p><strong>Deffie-Hellman ç®—æ³•</strong></p><ol><li>é¦–å…ˆ A, B å…±åŒé€‰å– p å’Œ a ä¸¤ä¸ªç´ æ•°ï¼Œp å’Œ a å‡å…¬å¼€ï¼›</li><li>ä¹‹å A é€‰æ‹©ä¸€ä¸ªè‡ªç„¶æ•° Xa &lt; pï¼Œè®¡ç®—å‡º Ya = a^Xa mod pï¼ŒXa ä¿å¯†ï¼ŒYa å…¬å¼€ï¼›</li><li>åŒç†ï¼ŒB é€‰æ‹© Xb &lt; p å¹¶è®¡ç®—å‡º Yb = a^Xb mod pï¼Œå…¶ä¸­ Xb ä¿å¯†ï¼ŒYb å…¬å¼€ï¼›</li><li>A ç”¨ Yb å’Œ Xa è®¡ç®—å‡ºå¯†é’¥ K = Yb^Xa mod pï¼Œè€Œ B ç”¨ Ya å’Œ Xb è®¡ç®—å¯†é’¥ K = Ya^Xb mod pã€‚</li></ol><p>æµç¨‹å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre><code class="hljs no">+-------------------------------------------------------------------+|                    Global Pulic Elements                          ||                                                                   ||       p                               prime number                ||       a                               prime number, a &lt; p         |+-------------------------------------------------------------------++-------------------------------------------------------------------+|                    User A Key Generation                          ||                                                                   ||       Select private Xa               Xa &lt; p                      ||       Calculate public Ya             Ya = a^Xa mod p             |+-------------------------------------------------------------------++-------------------------------------------------------------------+|                    User B Key Generation                          ||                                                                   ||       Select private Xb               Xb &lt; p                      ||       Calculate public Yb             Yb = a^Xb mod p             |+-------------------------------------------------------------------++-------------------------------------------------------------------+|               Calculation of Secret Key by User A                 ||                                                                   ||       Secret Key K                    K = Yb^Xa mod p             |+-------------------------------------------------------------------++-------------------------------------------------------------------+|               Calculation of Secret Key by User B                 ||                                                                   ||       Secret Key K                    K = Ya^Xb mod p             |+-------------------------------------------------------------------+</code></pre></div><p>ä¸‹é¢è¯æ˜ï¼ŒA å’Œ B è®¡ç®—å‡ºæ¥çš„å¯†é’¥ K ç›¸åŒã€‚</p><div class="code-wrapper"><pre><code class="hljs no">K = Yb^Xa mod p  = (a^Xb mod p)^Xa mod p  = a^(Xa * Xb) mod p          æ ¹æ®ä¸Šè¿°æ±‚æ¨¡å…¬å¼  = (a^Xa mod p)^Xb mod p  = Ya^Xb mod p</code></pre></div><p>ä¸Šé¢ä¸€å…±å‡ºç°äº† a, p, Xa, Ya, Xb, Yb, K å…± 7 ä¸ªæ•°ï¼Œå…¶ä¸­ï¼š</p><ul><li>å…¬å¼€çš„æ•°ï¼ša, p, Ya, Yb</li><li>éå…¬å¼€æ•°ï¼šXa, Xb, K</li></ul><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œa ä¸€èˆ¬ä¸º 2 æˆ– 5ï¼Œè€Œ p çš„å–å€¼éå¸¸å¤§ï¼Œè‡³å°‘å‡ ç™¾ä½ï¼ŒXa å’Œ Xb çš„å–å€¼ä¹Ÿéå¸¸å¤§ï¼Œå…¶å¤æ‚åº¦è‡³å°‘ä¸º <a href="https://en.wikipedia.org/wiki/Pollard&#39;s_rho_algorithm_for_logarithms">O(p^0.5)</a>ã€‚å¯¹äºæ”»å‡»è€…æ¥è¯´ï¼Œå·²çŸ¥ Yaï¼ŒXa çš„æ±‚è§£éå¸¸å›°éš¾ï¼ŒåŒç† Xb çš„æ±‚è§£ä¹Ÿå¾ˆå›°éš¾ï¼Œæ‰€ä»¥æ”»å‡»è€…éš¾ä»¥æ±‚å‡º Kï¼Œæ‰€ä»¥ DH èƒ½å¤Ÿä¿è¯é€šä¿¡åŒæ–¹åœ¨<strong>é€æ˜</strong>çš„ä¿¡é“ä¸­å®‰å…¨çš„äº¤æ¢å¯†é’¥ã€‚</p><p>DH ç®—æ³•ä¸»è¦å®ç°æ–¹æ³•ä¸º<strong>DHE ç®—æ³•</strong>ï¼ŒDHE ç®—æ³•è®©åŒæ–¹çš„ç§é’¥åœ¨æ¯æ¬¡å¯†é’¥äº¤æ¢é€šä¿¡æ—¶ï¼Œéƒ½æ˜¯éšæœºç”Ÿæˆçš„ã€ä¸´æ—¶çš„ï¼ŒE å…¨ç§°æ˜¯ ephemeralï¼ˆä¸´æ—¶æ€§çš„ï¼‰ã€‚è¿™æ ·å°±ä¿è¯äº† <strong>å‰å‘å®‰å…¨</strong>ï¼Œå³ä½¿æ›¾ç»çš„é€šä¿¡è¿‡ç¨‹è¢«ç ´è§£ï¼Œä¸ä¼šå½±å“ç°åœ¨çš„é€šä¿¡çš„å®‰å…¨æ€§ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html">é˜®ä¸€å³°.RSAç®—æ³•åŸç†ï¼ˆä¸€ï¼‰</a></p><p><a href="https://www.ruanyifeng.com/blog/2014/02/ssl_tls.html">é˜®ä¸€å³°.SSL/TLSåè®®è¿è¡Œæœºåˆ¶çš„æ¦‚è¿°</a></p><p><a href="https://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html">é˜®ä¸€å³°.å›¾è§£SSL/TLSåè®®</a></p><p><a href="https://juejin.cn/post/6895624327896432654#heading-9">æ´›ç¦¹Keith.TLS è¯¦è§£æ¡æ‰‹æµç¨‹</a></p><p><a href="https://mp.weixin.qq.com/s/bUy220-ect00N4gnO0697A">å°æ—coding.å›¾è§£ HTTP å¸¸è§çš„é¢è¯•é¢˜</a></p><p><a href="https://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html">é˜®ä¸€å³°.æ•°å­—ç­¾åæ˜¯ä»€ä¹ˆ</a></p><p><a href="http://www.ruanyifeng.com/blog/2006/12/notes_on_cryptography.html">é˜®ä¸€å³°.å¯†ç å­¦ç¬”è®°</a></p><p><a href="https://segmentfault.com/a/1190000024523772">ç¼–ç¨‹æŒ‡åŒ—.åŠ å¯†ã€æ•°å­—ç­¾åå’Œæ•°å­—è¯ä¹¦</a></p><p><a href="http://wsfdl.com/algorithm/2016/02/04/ç†è§£Diffie-Hellmanå¯†é’¥äº¤æ¢ç®—æ³•.html">koala bear.ç†è§£ Deffie-Hellman å¯†é’¥äº¤æ¢ç®—æ³•</a></p><h1 id="TCP-ç¯‡"><a href="#TCP-ç¯‡" class="headerlink" title="TCP ç¯‡"></a>TCP ç¯‡</h1><p>TCPæ˜¯<code>é¢å‘è¿æ¥</code>çš„ã€<code>å¯é </code>çš„ã€<code>åŸºäºå­—èŠ‚æµ</code>çš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚</p><h2 id="TCPå¤´éƒ¨"><a href="#TCPå¤´éƒ¨" class="headerlink" title="TCPå¤´éƒ¨"></a>TCPå¤´éƒ¨</h2><p>åœ¨ä»‹ç»ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ä¹‹å‰ï¼Œéœ€è¦äº†è§£TCPå¤´éƒ¨çš„ä¸€äº›çŸ¥è¯†</p><p><img src="https://github.com/HerloConnell/BlogPicture/blob/CS-basics/å›¾è§£è®¡ç®—æœºç½‘ç»œç¬”è®°4.png?raw=true" alt=""></p><ul><li><code>æºç«¯å£</code>å’Œç›®çš„ç«¯å£ï¼šç¡®å®šä¸»æœºä¸­çš„è¿›ç¨‹ï¼›</li><li>åºå·(seq)ï¼šæŠ¥æ–‡æ®µä¸­çš„çš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚åœ¨æ•°æ®æµä¸­çš„åºå·ï¼Œä¸»è¦ç”¨æ¥è§£å†³ç½‘ç»œæŠ¥ä¹±åºçš„é—®é¢˜ï¼›</li><li>ç¡®è®¤å·(ack_seq)ï¼šæ‰€æœŸæœ›æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªæ•°æ®åŒ…çš„åºå·ï¼›</li><li>ACKï¼š1æœ‰æ•ˆï¼Œè¡¨ç¤ºå·²ç»æ”¶åˆ°æ•°æ®åŒ…</li><li>RSTï¼š1æœ‰æ•ˆï¼Œè¿æ¥å¤ä½è¯·æ±‚</li><li>SYNï¼š1æœ‰æ•ˆï¼Œè¡¨ç¤ºç”³è¯·ä¸æ¥æ”¶æ–¹å»ºç«‹è¿æ¥</li><li>FINï¼š1æœ‰æ•ˆï¼Œè¡¨ç¤ºç”³è¯·ä¸æ¥æ”¶æ–¹æ–­å¼€è¿æ¥</li></ul><h2 id="TCPä¸‰æ¬¡æ¡æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹"></a>TCPä¸‰æ¬¡æ¡æ‰‹</h2><blockquote><p>åœ¨Google Groupsçš„<a href="https://groups.google.com/forum/#!forum/pongba">TopLanguage</a>ä¸­çœ‹åˆ°ä¸€å¸–è®¨è®ºTCPâ€œä¸‰æ¬¡æ¡æ‰‹â€è§‰å¾—å¾ˆæœ‰æ„æ€ã€‚è´´ä¸»æå‡ºâ€œ<a href="https://groups.google.com/forum/#!topic/pongba/kF6O7-MFxM0/discussion">TCPå»ºç«‹è¿æ¥ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</a>â€çš„é—®é¢˜ï¼Œåœ¨ä¼—å¤šå›å¤ä¸­ï¼Œæœ‰<a href="https://groups.google.com/forum/#!msg/pongba/kF6O7-MFxM0/5S7zIJ4yqKUJ">ä¸€æ¡å›å¤</a>å†™é“ï¼šâ€œè¿™ä¸ªé—®é¢˜çš„æœ¬è´¨æ˜¯, ä¿¡é“ä¸å¯é , ä½†æ˜¯é€šä¿¡åŒå‘éœ€è¦å°±æŸä¸ªé—®é¢˜è¾¾æˆä¸€è‡´. è€Œè¦è§£å†³è¿™ä¸ªé—®é¢˜, æ— è®ºä½ åœ¨æ¶ˆæ¯ä¸­åŒ…å«ä»€ä¹ˆä¿¡æ¯, ä¸‰æ¬¡é€šä¿¡æ˜¯ç†è®ºä¸Šçš„æœ€å°å€¼. æ‰€ä»¥ä¸‰æ¬¡æ¡æ‰‹ä¸æ˜¯TCPæœ¬èº«çš„è¦æ±‚, è€Œæ˜¯ä¸ºäº†æ»¡è¶³â€åœ¨ä¸å¯é ä¿¡é“ä¸Šå¯é åœ°ä¼ è¾“ä¿¡æ¯â€è¿™ä¸€éœ€æ±‚æ‰€å¯¼è‡´çš„. è¯·æ³¨æ„è¿™é‡Œçš„æœ¬è´¨éœ€æ±‚,ä¿¡é“ä¸å¯é , æ•°æ®ä¼ è¾“è¦å¯é . ä¸‰æ¬¡è¾¾åˆ°äº†, é‚£åé¢ä½ æƒ³æ¥ç€æ¡æ‰‹ä¹Ÿå¥½, å‘æ•°æ®ä¹Ÿå¥½, è·Ÿè¿›è¡Œå¯é ä¿¡æ¯ä¼ è¾“çš„éœ€æ±‚å°±æ²¡å…³ç³»äº†. å› æ­¤,å¦‚æœä¿¡é“æ˜¯å¯é çš„, å³æ— è®ºä»€ä¹ˆæ—¶å€™å‘å‡ºæ¶ˆæ¯, å¯¹æ–¹ä¸€å®šèƒ½æ”¶åˆ°, æˆ–è€…ä½ ä¸å…³å¿ƒæ˜¯å¦è¦ä¿è¯å¯¹æ–¹æ”¶åˆ°ä½ çš„æ¶ˆæ¯, é‚£å°±èƒ½åƒUDPé‚£æ ·ç›´æ¥å‘é€æ¶ˆæ¯å°±å¯ä»¥äº†.â€ã€‚</p></blockquote><p>ç½‘ç»œä¸­Aä¸Bè¦å»ºç«‹TCPè¿æ¥ï¼Œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››æ­¥ï¼š</p><div class="code-wrapper"><pre><code class="hljs no">ï¼ˆ1ï¼‰Aè¯·æ±‚å‘Bå‘é€æ¶ˆæ¯ï¼ˆ2ï¼‰Bå‘Aè¡¨ç¤ºåŒæ„ï¼ˆ3ï¼‰Bè¯·æ±‚å‘Aå‘é€æ¶ˆæ¯ï¼ˆ4ï¼‰Aå‘Bè¡¨ç¤ºåŒæ„</code></pre></div><p>å¯ä»¥å‘ç°ï¼Œç”±äº(2)(3)è¿‡ç¨‹å‡ä¸ºBå‘Aå‘é€æ¶ˆæ¯ï¼Œæ‰€ä»¥åˆä¸ºä¸€æ¬¡æ¡æ‰‹ï¼Œå®é™…ä¸ŠTCPå»ºç«‹è¿æ¥åªéœ€è¦ä¸‰æ¬¡æ¡æ‰‹å³å¯ã€‚</p><p>æ¥ä¸‹æ¥ä»‹ç»ä¸‰æ¬¡æ¡æ‰‹çš„å…·ä½“è¿‡ç¨‹</p><p><img src="https://github.com/HerloConnell/BlogPicture/blob/CS-basics/å›¾è§£è®¡ç®—æœºç½‘ç»œç¬”è®°5.png?raw=true" alt=""></p><p class="note note-secondary">  ï¼ˆ1ï¼‰Aå‘é€SYN=1ï¼Œseqåˆå§‹åŒ–ä¸ºéšæœºå€¼Xçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œä¹‹åè¿›å…¥SYN_SENDçŠ¶æ€ï¼›  <br>  ï¼ˆ2ï¼‰æ”¶åˆ°è¿æ¥è¯·æ±‚å‰ï¼ŒBå¯ä»¥è®¤ä¸ºå¤„äºLISTENé˜¶æ®µï¼›æ”¶åˆ°è¿æ¥è¯·æ±‚åï¼ŒBå‘Aå‘é€ä¸€ä¸ªå“åº”+è¯·æ±‚æŠ¥æ–‡æ®µï¼Œç½®ACK=1ï¼ŒSYN=1ï¼Œack_seq=X+1ï¼Œseqåˆå§‹åŒ–ä¸ºéšæœºå€¼Yï¼ŒBè¿›å…¥SYN_RCVDçŠ¶æ€ï¼›  <br>  ï¼ˆ3ï¼‰Aå“åº”Bçš„è¿æ¥è¯·æ±‚ï¼Œå‘Bå‘é€ä¸€ä¸ªACK=1çš„æŠ¥æ–‡æ®µï¼Œç½®seq=X+ç¬¬ä¸€æ¬¡æ¡æ‰‹æŠ¥æ–‡é•¿åº¦1ï¼Œack_seq=Yï¼Œä¹‹åAè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼›  <br>  ï¼ˆ4ï¼‰Bæ”¶åˆ°Aå“åº”ååŒæ ·è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œè¿æ¥å»ºç«‹å®Œæˆã€‚</p><h2 id="TCPå››æ¬¡æŒ¥æ‰‹"><a href="#TCPå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPå››æ¬¡æŒ¥æ‰‹"></a>TCPå››æ¬¡æŒ¥æ‰‹</h2><p><img src="https://github.com/HerloConnell/BlogPicture/blob/CS-basics/å›¾è§£è®¡ç®—æœºç½‘ç»œç¬”è®°6.png?raw=true" alt=""></p><p>æŒ¥æ‰‹è¿‡ç¨‹ï¼ŒAä¸Bæ–­å¼€è¿æ¥ä¹‹åï¼ŒBå¯èƒ½è¿˜ä¼šæœ‰éœ€è¦å‘ä¸ªAçš„æ•°æ®ï¼Œä¸èƒ½ç«‹åˆ»æ–­å¼€è¿æ¥ï¼Œéœ€è¦æœ‰ä¸€ä¸ªCLOSE_WAITçš„è¿‡ç¨‹ï¼Œä¸èƒ½åˆä¸ºä¸‰æ¬¡ã€‚</p><p class="note note-secondary">  ï¼ˆ1ï¼‰Aå°†FINç½®ä¸º1ï¼ŒACKç½®ä¸º1ï¼Œseqè®¾ç½®ä¸ºX=ä¸Šä¸€æ¬¡å¯¹æ–¹ä¼ é€è¿‡æ¥çš„ack_seqï¼Œack_seqè®¾ç½®ä¸ºY=ä¸ºä¸Šä¸€æ¬¡å¯¹æ–¹ä¼ è¿‡æ¥çš„seq+1ã€‚å°†æ•°æ®å‘é€è‡³Bï¼Œç„¶åAè¿›å…¥FIN_WAIT_1çŠ¶æ€ï¼›  <br>  ï¼ˆ2ï¼‰Bæ”¶åˆ°äº†Aå‘é€çš„FINæŠ¥æ–‡æ®µï¼Œå‘Aå›å¤ï¼Œå°†ACKç½®ä¸º1ï¼Œseqè®¾ç½®ä¸ºYï¼Œack_seqè®¾ç½®ä¸ºX+1ã€‚ç„¶åBè¿›å…¥CLOSE_WAITçŠ¶æ€ï¼ŒAæ”¶åˆ°Bçš„å›å¤åï¼Œè¿›å…¥FIN_WAIT_2çŠ¶æ€ï¼›  <br>  ï¼ˆ3ï¼‰Bå†æ¬¡å‘Aå‘é€æŠ¥æ–‡ï¼ŒFINç½®ä¸º1ï¼ŒACKç½®ä¸º1ï¼Œseqè®¾ç½®ä¸ºYï¼Œack_seqè®¾ç½®ä¸ºX+1ï¼Œç„¶åBè¿›å…¥LAST_ACKçŠ¶æ€ï¼ŒAæ”¶åˆ°Bçš„æŠ¥æ–‡åï¼Œè¿›å…¥TIME_WAITçŠ¶æ€ï¼›  <br>  ï¼ˆ4ï¼‰Aæ”¶åˆ°Bå‘é€çš„FINæŠ¥æ–‡æ®µï¼Œå‘Bå›å¤ï¼ŒACKç½®ä¸º1ï¼Œseqè®¾ç½®ä¸ºX+1ï¼Œack_seqè®¾ç½®ä¸ºY+1ã€‚ç„¶åAè¿›å…¥TIME_WAITçŠ¶æ€ï¼ŒBåœ¨æ”¶åˆ°æŠ¥æ–‡åè¿›å…¥CLOSEDçŠ¶æ€ã€‚Aåœ¨å‘é€å®ŒæŠ¥æ–‡ç­‰å¾…äº†2MSLæ—¶é—´åè¿›å…¥CLOSEDçŠ¶æ€ã€‚</p><p><strong>ä¸ºä»€ä¹ˆ TIME_WAIT çŠ¶æ€è¦ç­‰å¾… 2MSL ä¹‹åæ‰å…³é—­è¿æ¥</strong></p><ul><li>2MSLè¡¨ç¤ºä¸¤ä¸ªMSLçš„æ—¶é•¿ï¼ŒMSLå…¨ç§°ä¸ºMaximum Segment Lifeï¼Œè¡¨ç¤ºTCP Segment ç”Ÿå­˜æ—¶é—´çš„é™åˆ¶ã€‚</li><li>ä¸ºäº†ä¿è¯Aå‘é€çš„æœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µèƒ½å¤Ÿåˆ°è¾¾Bã€‚è¿™ä¸ªACKæŠ¥æ–‡æ®µæœ‰å¯èƒ½ä¸¢å¤±ï¼Œå› è€Œä½¿å¤„åœ¨LAST_ACKçŠ¶æ€çš„Bæ”¶ä¸åˆ°å¯¹è‡ªå·±å·²å‘é€çš„FIN+ACKæŠ¥æ–‡æ®µçš„ç¡®è®¤ã€‚Bä¼šè¶…æ—¶é‡ä¼ è¿™ä¸ªFIN+ACKæŠ¥æ–‡æ®µã€‚è€ŒAå°±èƒ½åœ¨2MSLæ—¶é—´å†…æ”¶åˆ°è¿™ä¸ªé‡ä¼ çš„FIN+ACKæŠ¥æ–‡æ®µã€‚æ¥ç€Aé‡ä¼ ä¸€æ¬¡ç¡®è®¤ï¼Œé‡æ–°å¯åŠ¨2MSLè®¡æ—¶å™¨ã€‚æœ€åAå’ŒBéƒ½æ­£å¸¸è¿›å…¥åˆ°CLOSEDçŠ¶æ€ã€‚å¦‚æœAåœ¨TIME_WAITçŠ¶æ€ä¸ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè€Œæ˜¯åœ¨å‘é€å®ŒACKæŠ¥æ–‡æ®µåç«‹å³é‡Šæ”¾è¿æ¥ï¼Œé‚£ä¹ˆå°±æ— æ³•æ”¶åˆ°Bé‡ä¼ çš„FIN+ACKæŠ¥æ–‡æ®µï¼Œå› è€Œä¹Ÿä¸ä¼šåœ¨å‘é€ä¸€æ¬¡ç¡®è®¤æŠ¥æ–‡æ®µã€‚è¿™æ ·ï¼ŒBå°±æ— æ³•æŒ‰ç…§æ­£å¸¸æ­¥éª¤è¿›å…¥CLOSEDçŠ¶æ€ã€‚</li><li>ä½¿ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸­ä¸ä¼šå‡ºç°è¿™ç§æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚Aåœ¨å‘é€å®Œæœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µåï¼Œåœ¨ç»è¿‡2MSLï¼Œå°±å¯ä»¥ä½¿æœ¬è¿æ¥æŒç»­çš„æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡æ®µéƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™-1"><a href="#å‚è€ƒèµ„æ–™-1" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://blog.jiar.me/2017/08/11/TCPä¸‰æ¬¡æ¡æ‰‹ç®€ä»‹/">Jiar.TCPä¸‰æ¬¡æ¡æ‰‹ç®€ä»‹</a></p><p><a href="https://blog.jiar.me/2017/08/24/TCPå››æ¬¡æŒ¥æ‰‹ç®€ä»‹/">Jiar.TCPå››æ¬¡æŒ¥æ‰‹ç®€ä»‹</a></p>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºåŸºç¡€</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢ç»</title>
    <link href="/2021/08/06/%E9%9D%A2%E7%BB%8F/"/>
    <url>/2021/08/06/%E9%9D%A2%E7%BB%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="C-C-staticå…³é”®å­—ä½œç”¨"><a href="#C-C-staticå…³é”®å­—ä½œç”¨" class="headerlink" title="C/C++ staticå…³é”®å­—ä½œç”¨"></a>C/C++ staticå…³é”®å­—ä½œç”¨</h1><ol><li><p>éšè—ï¼šå½“åŒæ—¶ç¼–è¯‘å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œæ‰€æœ‰æœªåŠ staticå‰ç¼€çš„å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½å…·æœ‰å…¨å±€å¯è§æ€§ã€‚</p></li><li><p>å…¨å±€ç”Ÿå‘½å‘¨æœŸï¼šå­˜å‚¨åœ¨é™æ€æ•°æ®åŒºçš„å˜é‡ä¼šåœ¨ç¨‹åºåˆšå¼€å§‹è¿è¡Œæ—¶å°±å®Œæˆå”¯ä¸€çš„ä¸€æ¬¡åˆå§‹åŒ–ã€‚ å…±æœ‰ä¸¤ç§å˜é‡å­˜å‚¨åœ¨é™æ€å­˜å‚¨åŒºï¼šå…¨å±€å˜é‡å’Œstaticå˜é‡ï¼Œä¸å…¨å±€å˜é‡ç›¸æ¯”ï¼Œstaticå¯ä»¥æ§åˆ¶å˜é‡çš„å¯è§èŒƒå›´ã€‚</p></li><li><p>å˜é‡é»˜è®¤åˆå§‹åŒ–ä¸º0ï¼šåœ¨é™æ€æ•°æ®åŒºï¼Œå†…å­˜ä¸­æ‰€æœ‰çš„å­—èŠ‚é»˜è®¤å€¼éƒ½æ˜¯0x00ï¼Œæ‰€ä»¥å…¨å±€å˜é‡ä¹Ÿå…·å¤‡è¿™ä¸€å±æ€§ã€‚</p></li><li><p>C++ä¸­çš„ç±»æˆå‘˜å£°æ˜static</p><ul><li>staticä¿®é¥°çš„å˜é‡æˆ–å‡½æ•°æ˜¯å±äºç±»çš„ï¼Œæ‰€æœ‰å¯¹è±¡åªæœ‰ä¸€ä»½æ‹·è´ã€‚ å› æ­¤ï¼Œä¸èƒ½å°†é™æ€å‡½æ•°è®¾ä¸ºè™šå‡½æ•°ã€‚  </li><li>é™æ€æ•°æ®æˆå‘˜æ˜¯é™æ€å­˜å‚¨çš„ï¼Œæ‰€ä»¥å¿…é¡»å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–ã€‚ ï¼ˆç¨‹åºå‘˜æ‰‹åŠ¨åˆå§‹åŒ–ï¼Œå¦åˆ™ç¼–è¯‘æ—¶ä¸€èˆ¬ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯åœ¨Linkæ—¶ä¼šæŠ¥é”™è¯¯ï¼‰  </li></ul></li></ol><h1 id="vectoræ˜¯å¦‚ä½•æ‰©å®¹çš„"><a href="#vectoræ˜¯å¦‚ä½•æ‰©å®¹çš„" class="headerlink" title="vectoræ˜¯å¦‚ä½•æ‰©å®¹çš„"></a>vectoræ˜¯å¦‚ä½•æ‰©å®¹çš„</h1><p>å¾€vectorä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œå¦‚æœç©ºé—´ä¸å¤Ÿå°†ä¼šå¯¼è‡´æ‰©å®¹ã€‚vectoræœ‰ä¸¤ä¸ªå±æ€§ï¼šsizeå’Œcapacityã€‚sizeè¡¨ç¤ºå·²ç»ä½¿ç”¨çš„æ•°æ®å®¹é‡ï¼Œcapacityè¡¨ç¤ºæ•°ç»„çš„å®é™…å®¹é‡ï¼ŒåŒ…å«å·²ä½¿ç”¨çš„å’Œæœªä½¿ç”¨çš„ã€‚</p><p>vectoræ‰©å®¹è§„åˆ™ï¼š</p><ol><li>å½“æ•°ç»„å¤§å°ä¸å¤Ÿå®¹çº³æ–°å¢å…ƒç´ æ—¶ï¼Œå¼€è¾Ÿæ›´å¤§çš„å†…å­˜ç©ºé—´ï¼ŒæŠŠæ—§ç©ºé—´ä¸Šçš„æ•°æ®å¤åˆ¶è¿‡æ¥ï¼Œç„¶ååœ¨æ–°ç©ºé—´ä¸­ç»§ç»­å¢åŠ ã€‚</li><li>æ–°çš„æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼Œä¸€èˆ¬æ˜¯å½“å‰ç©ºé—´çš„1.5å€æˆ–è€…2å€ï¼Œè¿™ä¸ª1.5æˆ–è€…2è¢«ç§°ä¸ºæ‰©å®¹å› å­ï¼Œä¸åŒç³»ç»Ÿå®ç°æ‰©å®¹å› å­ä¹Ÿä¸åŒã€‚</li></ol><h1 id="é‡è½½å’Œé‡å†™çš„åŒºåˆ«"><a href="#é‡è½½å’Œé‡å†™çš„åŒºåˆ«" class="headerlink" title="é‡è½½å’Œé‡å†™çš„åŒºåˆ«"></a>é‡è½½å’Œé‡å†™çš„åŒºåˆ«</h1><p>é‡è½½ï¼šä¸¤ä¸ªå‡½æ•°åç›¸åŒï¼Œä½†æ˜¯å‚æ•°åˆ—è¡¨ä¸åŒï¼ˆä¸ªæ•°ï¼Œç±»å‹ï¼‰ï¼Œè¿”å›å€¼ç±»å‹æ²¡æœ‰è¦æ±‚ï¼Œåœ¨ç»Ÿä¸€ä½œç”¨åŸŸä¸­ã€‚</p><p>è¦†ç›–ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œçˆ¶ç±»ä¸­çš„å‡½æ•°æ˜¯è™šå‡½æ•°ï¼Œåœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰äº†è¿™ä¸ªè™šå‡½æ•°ï¼Œè¿™ç§æƒ…å†µæ˜¯é‡å†™ã€‚</p><p>é‡å†™ï¼š</p><p>ï¼ˆ1ï¼‰å¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°ä¸åŸºç±»çš„å‡½æ•°åŒåï¼Œä½†æ˜¯å‚æ•°ä¸åŒã€‚æ­¤æ—¶ï¼Œä¸è®ºæœ‰æ— virtualå…³é”®å­—ï¼ŒåŸºç±»çš„å‡½æ•°å°†è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸é‡è½½æ··æ·†ï¼‰ã€‚<br>ï¼ˆ2ï¼‰å¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°ä¸åŸºç±»çš„å‡½æ•°åŒåï¼Œå¹¶ä¸”å‚æ•°ä¹Ÿç›¸åŒï¼Œä½†æ˜¯åŸºç±»å‡½æ•°æ²¡æœ‰virtualå…³é”®å­—ã€‚æ­¤æ—¶ï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸è¦†ç›–æ··æ·†ï¼‰ã€‚</p><h1 id="2-5äº¿ä¸ªæ•°æ±‚ä¸é‡å¤æ•°"><a href="#2-5äº¿ä¸ªæ•°æ±‚ä¸é‡å¤æ•°" class="headerlink" title="2.5äº¿ä¸ªæ•°æ±‚ä¸é‡å¤æ•°"></a>2.5äº¿ä¸ªæ•°æ±‚ä¸é‡å¤æ•°</h1><p>æœ‰2.5äº¿ä¸ªæ•´æ•°(è¿™2.5äº¿ä¸ªæ•´æ•°å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œè‡³äºæ•°ç»„æ˜¯æ”¾åœ¨å¤–å­˜è¿˜æ˜¯å†…å­˜ï¼Œæ²¡æœ‰è¿›ä¸€æ­¥å…·ä½“è¯´æ˜)ï¼›<br>è¦æ±‚æ‰¾å‡ºè¿™2.5äº¿ä¸ªæ•°å­—é‡Œé¢ï¼Œ ä¸é‡å¤çš„æ•°å­—çš„ä¸ªæ•° ï¼› å¦å¤–ï¼Œå¯ç”¨çš„å†…å­˜é™å®šä¸º600Mï¼› </p><p>ç”¨ä¸€ä¸ªbitè¡¨ç¤ºä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨ï¼Œ32bitä¸­æ— ç¬¦å·æ•´æ•°æœ‰4Gä¸ªï¼Œå…±éœ€4G bitsï¼Œæ¯ä¸ªå­—èŠ‚8 bitsï¼Œéœ€è¦4G/8 = 512Må­—èŠ‚ï¼›ç”³è¯·512Må†…å­˜ï¼Œä½œä¸ºä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨çš„æ ‡è®°flagï¼Œå…¨æ¸…0ï¼›ç”³è¯·å¦å¤–ä¸€ç»„bitä½œä¸ºè®¡æ•°å™¨countï¼Œå…¨æ¸…0ï¼›</p><h1 id="volatileå…³é”®å­—"><a href="#volatileå…³é”®å­—" class="headerlink" title="volatileå…³é”®å­—"></a>volatileå…³é”®å­—</h1><p><code>volatile</code>ç›´è¯‘ä¸ºæ˜“å¤±æ€§çš„ï¼Œæ„åœ¨å£°æ˜æŸå˜é‡æœ‰å¯èƒ½è¢«ç¼–è¯‘å™¨æœªçŸ¥çš„å› ç´ æ›´æ”¹ï¼Œå¦‚ï¼šæ“ä½œç³»ç»Ÿã€ç¡¬ä»¶æˆ–è€…å…¶å®ƒçº¿ç¨‹ç­‰ã€‚é‡åˆ°è¿™ä¸ªå…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œ<strong>ç¼–è¯‘å™¨å¯¹è®¿é—®è¯¥å˜é‡çš„ä»£ç å°±ä¸å†è¿›è¡Œä¼˜åŒ–</strong>ã€‚ä¾‹å¦‚ï¼š</p><div class="code-wrapper"><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">waitForSemaphore</span><span class="hljs-params">()</span></span><span class="hljs-function"></span>&#123;   <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">uint16_t</span>* semPtr = WELL_KNOWN_SEM_ADDR;<span class="hljs-comment">/*well known address to my semaphore*/</span>   <span class="hljs-keyword">while</span> ((*semPtr) != IS_OK_FOR_ME_TO_PROCEED);&#125;</code></pre></div><p>å¦‚æœæœªè¿›è¡Œæ˜“å¤±æ€§å£°æ˜ï¼Œä¼˜åŒ–ç¼–è¯‘å™¨ä¼šæŠŠå˜é‡ä»å†…å­˜è£…å…¥CPUå¯„å­˜å™¨ä¸­ï¼Œ å³ä½¿å…¶ä»–çº¿ç¨‹å¯¹å†…å­˜ä¸­çš„å˜é‡è¿›è¡Œä¿®æ”¹ï¼Œå½“å‰çº¿ç¨‹åªä½¿ç”¨å¯„å­˜å™¨ä¸­çš„å€¼ï¼Œ<code>while</code>å¾ªç¯å°†æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼›åŠ ä¿®é¥°å­—ä¹‹åï¼Œç¼–è¯‘å™¨æ¯æ¬¡æ“ä½œè¯¥å˜é‡æ—¶ä¼šä»å†…å­˜ä¸­çœŸæ­£å–å‡ºã€‚</p><div class="code-wrapper"><pre><code class="hljs c"><span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> i=<span class="hljs-number">10</span>;<span class="hljs-keyword">int</span> a = i;<span class="hljs-keyword">int</span> b = i;</code></pre></div><p><code>volatile</code>æŒ‡å‡º<code>i</code>æ˜¯éšæ—¶å¯èƒ½å‘ç”Ÿå˜åŒ–çš„ï¼Œæ¯æ¬¡ä½¿ç”¨å®ƒçš„æ—¶å€™å¿…é¡»ä»<code>i</code>çš„åœ°å€ä¸­è¯»å–ï¼Œå› è€Œç¼–è¯‘å™¨ç”Ÿæˆçš„æ±‡ç¼–ä»£ç ä¼šé‡æ–°ä»<code>i</code>çš„åœ°å€è¯»å–æ•°æ®æ”¾åœ¨<code>b</code>ä¸­ã€‚è€Œä¼˜åŒ–åšæ³•æ˜¯ï¼Œç”±äºç¼–è¯‘å™¨å‘ç°ä¸¤æ¬¡è¯»æ•°æ®çš„ä»£ç ä¹‹é—´çš„ä»£ç æ²¡æœ‰å¯¹<code>i</code>è¿›è¡Œè¿‡æ“ä½œï¼Œå®ƒä¼šè‡ªåŠ¨æŠŠä¸Šæ¬¡è¯»çš„æ•°æ®æ”¾åœ¨ <code>b</code>ä¸­ã€‚è€Œä¸æ˜¯é‡æ–°ä»<code>i</code>é‡Œé¢è¯»ã€‚</p><p><strong>å‚è€ƒ</strong></p><p><a href="https://stackoverflow.com/a/72576/16657286">https://stackoverflow.com/a/72576/16657286</a></p><p><a href="https://zhuanlan.zhihu.com/p/62060524">https://zhuanlan.zhihu.com/p/62060524</a></p><h1 id="å¸¸é©»å†…å­˜å’Œå…±äº«å†…å­˜"><a href="#å¸¸é©»å†…å­˜å’Œå…±äº«å†…å­˜" class="headerlink" title="å¸¸é©»å†…å­˜å’Œå…±äº«å†…å­˜"></a>å¸¸é©»å†…å­˜å’Œå…±äº«å†…å­˜</h1><ul><li>å¸¸é©»å†…å­˜ï¼šè¿›ç¨‹é—´åˆ‡æ¢æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†æ•°æ®ä»å†…å­˜å¤åˆ¶åˆ°ç£ç›˜ä¸Šæ¥é‡Šæ”¾ä¸€éƒ¨åˆ†å†…å­˜ã€‚ç„¶è€Œï¼Œå½“ä¸€éƒ¨åˆ†å†…å­˜æŒ‡å®šä¸º<em>å¸¸é©»</em>æ—¶ï¼Œå®ƒä¸ä¼šä¸ç£ç›˜äº¤æ¢ã€‚ä½¿é¢‘ç¹è®¿é—®çš„æ•°æ®å¸¸é©»åœ¨å†…å­˜ä¸­å¯ä»¥å‡å°‘è®¿é—®è¯¥æ•°æ®æ‰€éœ€çš„ç£ç›˜ I/O æ“ä½œï¼Œå¦‚æ“ä½œç³»ç»Ÿçš„ä¸­å¿ƒéƒ¨åˆ†å’Œä¸€äº›ç‰¹æ®Šç¨‹åºï¼Œå¦‚æ—¥å†å’Œè®¡ç®—å™¨ã€‚</li><li>å…±äº«å†…å­˜æ˜¯è¿›ç¨‹é—´é€šä¿¡ä¸­æœ€ç®€å•çš„æ–¹å¼ä¹‹ä¸€ã€‚å…±äº«å†…å­˜å…è®¸ä¸¤ä¸ªæˆ–æ›´å¤šè¿›ç¨‹è®¿é—®åŒä¸€å—å†…å­˜ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹æ”¹å˜äº†è¿™å—åœ°å€ä¸­çš„å†…å®¹çš„æ—¶å€™ï¼Œå…¶å®ƒè¿›ç¨‹éƒ½ä¼šå¯Ÿè§‰åˆ°è¿™ä¸ªæ›´æ”¹ã€‚</li></ul><h1 id="DNSåè®®"><a href="#DNSåè®®" class="headerlink" title="DNSåè®®"></a>DNSåè®®</h1><p>DNS ï¼ˆDomain Name Systemï¼‰çš„ä½œç”¨éå¸¸ç®€å•ï¼Œå°±æ˜¯æ ¹æ®åŸŸåæŸ¥å‡ºIPåœ°å€ã€‚</p><p>å®¢æˆ·ç«¯åœ¨ä¸Šç½‘çš„æ—¶å€™ï¼Œéœ€è¦è®¾ç½®ï¼šæœ¬æœºçš„IPåœ°å€ã€å­ç½‘æ©ç ã€ç½‘å…³çš„IPåœ°å€ã€DNSæœåŠ¡å™¨çš„IPåœ°å€ã€‚æˆ‘ä»¬å°±æ˜¯é€šè¿‡DNSæœåŠ¡å™¨æŸ¥å¾—åŸŸåå¯¹åº”çš„IPåœ°å€ã€‚DNSæœåŠ¡å™¨çš„IPåœ°å€ï¼Œæœ‰å¯èƒ½æ˜¯åŠ¨æ€çš„ï¼Œæ¯æ¬¡ä¸Šç½‘æ—¶ç”±ç½‘å…³åˆ†é…ï¼Œè¿™å«åšDHCPæœºåˆ¶ï¼›ä¹Ÿæœ‰å¯èƒ½æ˜¯äº‹å…ˆæŒ‡å®šçš„å›ºå®šåœ°å€ã€‚</p><p>DNSæœåŠ¡å™¨æ€ä¹ˆä¼šçŸ¥é“æ¯ä¸ªåŸŸåçš„IPåœ°å€å‘¢ï¼Ÿç­”æ¡ˆæ˜¯åˆ†çº§æŸ¥è¯¢ã€‚</p><p><strong>åŸŸåçš„å±‚çº§</strong></p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œ<code>www.example.com</code>çœŸæ­£çš„åŸŸåæ˜¯<code>www.example.com.root</code>ï¼Œç®€å†™ä¸º<code>www.example.com.</code>ã€‚å› ä¸ºï¼Œæ ¹åŸŸå<code>.root</code>å¯¹äºæ‰€æœ‰åŸŸåéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¹³æ—¶æ˜¯çœç•¥çš„ã€‚</p><p>æ ¹åŸŸåçš„ä¸‹ä¸€çº§ï¼Œå«åšâ€é¡¶çº§åŸŸåâ€ï¼ˆtop-level domainï¼Œç¼©å†™ä¸ºTLDï¼‰ï¼Œæ¯”å¦‚<code>.com</code>ã€<code>.net</code>ï¼›å†ä¸‹ä¸€çº§å«åšâ€æ¬¡çº§åŸŸåâ€ï¼ˆsecond-level domainï¼Œç¼©å†™ä¸ºSLDï¼‰ï¼Œæ¯”å¦‚<code>www.example.com</code>é‡Œé¢çš„<code>.example</code>ï¼Œè¿™ä¸€çº§åŸŸåæ˜¯ç”¨æˆ·å¯ä»¥æ³¨å†Œçš„ï¼›å†ä¸‹ä¸€çº§æ˜¯ä¸»æœºåï¼ˆhostï¼‰ï¼Œæ¯”å¦‚<code>www.example.com</code>é‡Œé¢çš„<code>www</code>ï¼Œåˆç§°ä¸ºâ€ä¸‰çº§åŸŸåâ€ï¼Œè¿™æ˜¯ç”¨æˆ·åœ¨è‡ªå·±çš„åŸŸé‡Œé¢ä¸ºæœåŠ¡å™¨åˆ†é…çš„åç§°ï¼Œæ˜¯ç”¨æˆ·å¯ä»¥ä»»æ„åˆ†é…çš„ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼ŒåŸŸåçš„å±‚çº§ç»“æ„å¦‚ä¸‹ã€‚</p><div class="code-wrapper"><pre><code class="hljs no">ä¸»æœºå.æ¬¡çº§åŸŸå.é¡¶çº§åŸŸå.æ ¹åŸŸå# å³host.sld.tld.root</code></pre></div><p><strong>DNSè®°å½•</strong></p><p>åŸŸåä¸IPä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œç§°ä¸ºâ€è®°å½•â€ã€‚æ ¹æ®ä½¿ç”¨åœºæ™¯ï¼Œâ€è®°å½•â€å¯ä»¥åˆ†æˆä¸åŒçš„ç±»å‹ã€‚</p><div class="code-wrapper"><pre><code class="hljs dns">ï¼ˆ<span class="hljs-number">1</span>ï¼‰ <span class="hljs-keyword">A</span>ï¼šåœ°å€è®°å½•ï¼ˆAddressï¼‰ï¼Œè¿”å›åŸŸåæŒ‡å‘çš„IPåœ°å€ã€‚ï¼ˆ<span class="hljs-number">2</span>ï¼‰ <span class="hljs-keyword">NS</span>ï¼šåŸŸåæœåŠ¡å™¨è®°å½•ï¼ˆName Serverï¼‰ï¼Œè¿”å›ä¿å­˜ä¸‹ä¸€çº§åŸŸåä¿¡æ¯çš„æœåŠ¡å™¨åœ°å€ã€‚è¯¥è®°å½•åªèƒ½è®¾ç½®ä¸ºåŸŸåï¼Œä¸èƒ½è®¾ç½®ä¸ºIPåœ°å€ã€‚ï¼ˆ<span class="hljs-number">3</span>ï¼‰<span class="hljs-keyword">CNAME</span>ï¼šè§„èŒƒåç§°è®°å½•ï¼ˆCanonical Nameï¼‰ï¼Œè¿”å›å¦ä¸€ä¸ªåŸŸåï¼Œå³å½“å‰æŸ¥è¯¢çš„åŸŸåæ˜¯å¦ä¸€ä¸ªåŸŸåçš„è·³è½¬ã€‚</code></pre></div><p><strong>åˆ†çº§æŸ¥è¯¢</strong></p><p>â€œåˆ†çº§æŸ¥è¯¢â€ï¼Œå°±æ˜¯ä»æ ¹åŸŸåå¼€å§‹ï¼Œä¾æ¬¡æŸ¥è¯¢æ¯ä¸€çº§åŸŸåçš„NSè®°å½•ï¼Œç›´åˆ°æŸ¥åˆ°æœ€ç»ˆçš„IPåœ°å€ã€‚æ¯ä¸€çº§åŸŸåéƒ½æœ‰è‡ªå·±çš„NSè®°å½•ï¼ŒNSè®°å½•æŒ‡å‘è¯¥çº§åŸŸåçš„åŸŸåæœåŠ¡å™¨ã€‚è¿™äº›æœåŠ¡å™¨çŸ¥é“ä¸‹ä¸€çº§åŸŸåçš„å„ç§è®°å½•ã€‚è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ã€‚</p><div class="code-wrapper"><pre><code class="hljs no">1. ä»&quot;æ ¹åŸŸåæœåŠ¡å™¨&quot;æŸ¥åˆ°&quot;é¡¶çº§åŸŸåæœåŠ¡å™¨&quot;çš„NSè®°å½•å’ŒAè®°å½•ï¼ˆIPåœ°å€ï¼‰2. ä»&quot;é¡¶çº§åŸŸåæœåŠ¡å™¨&quot;æŸ¥åˆ°&quot;æ¬¡çº§åŸŸåæœåŠ¡å™¨&quot;çš„NSè®°å½•å’ŒAè®°å½•ï¼ˆIPåœ°å€ï¼‰3. ä»&quot;æ¬¡çº§åŸŸåæœåŠ¡å™¨&quot;æŸ¥å‡º&quot;ä¸»æœºå&quot;çš„IPåœ°å€</code></pre></div><p>ä¸Šé¢ï¼Œâ€æ ¹åŸŸåæœåŠ¡å™¨â€çš„NSè®°å½•å’ŒIPåœ°å€ä¸€èˆ¬æ˜¯ä¸ä¼šå˜åŒ–çš„ï¼Œæ‰€ä»¥å†…ç½®åœ¨DNSæœåŠ¡å™¨é‡Œé¢ã€‚</p><p><strong>å‚è€ƒ</strong></p><p><a href="https://www.ruanyifeng.com/blog/2016/06/dns.html">https://www.ruanyifeng.com/blog/2016/06/dns.html</a></p><h1 id="è¿›ç¨‹çš„å†…å­˜åˆ†å¸ƒ"><a href="#è¿›ç¨‹çš„å†…å­˜åˆ†å¸ƒ" class="headerlink" title="è¿›ç¨‹çš„å†…å­˜åˆ†å¸ƒ"></a>è¿›ç¨‹çš„å†…å­˜åˆ†å¸ƒ</h1><p><img src="https://github.com/HerloConnell/BlogPicture/blob/CS-basics/é¢ç»1.png?raw=true" alt=""></p><p>ä»ä½åœ°å€åˆ°é«˜åœ°å€ï¼Œåˆ†åˆ«åŒ…æ‹¬ï¼š</p><ol><li>æ–‡æœ¬æ®µï¼Œä¹Ÿå«ä»£ç æ®µï¼Œæ˜¯å¯¹è±¡æ–‡ä»¶æˆ–å†…å­˜ä¸­ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­åŒ…å«å¯æ‰§è¡ŒæŒ‡ä»¤ã€‚é€šå¸¸ä»£ç æ®µæ˜¯å…±äº«çš„ï¼Œå¯¹äºç»å¸¸æ‰§è¡Œçš„ç¨‹åºï¼Œåªæœ‰ä¸€ä¸ªå‰¯æœ¬éœ€è¦å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä»£ç æ®µæ˜¯åªè¯»çš„ï¼Œä»¥é˜²æ­¢ç¨‹åºä»¥å¤–ä¿®æ”¹æŒ‡ä»¤ã€‚</li><li>åˆå§‹åŒ–çš„æ•°æ®æ®µï¼Œæ˜¯ç¨‹åºçš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒåŒ…å«æœ‰ç¨‹åºå‘˜åˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œå¯ä»¥è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºåªè¯»åŒºåŸŸå’Œè¯»å†™åŒºåŸŸã€‚ä¾‹å¦‚ï¼ŒCä¸­çš„char=â€œhello worldâ€çš„å…¨å±€å­—ç¬¦ä¸²ï¼Œä»¥åŠmain(ä¾‹å¦‚å…¨å±€)ä¹‹å¤–çš„int debug=1è¿™æ ·çš„Cè¯­å¥ã€‚</li><li>æœªåˆå§‹åŒ–çš„æ•°æ®æ®µï¼Œé€šå¸¸ç§°ä¸ºbssæ®µï¼Œè¿™ä¸ªæ®µçš„æ•°æ®åœ¨ç¨‹åºå¼€å§‹ä¹‹å‰æœ‰å†…æ ¸åˆå§‹åŒ–ä¸º0ï¼ŒåŒ…å«æ‰€æœ‰åˆå§‹åŒ–ä¸º0å’Œæ²¡æœ‰æ˜¾ç¤ºåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œ</li><li>å †ï¼Œå †æ˜¯åŠ¨æ€å†…å­˜åˆ†é…é€šå¸¸å‘ç”Ÿçš„éƒ¨åˆ†ã€‚å †æ˜¯ç”±ç¨‹åºå‘˜è‡ªå·±åˆ†é…çš„ï¼ˆmalloc kmallocç­‰ï¼‰ã€‚å †åŒºåŸŸç”±æ‰€æœ‰å…±äº«åº“å’Œè¿›ç¨‹ä¸­åŠ¨æ€åŠ è½½çš„æ¨¡å—å…±äº«ã€‚</li><li>æ ˆï¼Œå­˜æ”¾ä¸´æ—¶å˜é‡ï¼Œä»¥åŠæ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶è°ƒç”¨æ ˆã€‚æ¯å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¿”å›åˆ°çš„åœ°å€å’Œå…³äºè°ƒç”¨è€…ç¯å¢ƒçš„æŸäº›ä¿¡æ¯çš„åœ°å€ï¼Œæ¯”å¦‚ä¸€äº›æœºå™¨å¯„å­˜å™¨ï¼Œå°±ä¼šè¢«ä¿å­˜åœ¨æ ˆä¸­ã€‚ç„¶åï¼Œæ–°è°ƒç”¨çš„å‡½æ•°åœ¨æ ˆä¸Šåˆ†é…ç©ºé—´ï¼Œç”¨äºè‡ªåŠ¨å’Œä¸´æ—¶å˜é‡ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºåŸºç¡€</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Macä¸‹ä½¿ç”¨GitHub+Hexo+Fluidæ­å»ºä¸ªäººåšå®¢</title>
    <link href="/2021/08/03/blog-init/"/>
    <url>/2021/08/03/blog-init/</url>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…ï¼šGitã€node-jsã€-hexo"><a href="#å®‰è£…ï¼šGitã€node-jsã€-hexo" class="headerlink" title="å®‰è£…ï¼šGitã€node.jsã€ hexo"></a>å®‰è£…ï¼šGitã€node.jsã€ hexo</h1><ol><li><p>å®‰è£…Homebrew</p></li><li><p>å®‰è£…node.js</p><div class="code-wrapper"><pre><code class="hljs crmsh">brew install <span class="hljs-keyword">node</span><span class="hljs-title"></span></code></pre></div></li><li><p>å®‰è£…git</p><ul><li><p>ä¸€ç§æ–¹æ³•æ˜¯å®‰è£…Xcode</p></li><li><p>å¦ä¸€ç§æ–¹æ³•æ˜¯</p><div class="code-wrapper"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>git</code></pre></div></li></ul></li><li><p>ä½¿ç”¨ npm å®‰è£… hexo</p><div class="code-wrapper"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span></code></pre></div></li></ol><h1 id="åˆå§‹åŒ–åšå®¢"><a href="#åˆå§‹åŒ–åšå®¢" class="headerlink" title="åˆå§‹åŒ–åšå®¢"></a>åˆå§‹åŒ–åšå®¢</h1><ol><li><p>åœ¨æŸä½ç½®æ–°å»ºblogsæ–‡ä»¶å¤¹ï¼Œå¦‚<code>ï½/Documents/blogs</code>ï¼Œå¹¶<code>cd</code>å…¥è¯¥æ–‡ä»¶å¤¹</p></li><li><p>åšå®¢åˆå§‹åŒ–ï¼Œè¿™ä¸€æ­¥ä¼šåœ¨<code>blogs</code>ä¸­ç”Ÿæˆä¸€äº›é…ç½®æ–‡ä»¶</p><div class="code-wrapper"><pre><code class="hljs csharp">hexo <span class="hljs-keyword">init</span></code></pre></div></li><li><p>è¿›è¡Œæœ¬åœ°é¢„è§ˆ</p><div class="code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo s</span></code></pre></div></li><li><p>åœ¨<code>http://localhost:4000</code>è¿›è¡Œé¢„è§ˆï¼Œçœ‹åˆ°HEXOçš„<code>hello world</code>ç•Œé¢å³ä¸ºæˆåŠŸ</p></li></ol><h1 id="æ·»åŠ SSH-Keyåˆ°github"><a href="#æ·»åŠ SSH-Keyåˆ°github" class="headerlink" title="æ·»åŠ SSH Keyåˆ°github"></a>æ·»åŠ SSH Keyåˆ°github</h1><ul><li><code>Enter file in which to save the key</code>æ—¶ç›´æ¥æŒ‰å›è½¦ï¼Œå³åœ¨é»˜è®¤ä½ç½®ç”Ÿæˆsshæ–‡ä»¶ï¼Œå³<code>/Users/xxx/.ssh/id_rsa.pub</code></li><li><code>Enter passphrase</code>æ—¶ç›´æ¥å›è½¦å³ä¸éœ€è¦å¯†ç ï¼Œå¦‚è®¾ç½®å¯†ç ï¼Œè¯¥å¯†ç ä¸ºpushæ—¶éœ€è¦çš„å¯†ç ï¼Œä¸githubè´¦æˆ·å¯†ç ç­‰æ— å…³</li></ul><div class="code-wrapper"><pre><code class="hljs gradle">% git config --global user.name <span class="hljs-string">&quot;githubè´¦æˆ·åï¼Œå¤§å°å†™æ•æ„Ÿ&quot;</span>                   % git config --global user.email <span class="hljs-string">&quot;githubè´¦æˆ·é‚®ç®±&quot;</span>% ssh-keygen -t rsa -C <span class="hljs-string">&quot;githubè´¦æˆ·é‚®ç®±&quot;</span>Generating <span class="hljs-keyword">public</span>/<span class="hljs-keyword">private</span> rsa key pair.Enter <span class="hljs-keyword">file</span> in which to save the key (<span class="hljs-regexp">/Users/</span>xxx<span class="hljs-regexp">/.ssh/i</span>d_rsa): Created directory <span class="hljs-string">&#x27;/Users/lihan/.ssh&#x27;</span>.Enter passphrase (empty <span class="hljs-keyword">for</span> no passphrase): Enter same passphrase again: Your identification has been saved in <span class="hljs-regexp">/Users/</span>xxx<span class="hljs-regexp">/.ssh/i</span>d_rsa.Your <span class="hljs-keyword">public</span> key has been saved in <span class="hljs-regexp">/Users/</span>xxx<span class="hljs-regexp">/.ssh/i</span>d_rsa.pub.</code></pre></div><p>ç”Ÿæˆæ–‡ä»¶ä¹‹åï¼Œå¤åˆ¶<code>id_rsa.pub</code>ä¸­çš„å†…å®¹ï¼Œè¿™å°±æ˜¯éœ€è¦çš„keyï¼›ç™»é™†github -&gt; setting -&gt; SSH and GPG keys -&gt; New SSH keyï¼Œå°†keyå¤åˆ¶ç²˜è´´ï¼ŒTitleå¯ä»¥å–åä¸ºè®¾å¤‡å</p><h1 id="æœ¬åœ°åšå®¢å…³è”åˆ°Githubä¸»é¡µ"><a href="#æœ¬åœ°åšå®¢å…³è”åˆ°Githubä¸»é¡µ" class="headerlink" title="æœ¬åœ°åšå®¢å…³è”åˆ°Githubä¸»é¡µ"></a>æœ¬åœ°åšå®¢å…³è”åˆ°Githubä¸»é¡µ</h1><ol><li><p>ç™»å½•Githubå¹¶ä¸”åˆ›å»ºä¸€ä¸ªåå­—ä¸º <code>username.github.io</code> çš„ä»“åº“ï¼Œå¦‚<code>HerloConnell.github.io</code>ï¼Œé€‰æ‹©<code>Public</code></p></li><li><p>ä¿®æ”¹<code>blogs/_config.yml</code>çš„<code>deploy</code>ï¼Œæ³¨æ„è¿™é‡Œä½¿ç”¨çš„æ˜¯åˆ†æ”¯master</p><p><strong>åœ¨8.13å·ä»¥ågitéœ€è¦ä½¿ç”¨ä»¤ç‰Œï¼Œrepoè®¾ç½®ç¨æœ‰æ”¹åŠ¨ï¼Œå…·ä½“è§é”™è¯¯2</strong></p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span>  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/HerloConnell/HerloConnell.github.io.git</span>  <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span></code></pre></div></li><li><p>å°†åšå®¢pushåˆ°GitHub</p><div class="code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo g</span><span class="hljs-attribute">hexo d</span></code></pre></div></li><li><p>åœ¨è¯¥ä»“åº“çš„<code>settings</code>ä¸­é€‰æ‹©<code>GitHub Pages</code>,ç‚¹å‡»<code>heck it out here!</code>ï¼Œæ˜¾ç¤º</p><div class="code-wrapper"><pre><code class="hljs delphi">Your site <span class="hljs-keyword">is</span> <span class="hljs-keyword">published</span> at https:<span class="hljs-comment">//herloconnell.github.io/</span></code></pre></div><p>åœ¨<code>Source</code>å¤„é€‰æ‹©<code>Branch:master</code></p></li><li><p>å†æ¬¡æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œæ­¤æ—¶åº”è¯¥å¯ä»¥åœ¨<code>https://herloconnell.github.io/</code>çœ‹åˆ°Hexoç•Œé¢</p><div class="code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo g</span><span class="hljs-attribute">hexo d</span></code></pre></div></li></ol><h1 id="hexoå¸¸ç”¨å‘½ä»¤"><a href="#hexoå¸¸ç”¨å‘½ä»¤" class="headerlink" title="hexoå¸¸ç”¨å‘½ä»¤"></a>hexoå¸¸ç”¨å‘½ä»¤</h1><div class="code-wrapper"><pre><code class="hljs axapta">hexo n <span class="hljs-string">&quot;åšå®¢åç§°&quot;</span>  =&gt; hexo <span class="hljs-keyword">new</span> <span class="hljs-string">&quot;åšå®¢åç§°&quot;</span>   <span class="hljs-meta">#è¿™ä¸¤ä¸ªéƒ½æ˜¯åˆ›å»ºæ–°æ–‡ç« ï¼Œå‰è€…æ˜¯ç®€å†™æ¨¡å¼</span>hexo p  =&gt; hexo publishhexo g  =&gt; hexo generate  <span class="hljs-meta">#ç”Ÿæˆ</span>hexo s  =&gt; hexo <span class="hljs-keyword">server</span>  <span class="hljs-meta">#å¯åŠ¨æœåŠ¡é¢„è§ˆ</span>hexo d  =&gt; hexo deploy  <span class="hljs-meta">#éƒ¨ç½²  </span>hexo <span class="hljs-keyword">server</span>   <span class="hljs-meta">#Hexo ä¼šç›‘è§†æ–‡ä»¶å˜åŠ¨å¹¶è‡ªåŠ¨æ›´æ–°ï¼Œæ— é¡»é‡å¯æœåŠ¡å™¨ã€‚</span>hexo <span class="hljs-keyword">server</span> -s   <span class="hljs-meta">#é™æ€æ¨¡å¼</span>hexo <span class="hljs-keyword">server</span> -p <span class="hljs-number">5000</span>   <span class="hljs-meta">#æ›´æ”¹ç«¯å£</span>hexo <span class="hljs-keyword">server</span> -i <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.1</span>   <span class="hljs-meta">#è‡ªå®šä¹‰IP</span>hexo clean   <span class="hljs-meta">#æ¸…é™¤ç¼“å­˜ï¼Œç½‘é¡µæ­£å¸¸æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥æ­¤æ¡å‘½ä»¤</span>hexo g   <span class="hljs-meta">#ç”Ÿæˆé™æ€ç½‘é¡µ</span>hexo d   <span class="hljs-meta">#å¼€å§‹éƒ¨ç½²</span></code></pre></div><h1 id="Fluidä¸»é¢˜"><a href="#Fluidä¸»é¢˜" class="headerlink" title="Fluidä¸»é¢˜"></a>Fluidä¸»é¢˜</h1><p><a href="https://hexo.io/themes/">hexoä¸»é¢˜ç½‘ç«™</a>ï¼Œ<a href="https://github.com/fluid-dev/hexo-theme-fluid">Fluid</a></p><ol><li><p>åœ¨<code>/blogs/themes</code>ä¸­</p><div class="code-wrapper"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/fluid-dev/hexo-theme-fluid.git</code></pre></div></li><li><p>å°†<code>hexo-theme-fluid</code>æ–‡ä»¶å¤¹æ›´åä¸º<code>fluid</code>ï¼Œå¹¶ä¿®æ”¹hexoçš„<code>_config.yml</code></p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">theme:</span> <span class="hljs-string">fluid</span></code></pre></div></li><li><p>å‚è€ƒ<code>Fluid</code>ä¸»é¢˜é…ç½®è¿›è¡Œé…ç½®ï¼Œå¦‚é…ç½®<code>Latex</code>æ”¯æŒç­‰ï¼ˆæ³¨ï¼š<code>Latex</code>éœ€è¦åœ¨æ–‡ç«  <a href="https://hexo.io/zh-cn/docs/front-matter">Front-matter (opens new window)</a>é‡ŒæŒ‡å®š <code>math: true</code> æ‰ä¼šåœ¨æ–‡ç« é¡µå¯åŠ¨å…¬å¼è½¬æ¢ï¼Œä»¥ä¾¿åœ¨é¡µé¢ä¸åŒ…å«å…¬å¼æ—¶æé«˜åŠ è½½é€Ÿåº¦ï¼‰</p></li></ol><h1 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h1><p><strong>é”™è¯¯ä¸€ï¼š443</strong></p><div class="code-wrapper"><pre><code class="hljs bash">fatal unable to access https://github.com LibreSSL SSL_connect SSL_ERROR_SYSCALL <span class="hljs-keyword">in</span> connection to github.com 443</code></pre></div><p>ç§‘å­¦ä¸Šç½‘çš„æ¢ä¸ªèŠ‚ç‚¹æˆ–è€…å¤šæäº¤å‡ æ¬¡å³å¯</p><p><strong>é”™è¯¯äºŒï¼š403</strong></p><div class="code-wrapper"><pre><code class="hljs bash">remote: Support <span class="hljs-keyword">for</span> password authentication was removed on August 13, 2021. Please use a personal access token instead.remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ <span class="hljs-keyword">for</span> more information.fatal: unable to access <span class="hljs-string">&#x27;https://github.com/HerloConnell/HerloConnell.github.io.git/&#x27;</span>: The requested URL returned error: 403</code></pre></div><p>2021å¹´8æœˆ13å GitHub ä¸èƒ½å†ç”¨å¯†ç pull/push éœ€è¦ä½¿ç”¨ä»¤ç‰Œã€‚</p><ul><li><p>è¿›å…¥ Github â€”&gt; Settings â€”&gt; Developer settings â€”&gt; Personal access tokensè·å¾—ä¸€ä¸ªtokenï¼Œè¿™é‡Œä½œç”¨åŸŸæˆ‘ç‚¹çš„å…¨é€‰ã€‚</p></li><li><p>ä¿®æ”¹<code>config</code></p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span>  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://&lt;Token&gt;@github.com/HerloConnell/HerloConnell.github.io.git</span>  <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span></code></pre></div></li></ul>]]></content>
    
    
    <categories>
      
      <category>æ‚ä¸ƒæ‚å…«</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
